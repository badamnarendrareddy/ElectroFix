/*! For license information please see main.a89c2ac3.js.LICENSE.txt */
(()=>{var e={4:(e,t,n)=>{"use strict";var r=n(853),i=n(43),s=n(950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),m=Symbol.for("react.consumer"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),x=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var S=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var k=Symbol.for("react.memo_cache_sentinel"),_=Symbol.iterator;function E(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=_&&e[_]||e["@@iterator"])?e:null}var T=Symbol.for("react.client.reference");function C(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===T?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case h:return"Fragment";case u:return"Portal";case f:return"Profiler";case d:return"StrictMode";case y:return"Suspense";case b:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case g:return(e.displayName||"Context")+".Provider";case m:return(e._context.displayName||"Context")+".Consumer";case v:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case w:return null!==(t=e.displayName||null)?t:C(e.type)||"Memo";case x:t=e._payload,e=e._init;try{return C(e(t))}catch(n){}}return null}var N,I,j=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,A=Object.assign;function P(e){if(void 0===N)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);N=t&&t[1]||"",I=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+N+e+I}var R=!1;function D(e,t){if(!e||R)return"";R=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){r=s}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var l=a.split("\n"),c=o.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{R=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?P(n):""}function O(e){switch(e.tag){case 26:case 27:case 5:return P(e.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 15:return e=D(e.type,!1);case 11:return e=D(e.type.render,!1);case 1:return e=D(e.type,!0);default:return""}}function L(e){try{var t="";do{t+=O(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function M(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function V(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function F(e){if(M(e)!==e)throw Error(a(188))}function U(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=U(e)))return t;e=e.sibling}return null}var z=Array.isArray,B=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},H=[],q=-1;function K(e){return{current:e}}function W(e){0>q||(e.current=H[q],H[q]=null,q--)}function G(e,t){q++,H[q]=e.current,e.current=t}var Q=K(null),Y=K(null),X=K(null),J=K(null);function Z(e,t){switch(G(X,t),G(Y,e),G(Q,null),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?Yu(t):0;break;default:if(t=(e=8===e?t.parentNode:t).tagName,e=e.namespaceURI)t=Xu(e=Yu(e),t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(Q),G(Q,t)}function ee(){W(Q),W(Y),W(X)}function te(e){null!==e.memoizedState&&G(J,e);var t=Q.current,n=Xu(t,e.type);t!==n&&(G(Y,e),G(Q,n))}function ne(e){Y.current===e&&(W(Q),W(Y)),J.current===e&&(W(J),Lh._currentValue=$)}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,se=r.unstable_cancelCallback,ae=r.unstable_shouldYield,oe=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,he=r.unstable_UserBlockingPriority,de=r.unstable_NormalPriority,fe=r.unstable_LowPriority,pe=r.unstable_IdlePriority,me=r.log,ge=r.unstable_setDisableYieldValue,ve=null,ye=null;function be(e){if("function"===typeof me&&ge(e),ye&&"function"===typeof ye.setStrictMode)try{ye.setStrictMode(ve,e)}catch(t){}}var we=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(xe(e)/Se|0)|0},xe=Math.log,Se=Math.LN2;var ke=128,_e=4194304;function Ee(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Te(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=e.warmLanes;e=0!==e.finishedLanes;var o=134217727&n;return 0!==o?0!==(n=o&~i)?r=Ee(n):0!==(s&=o)?r=Ee(s):e||0!==(a=o&~a)&&(r=Ee(a)):0!==(o=n&~i)?r=Ee(o):0!==s?r=Ee(s):e||0!==(a=n&~a)&&(r=Ee(a)),0===r?0:0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||32===i&&0!==(4194176&a))?t:r}function Ce(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ne(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ie(){var e=ke;return 0===(4194176&(ke<<=1))&&(ke=128),e}function je(){var e=_e;return 0===(62914560&(_e<<=1))&&(_e=4194304),e}function Ae(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pe(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Re(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-we(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194218&n}function De(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-we(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Oe(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Le(){var e=B.p;return 0!==e?e:void 0===(e=window.event)?32:Xh(e.type)}var Me=Math.random().toString(36).slice(2),Ve="__reactFiber$"+Me,Fe="__reactProps$"+Me,Ue="__reactContainer$"+Me,ze="__reactEvents$"+Me,Be="__reactListeners$"+Me,$e="__reactHandles$"+Me,He="__reactResources$"+Me,qe="__reactMarker$"+Me;function Ke(e){delete e[Ve],delete e[Fe],delete e[ze],delete e[Be],delete e[$e]}function We(e){var t=e[Ve];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ue]||n[Ve]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=lh(e);null!==e;){if(n=e[Ve])return n;e=lh(e)}return t}n=(e=n).parentNode}return null}function Ge(e){if(e=e[Ve]||e[Ue]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Qe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function Ye(e){var t=e[He];return t||(t=e[He]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Xe(e){e[qe]=!0}var Je=new Set,Ze={};function et(e,t){tt(e,t),tt(e+"Capture",t)}function tt(e,t){for(Ze[e]=t,e=0;e<t.length;e++)Je.add(t[e])}var nt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),rt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),it={},st={};function at(e,t,n){if(i=t,re.call(st,i)||!re.call(it,i)&&(rt.test(i)?st[i]=!0:(it[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function ot(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function lt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ht(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function dt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,n,r,i,s,a,o){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?yt(e,a,ct(t)):null!=n?yt(e,a,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=s&&(e.defaultChecked=!!s),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function vt(e,t,n,r,i,s,a,o){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a)}function yt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function xt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(z(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function St(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _t(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||kt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Et(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&_t(e,i,r)}else for(var s in t)t.hasOwnProperty(s)&&_t(e,s,t[s])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function It(e){return Nt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var jt=null;function At(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Pt=null,Rt=null;function Dt(e){var t=Ge(e);if(t&&(e=t.stateNode)){var n=e[Fe]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Fe]||null;if(!i)throw Error(a(90));gt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&dt(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Ot=!1;function Lt(e,t,n){if(Ot)return e(t,n);Ot=!0;try{return e(t)}finally{if(Ot=!1,(null!==Pt||null!==Rt)&&(Vc(),Pt&&(t=Pt,e=Rt,Rt=Pt=null,Dt(t),e)))for(t=0;t<e.length;t++)Dt(e[t])}}function Mt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Fe]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Vt=!1;if(nt)try{var Ft={};Object.defineProperty(Ft,"passive",{get:function(){Vt=!0}}),window.addEventListener("test",Ft,Ft),window.removeEventListener("test",Ft,Ft)}catch(xd){Vt=!1}var Ut=null,zt=null,Bt=null;function $t(){if(Bt)return Bt;var e,t,n=zt,r=n.length,i="value"in Ut?Ut.value:Ut.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Bt=i.slice(e,1<t?1-t:void 0)}function Ht(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function qt(){return!0}function Kt(){return!1}function Wt(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?qt:Kt,this.isPropagationStopped=Kt,this}return A(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=qt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=qt)},persist:function(){},isPersistent:qt}),t}var Gt,Qt,Yt,Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jt=Wt(Xt),Zt=A({},Xt,{view:0,detail:0}),en=Wt(Zt),tn=A({},Zt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yt&&(Yt&&"mousemove"===e.type?(Gt=e.screenX-Yt.screenX,Qt=e.screenY-Yt.screenY):Qt=Gt=0,Yt=e),Gt)},movementY:function(e){return"movementY"in e?e.movementY:Qt}}),nn=Wt(tn),rn=Wt(A({},tn,{dataTransfer:0})),sn=Wt(A({},Zt,{relatedTarget:0})),an=Wt(A({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0})),on=Wt(A({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),ln=Wt(A({},Xt,{data:0})),cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function fn(){return dn}var pn=Wt(A({},Zt,{key:function(e){if(e.key){var t=cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ht(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?un[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fn,charCode:function(e){return"keypress"===e.type?Ht(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ht(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),mn=Wt(A({},tn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),gn=Wt(A({},Zt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fn})),vn=Wt(A({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0})),yn=Wt(A({},tn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),bn=Wt(A({},Xt,{newState:0,oldState:0})),wn=[9,13,27,32],xn=nt&&"CompositionEvent"in window,Sn=null;nt&&"documentMode"in document&&(Sn=document.documentMode);var kn=nt&&"TextEvent"in window&&!Sn,_n=nt&&(!xn||Sn&&8<Sn&&11>=Sn),En=String.fromCharCode(32),Tn=!1;function Cn(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var In=!1;var jn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function An(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!jn[e.type]:"textarea"===t}function Pn(e,t,n,r){Pt?Rt?Rt.push(r):Rt=[r]:Pt=r,0<(t=Lu(t,"onChange")).length&&(n=new Jt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Rn=null,Dn=null;function On(e){Nu(e,0)}function Ln(e){if(dt(Qe(e)))return e}function Mn(e,t){if("change"===e)return t}var Vn=!1;if(nt){var Fn;if(nt){var Un="oninput"in document;if(!Un){var zn=document.createElement("div");zn.setAttribute("oninput","return;"),Un="function"===typeof zn.oninput}Fn=Un}else Fn=!1;Vn=Fn&&(!document.documentMode||9<document.documentMode)}function Bn(){Rn&&(Rn.detachEvent("onpropertychange",$n),Dn=Rn=null)}function $n(e){if("value"===e.propertyName&&Ln(Dn)){var t=[];Pn(t,Dn,e,At(e)),Lt(On,t)}}function Hn(e,t,n){"focusin"===e?(Bn(),Dn=n,(Rn=t).attachEvent("onpropertychange",$n)):"focusout"===e&&Bn()}function qn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ln(Dn)}function Kn(e,t){if("click"===e)return Ln(t)}function Wn(e,t){if("input"===e||"change"===e)return Ln(t)}var Gn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Qn(e,t){if(Gn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!Gn(e[i],t[i]))return!1}return!0}function Yn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xn(e,t){var n,r=Yn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Yn(r)}}function Jn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Jn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Zn(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function er(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function tr(e,t){var n=Zn(t);t=e.focusedElem;var r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&Jn(t.ownerDocument.documentElement,t)){if(null!==r&&er(t))if(e=r.start,void 0===(n=r.end)&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if((n=(e=t.ownerDocument||document)&&e.defaultView||window).getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=Xn(t,s);var a=Xn(t,r);i&&a&&(1!==n.rangeCount||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&((e=e.createRange()).setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}for(e=[],n=t;n=n.parentNode;)1===n.nodeType&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for("function"===typeof t.focus&&t.focus(),t=0;t<e.length;t++)(n=e[t]).element.scrollLeft=n.left,n.element.scrollTop=n.top}}var nr=nt&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,sr=null,ar=!1;function or(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ar||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&er(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},sr&&Qn(sr,r)||(sr=r,0<(r=Lu(ir,"onSelect")).length&&(t=new Jt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},hr={};function dr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in hr)return ur[e]=n[t];return e}nt&&(hr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=dr("animationend"),pr=dr("animationiteration"),mr=dr("animationstart"),gr=dr("transitionrun"),vr=dr("transitionstart"),yr=dr("transitioncancel"),br=dr("transitionend"),wr=new Map,xr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Sr(e,t){wr.set(e,t),et(t,[e])}var kr=[],_r=0,Er=0;function Tr(){for(var e=_r,t=Er=_r=0;t<e;){var n=kr[t];kr[t++]=null;var r=kr[t];kr[t++]=null;var i=kr[t];kr[t++]=null;var s=kr[t];if(kr[t++]=null,null!==r&&null!==i){var a=r.pending;null===a?i.next=i:(i.next=a.next,a.next=i),r.pending=i}0!==s&&jr(n,i,s)}}function Cr(e,t,n,r){kr[_r++]=e,kr[_r++]=t,kr[_r++]=n,kr[_r++]=r,Er|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Nr(e,t,n,r){return Cr(e,t,n,r),Ar(e)}function Ir(e,t){return Cr(e,null,null,t),Ar(e)}function jr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(i=!0)),e=s,s=s.return;i&&null!==t&&3===e.tag&&(s=e.stateNode,i=31-we(n),null===(e=(s=s.hiddenUpdates)[i])?s[i]=[t]:e.push(t),t.lane=536870912|n)}function Ar(e){if(50<Nc)throw Nc=0,Ic=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Pr={},Rr=new WeakMap;function Dr(e,t){if("object"===typeof e&&null!==e){var n=Rr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:L(t)},Rr.set(e,t),t)}return{value:e,source:t,stack:L(t)}}var Or=[],Lr=0,Mr=null,Vr=0,Fr=[],Ur=0,zr=null,Br=1,$r="";function Hr(e,t){Or[Lr++]=Vr,Or[Lr++]=Mr,Mr=e,Vr=t}function qr(e,t,n){Fr[Ur++]=Br,Fr[Ur++]=$r,Fr[Ur++]=zr,zr=e;var r=Br;e=$r;var i=32-we(r)-1;r&=~(1<<i),n+=1;var s=32-we(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Br=1<<32-we(t)+i|n<<i|r,$r=s+e}else Br=1<<s|n<<i|r,$r=e}function Kr(e){null!==e.return&&(Hr(e,1),qr(e,1,0))}function Wr(e){for(;e===Mr;)Mr=Or[--Lr],Or[Lr]=null,Vr=Or[--Lr],Or[Lr]=null;for(;e===zr;)zr=Fr[--Ur],Fr[Ur]=null,$r=Fr[--Ur],Fr[Ur]=null,Br=Fr[--Ur],Fr[Ur]=null}var Gr=null,Qr=null,Yr=!1,Xr=null,Jr=!1,Zr=Error(a(519));function ei(e){throw si(Dr(Error(a(418,"")),e)),Zr}function ti(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ve]=e,t[Fe]=r,n){case"dialog":Iu("cancel",t),Iu("close",t);break;case"iframe":case"object":case"embed":Iu("load",t);break;case"video":case"audio":for(n=0;n<Tu.length;n++)Iu(Tu[n],t);break;case"source":Iu("error",t);break;case"img":case"image":case"link":Iu("error",t),Iu("load",t);break;case"details":Iu("toggle",t);break;case"input":Iu("invalid",t),vt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ht(t);break;case"select":Iu("invalid",t);break;case"textarea":Iu("invalid",t),xt(t,r.value,r.defaultValue,r.children),ht(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Bu(t.textContent,n)?(null!=r.popover&&(Iu("beforetoggle",t),Iu("toggle",t)),null!=r.onScroll&&Iu("scroll",t),null!=r.onScrollEnd&&Iu("scrollend",t),null!=r.onClick&&(t.onclick=$u),t=!0):t=!1,t||ei(e)}function ni(e){for(Gr=e.return;Gr;)switch(Gr.tag){case 3:case 27:return void(Jr=!0);case 5:case 13:return void(Jr=!1);default:Gr=Gr.return}}function ri(e){if(e!==Gr)return!1;if(!Yr)return ni(e),Yr=!0,!1;var t,n=!1;if((t=3!==e.tag&&27!==e.tag)&&((t=5===e.tag)&&(t=!("form"!==(t=e.type)&&"button"!==t)||Ju(e.type,e.memoizedProps)),t=!t),t&&(n=!0),n&&Qr&&ei(e),ni(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){Qr=oh(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}Qr=null}}else Qr=Gr?oh(e.stateNode.nextSibling):null;return!0}function ii(){Qr=Gr=null,Yr=!1}function si(e){null===Xr?Xr=[e]:Xr.push(e)}var ai=Error(a(460)),oi=Error(a(474)),li={then:function(){}};function ci(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ui(){}function hi(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(ui,ui),t=n),t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===ai)throw Error(a(483));throw e;default:if("string"===typeof t.status)t.then(ui,ui);else{if(null!==(e=tc)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===ai)throw Error(a(483));throw e}throw di=t,ai}}var di=null;function fi(){if(null===di)throw Error(a(459));var e=di;return di=null,e}var pi=null,mi=0;function gi(e){var t=mi;return mi+=1,null===pi&&(pi=[]),hi(pi,e,t)}function vi(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function yi(e,t){if(t.$$typeof===l)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bi(e){return(0,e._init)(e._payload)}function wi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Ml(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=33554434,n):r:(t.flags|=33554434,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=33554434),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Bl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n,r){var s=n.type;return s===h?p(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===x&&bi(s)===t.type)?(vi(t=i(t,n.props),n),t.return=e,t):(vi(t=Fl(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function f(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$l(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function p(e,t,n,r,s){return null===t||7!==t.tag?((t=Ul(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Bl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case c:return vi(n=Fl(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case u:return(t=$l(t,e.mode,n)).return=e,t;case x:return m(e,t=(0,t._init)(t._payload),n)}if(z(t)||E(t))return(t=Ul(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return m(e,gi(t),n);if(t.$$typeof===g)return m(e,To(e,t),n);yi(e,t)}return null}function v(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case c:return n.key===i?d(e,t,n,r):null;case u:return n.key===i?f(e,t,n,r):null;case x:return v(e,t,n=(i=n._init)(n._payload),r)}if(z(n)||E(n))return null!==i?null:p(e,t,n,r,null);if("function"===typeof n.then)return v(e,t,gi(n),r);if(n.$$typeof===g)return v(e,t,To(e,n),r);yi(e,n)}return null}function y(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case c:return d(t,e=e.get(null===r.key?n:r.key)||null,r,i);case u:return f(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return y(e,t,n,r=(0,r._init)(r._payload),i)}if(z(r)||E(r))return p(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return y(e,t,n,gi(r),i);if(r.$$typeof===g)return y(e,t,n,To(t,r),i);yi(t,r)}return null}function b(l,d,f,p){if("object"===typeof f&&null!==f&&f.type===h&&null===f.key&&(f=f.props.children),"object"===typeof f&&null!==f){switch(f.$$typeof){case c:e:{for(var w=f.key;null!==d;){if(d.key===w){if((w=f.type)===h){if(7===d.tag){n(l,d.sibling),(p=i(d,f.props.children)).return=l,l=p;break e}}else if(d.elementType===w||"object"===typeof w&&null!==w&&w.$$typeof===x&&bi(w)===d.type){n(l,d.sibling),vi(p=i(d,f.props),f),p.return=l,l=p;break e}n(l,d);break}t(l,d),d=d.sibling}f.type===h?((p=Ul(f.props.children,l.mode,p,f.key)).return=l,l=p):(vi(p=Fl(f.type,f.key,f.props,null,l.mode,p),f),p.return=l,l=p)}return o(l);case u:e:{for(w=f.key;null!==d;){if(d.key===w){if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){n(l,d.sibling),(p=i(d,f.children||[])).return=l,l=p;break e}n(l,d);break}t(l,d),d=d.sibling}(p=$l(f,l.mode,p)).return=l,l=p}return o(l);case x:return b(l,d,f=(w=f._init)(f._payload),p)}if(z(f))return function(i,a,o,l){for(var c=null,u=null,h=a,d=a=0,f=null;null!==h&&d<o.length;d++){h.index>d?(f=h,h=null):f=h.sibling;var p=v(i,h,o[d],l);if(null===p){null===h&&(h=f);break}e&&h&&null===p.alternate&&t(i,h),a=s(p,a,d),null===u?c=p:u.sibling=p,u=p,h=f}if(d===o.length)return n(i,h),Yr&&Hr(i,d),c;if(null===h){for(;d<o.length;d++)null!==(h=m(i,o[d],l))&&(a=s(h,a,d),null===u?c=h:u.sibling=h,u=h);return Yr&&Hr(i,d),c}for(h=r(h);d<o.length;d++)null!==(f=y(h,i,d,o[d],l))&&(e&&null!==f.alternate&&h.delete(null===f.key?d:f.key),a=s(f,a,d),null===u?c=f:u.sibling=f,u=f);return e&&h.forEach((function(e){return t(i,e)})),Yr&&Hr(i,d),c}(l,d,f,p);if(E(f)){if("function"!==typeof(w=E(f)))throw Error(a(150));return function(i,o,l,c){if(null==l)throw Error(a(151));for(var u=null,h=null,d=o,f=o=0,p=null,g=l.next();null!==d&&!g.done;f++,g=l.next()){d.index>f?(p=d,d=null):p=d.sibling;var b=v(i,d,g.value,c);if(null===b){null===d&&(d=p);break}e&&d&&null===b.alternate&&t(i,d),o=s(b,o,f),null===h?u=b:h.sibling=b,h=b,d=p}if(g.done)return n(i,d),Yr&&Hr(i,f),u;if(null===d){for(;!g.done;f++,g=l.next())null!==(g=m(i,g.value,c))&&(o=s(g,o,f),null===h?u=g:h.sibling=g,h=g);return Yr&&Hr(i,f),u}for(d=r(d);!g.done;f++,g=l.next())null!==(g=y(d,i,f,g.value,c))&&(e&&null!==g.alternate&&d.delete(null===g.key?f:g.key),o=s(g,o,f),null===h?u=g:h.sibling=g,h=g);return e&&d.forEach((function(e){return t(i,e)})),Yr&&Hr(i,f),u}(l,d,f=w.call(f),p)}if("function"===typeof f.then)return b(l,d,gi(f),p);if(f.$$typeof===g)return b(l,d,To(l,f),p);yi(l,f)}return"string"===typeof f&&""!==f||"number"===typeof f||"bigint"===typeof f?(f=""+f,null!==d&&6===d.tag?(n(l,d.sibling),(p=i(d,f)).return=l,l=p):(n(l,d),(p=Bl(f,l.mode,p)).return=l,l=p),o(l)):n(l,d)}return function(e,t,n,r){try{mi=0;var i=b(e,t,n,r);return pi=null,i}catch(a){if(a===ai)throw a;var s=Ol(29,a,null,e.mode);return s.lanes=r,s.return=e,s}}}var xi=wi(!0),Si=wi(!1),ki=K(null),_i=K(0);function Ei(e,t){G(_i,e=cc),G(ki,t),cc=e|t.baseLanes}function Ti(){G(_i,cc),G(ki,ki.current)}function Ci(){cc=_i.current,W(ki),W(_i)}var Ni=K(null),Ii=null;function ji(e){var t=e.alternate;G(Di,1&Di.current),G(Ni,e),null===Ii&&(null===t||null!==ki.current||null!==t.memoizedState)&&(Ii=e)}function Ai(e){if(22===e.tag){if(G(Di,Di.current),G(Ni,e),null===Ii){var t=e.alternate;null!==t&&null!==t.memoizedState&&(Ii=e)}}else Pi()}function Pi(){G(Di,Di.current),G(Ni,Ni.current)}function Ri(e){W(Ni),Ii===e&&(Ii=null),W(Di)}var Di=K(0);function Oi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Li="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Mi=r.unstable_scheduleCallback,Vi=r.unstable_NormalPriority,Fi={$$typeof:g,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ui(){return{controller:new Li,data:new Map,refCount:0}}function zi(e){e.refCount--,0===e.refCount&&Mi(Vi,(function(){e.controller.abort()}))}var Bi=null,$i=0,Hi=0,qi=null;function Ki(){if(0===--$i&&null!==Bi){null!==qi&&(qi.status="fulfilled");var e=Bi;Bi=null,Hi=0,qi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Wi=j.S;j.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Bi){var n=Bi=[];$i=0,Hi=xu(),qi={status:"pending",value:void 0,then:function(e){n.push(e)}}}$i++,t.then(Ki,Ki)}(0,t),null!==Wi&&Wi(e,t)};var Gi=K(null);function Qi(){var e=Gi.current;return null!==e?e:tc.pooledCache}function Yi(e,t){G(Gi,null===t?Gi.current:t.pool)}function Xi(){var e=Qi();return null===e?null:{parent:Fi._currentValue,pool:e}}var Ji=0,Zi=null,es=null,ts=null,ns=!1,rs=!1,is=!1,ss=0,as=0,os=null,ls=0;function cs(){throw Error(a(321))}function us(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Gn(e[n],t[n]))return!1;return!0}function hs(e,t,n,r,i,s){return Ji=s,Zi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,j.H=null===e||null===e.memoizedState?Ea:Ta,is=!1,s=n(r,i),is=!1,rs&&(s=fs(t,n,r,i)),ds(e),s}function ds(e){j.H=_a;var t=null!==es&&null!==es.next;if(Ji=0,ts=es=Zi=null,ns=!1,as=0,os=null,t)throw Error(a(300));null===e||$a||null!==(e=e.dependencies)&&ko(e)&&($a=!0)}function fs(e,t,n,r){Zi=e;var i=0;do{if(rs&&(os=null),as=0,rs=!1,25<=i)throw Error(a(301));if(i+=1,ts=es=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}j.H=Ca,s=t(n,r)}while(rs);return s}function ps(){var e=j.H,t=e.useState()[0];return t="function"===typeof t.then?ws(t):t,e=e.useState()[0],(null!==es?es.memoizedState:null)!==e&&(Zi.flags|=1024),t}function ms(){var e=0!==ss;return ss=0,e}function gs(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function vs(e){if(ns){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ns=!1}Ji=0,ts=es=Zi=null,rs=!1,as=ss=0,os=null}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ts?Zi.memoizedState=ts=e:ts=ts.next=e,ts}function bs(){if(null===es){var e=Zi.alternate;e=null!==e?e.memoizedState:null}else e=es.next;var t=null===ts?Zi.memoizedState:ts.next;if(null!==t)ts=t,es=e;else{if(null===e){if(null===Zi.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(es=e).memoizedState,baseState:es.baseState,baseQueue:es.baseQueue,queue:es.queue,next:null},null===ts?Zi.memoizedState=ts=e:ts=ts.next=e}return ts}function ws(e){var t=as;return as+=1,null===os&&(os=[]),e=hi(os,e,t),t=Zi,null===(null===ts?t.memoizedState:ts.next)&&(t=t.alternate,j.H=null===t||null===t.memoizedState?Ea:Ta),e}function xs(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return ws(e);if(e.$$typeof===g)return Eo(e)}throw Error(a(438,String(e)))}function Ss(e){var t=null,n=Zi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Zi.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Zi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=k;return t.index++,n}function ks(e,t){return"function"===typeof t?t(e):t}function _s(e){return Es(bs(),es,e)}function Es(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var i=e.baseQueue,s=r.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}t.baseQueue=i=s,r.pending=null}if(s=e.baseState,null===i)e.memoizedState=s;else{var l=o=null,c=null,u=t=i.next,h=!1;do{var d=-536870913&u.lane;if(d!==u.lane?(rc&d)===d:(Ji&d)===d){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===Hi&&(h=!0);else{if((Ji&f)===f){u=u.next,f===Hi&&(h=!0);continue}d={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=d,o=s):c=c.next=d,Zi.lanes|=f,hc|=f}d=u.action,is&&n(s,d),s=u.hasEagerState?u.eagerState:n(s,d)}else f={lane:d,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=s):c=c.next=f,Zi.lanes|=d,hc|=d;u=u.next}while(null!==u&&u!==t);if(null===c?o=s:c.next=l,!Gn(s,e.memoizedState)&&($a=!0,h&&null!==(n=qi)))throw n;e.memoizedState=s,e.baseState=o,e.baseQueue=c,r.lastRenderedState=s}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ts(e){var t=bs(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);Gn(s,t.memoizedState)||($a=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Cs(e,t,n){var r=Zi,i=bs(),s=Yr;if(s){if(void 0===n)throw Error(a(407));n=n()}else n=t();var o=!Gn((es||i).memoizedState,n);if(o&&(i.memoizedState=n,$a=!0),i=i.queue,Js(js.bind(null,r,i,e),[e]),i.getSnapshot!==t||o||null!==ts&&1&ts.memoizedState.tag){if(r.flags|=2048,Ws(9,Is.bind(null,r,i,n,t),{destroy:void 0},null),null===tc)throw Error(a(349));s||0!==(60&Ji)||Ns(r,t,n)}return n}function Ns(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Zi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Zi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Is(e,t,n,r){t.value=n,t.getSnapshot=r,As(t)&&Ps(e)}function js(e,t,n){return n((function(){As(t)&&Ps(e)}))}function As(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Gn(e,n)}catch(r){return!0}}function Ps(e){var t=Ir(e,2);null!==t&&Pc(t,e,2)}function Rs(e){var t=ys();if("function"===typeof e){var n=e;if(e=n(),is){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:e},t}function Ds(e,t,n,r){return e.baseState=n,Es(e,es,"function"===typeof r?r:ks)}function Os(e,t,n,r,i){if(xa(e))throw Error(a(485));if(null!==(e=t.action)){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==j.T?n(!0):s.isTransition=!1,r(s),null===(n=t.pending)?(s.next=t.pending=s,Ls(t,s)):(s.next=n.next,t.pending=n.next=s)}}function Ls(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var s=j.T,a={};j.T=a;try{var o=n(i,r),l=j.S;null!==l&&l(a,o),Ms(e,t,o)}catch(c){Fs(e,t,c)}finally{j.T=s}}else try{Ms(e,t,s=n(i,r))}catch(u){Fs(e,t,u)}}function Ms(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){Vs(e,t,n)}),(function(n){return Fs(e,t,n)})):Vs(e,t,n)}function Vs(e,t,n){t.status="fulfilled",t.value=n,Us(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Ls(e,n)))}function Fs(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Us(t),t=t.next}while(t!==r)}e.action=null}function Us(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function zs(e,t){return t}function Bs(e,t){if(Yr){var n=tc.formState;if(null!==n){e:{var r=Zi;if(Yr){if(Qr){t:{for(var i=Qr,s=Jr;8!==i.nodeType;){if(!s){i=null;break t}if(null===(i=oh(i.nextSibling))){i=null;break t}}i="F!"===(s=i.data)||"F"===s?i:null}if(i){Qr=oh(i.nextSibling),r="F!"===i.data;break e}}ei(r)}r=!1}r&&(t=n[0])}}return(n=ys()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:t},n.queue=r,n=ya.bind(null,Zi,r),r.dispatch=n,r=Rs(!1),s=wa.bind(null,Zi,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=ys()).queue=i,n=Os.bind(null,Zi,i,s,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function $s(e){return Hs(bs(),es,e)}function Hs(e,t,n){t=Es(e,t,zs)[0],e=_s(ks)[0],t="object"===typeof t&&null!==t&&"function"===typeof t.then?ws(t):t;var r=bs(),i=r.queue,s=i.dispatch;return n!==r.memoizedState&&(Zi.flags|=2048,Ws(9,qs.bind(null,i,n),{destroy:void 0},null)),[t,s,e]}function qs(e,t){e.action=t}function Ks(e){var t=bs(),n=es;if(null!==n)return Hs(t,n,e);bs(),t=t.memoizedState;var r=(n=bs()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Ws(e,t,n,r){return e={tag:e,create:t,inst:n,deps:r,next:null},null===(t=Zi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Zi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Gs(){return bs().memoizedState}function Qs(e,t,n,r){var i=ys();Zi.flags|=e,i.memoizedState=Ws(1|t,n,{destroy:void 0},void 0===r?null:r)}function Ys(e,t,n,r){var i=bs();r=void 0===r?null:r;var s=i.memoizedState.inst;null!==es&&null!==r&&us(r,es.memoizedState.deps)?i.memoizedState=Ws(t,n,s,r):(Zi.flags|=e,i.memoizedState=Ws(1|t,n,s,r))}function Xs(e,t){Qs(8390656,8,e,t)}function Js(e,t){Ys(2048,8,e,t)}function Zs(e,t){return Ys(4,2,e,t)}function ea(e,t){return Ys(4,4,e,t)}function ta(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function na(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Ys(4,4,ta.bind(null,t,e),n)}function ra(){}function ia(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&us(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function sa(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&us(t,r[1]))return r[0];if(r=e(),is){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function aa(e,t,n){return void 0===n||0!==(1073741824&Ji)?e.memoizedState=t:(e.memoizedState=n,e=Ac(),Zi.lanes|=e,hc|=e,n)}function oa(e,t,n,r){return Gn(n,t)?n:null!==ki.current?(e=aa(e,n,r),Gn(e,t)||($a=!0),e):0===(42&Ji)?($a=!0,e.memoizedState=n):(e=Ac(),Zi.lanes|=e,hc|=e,t)}function la(e,t,n,r,i){var s=B.p;B.p=0!==s&&8>s?s:8;var a=j.T,o={};j.T=o,wa(e,!1,t,n);try{var l=i(),c=j.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)ba(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(l,r),jc());else ba(e,t,r,jc())}catch(u){ba(e,t,{then:function(){},status:"rejected",reason:u},jc())}finally{B.p=s,j.T=a}}function ca(){}function ua(e,t,n,r){if(5!==e.tag)throw Error(a(476));var i=ha(e).queue;la(e,i,t,$,null===n?ca:function(){return da(e),n(r)})}function ha(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:$},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function da(e){ba(e,ha(e).next.queue,{},jc())}function fa(){return Eo(Lh)}function pa(){return bs().memoizedState}function ma(){return bs().memoizedState}function ga(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=jc(),r=Po(t,e=Ao(n),n);return null!==r&&(Pc(r,t,n),Ro(r,t,n)),t={cache:Ui()},void(e.payload=t)}t=t.return}}function va(e,t,n){var r=jc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},xa(e)?Sa(t,n):null!==(n=Nr(e,t,n,r))&&(Pc(n,e,r),ka(n,t,r))}function ya(e,t,n){ba(e,t,n,jc())}function ba(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(xa(e))Sa(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Gn(o,a))return Cr(e,t,i,0),null===tc&&Tr(),!1}catch(l){}if(null!==(n=Nr(e,t,i,r)))return Pc(n,e,r),ka(n,t,r),!0}return!1}function wa(e,t,n,r){if(r={lane:2,revertLane:xu(),action:r,hasEagerState:!1,eagerState:null,next:null},xa(e)){if(t)throw Error(a(479))}else null!==(t=Nr(e,n,r,2))&&Pc(t,e,2)}function xa(e){var t=e.alternate;return e===Zi||null!==t&&t===Zi}function Sa(e,t){rs=ns=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ka(e,t,n){if(0!==(4194176&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,De(e,n)}}var _a={readContext:Eo,use:xs,useCallback:cs,useContext:cs,useEffect:cs,useImperativeHandle:cs,useLayoutEffect:cs,useInsertionEffect:cs,useMemo:cs,useReducer:cs,useRef:cs,useState:cs,useDebugValue:cs,useDeferredValue:cs,useTransition:cs,useSyncExternalStore:cs,useId:cs};_a.useCacheRefresh=cs,_a.useMemoCache=cs,_a.useHostTransitionStatus=cs,_a.useFormState=cs,_a.useActionState=cs,_a.useOptimistic=cs;var Ea={readContext:Eo,use:xs,useCallback:function(e,t){return ys().memoizedState=[e,void 0===t?null:t],e},useContext:Eo,useEffect:Xs,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Qs(4194308,4,ta.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Qs(4194308,4,e,t)},useInsertionEffect:function(e,t){Qs(4,2,e,t)},useMemo:function(e,t){var n=ys();t=void 0===t?null:t;var r=e();if(is){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=ys();if(void 0!==n){var i=n(t);if(is){be(!0);try{n(t)}finally{be(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=va.bind(null,Zi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ys().memoizedState=e},useState:function(e){var t=(e=Rs(e)).queue,n=ya.bind(null,Zi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ra,useDeferredValue:function(e,t){return aa(ys(),e,t)},useTransition:function(){var e=Rs(!1);return e=la.bind(null,Zi,e.queue,!0,!1),ys().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Zi,i=ys();if(Yr){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===tc)throw Error(a(349));0!==(60&rc)||Ns(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Xs(js.bind(null,r,s,e),[e]),r.flags|=2048,Ws(9,Is.bind(null,r,s,n,t),{destroy:void 0},null),n},useId:function(){var e=ys(),t=tc.identifierPrefix;if(Yr){var n=$r;t=":"+t+"R"+(n=(Br&~(1<<32-we(Br)-1)).toString(32)+n),0<(n=ss++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ls++).toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return ys().memoizedState=ga.bind(null,Zi)}};Ea.useMemoCache=Ss,Ea.useHostTransitionStatus=fa,Ea.useFormState=Bs,Ea.useActionState=Bs,Ea.useOptimistic=function(e){var t=ys();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=wa.bind(null,Zi,!0,n),n.dispatch=t,[e,t]};var Ta={readContext:Eo,use:xs,useCallback:ia,useContext:Eo,useEffect:Js,useImperativeHandle:na,useInsertionEffect:Zs,useLayoutEffect:ea,useMemo:sa,useReducer:_s,useRef:Gs,useState:function(){return _s(ks)},useDebugValue:ra,useDeferredValue:function(e,t){return oa(bs(),es.memoizedState,e,t)},useTransition:function(){var e=_s(ks)[0],t=bs().memoizedState;return["boolean"===typeof e?e:ws(e),t]},useSyncExternalStore:Cs,useId:pa};Ta.useCacheRefresh=ma,Ta.useMemoCache=Ss,Ta.useHostTransitionStatus=fa,Ta.useFormState=$s,Ta.useActionState=$s,Ta.useOptimistic=function(e,t){return Ds(bs(),0,e,t)};var Ca={readContext:Eo,use:xs,useCallback:ia,useContext:Eo,useEffect:Js,useImperativeHandle:na,useInsertionEffect:Zs,useLayoutEffect:ea,useMemo:sa,useReducer:Ts,useRef:Gs,useState:function(){return Ts(ks)},useDebugValue:ra,useDeferredValue:function(e,t){var n=bs();return null===es?aa(n,e,t):oa(n,es.memoizedState,e,t)},useTransition:function(){var e=Ts(ks)[0],t=bs().memoizedState;return["boolean"===typeof e?e:ws(e),t]},useSyncExternalStore:Cs,useId:pa};function Na(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:A({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}Ca.useCacheRefresh=ma,Ca.useMemoCache=Ss,Ca.useHostTransitionStatus=fa,Ca.useFormState=Ks,Ca.useActionState=Ks,Ca.useOptimistic=function(e,t){var n=bs();return null!==es?Ds(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])};var Ia={isMounted:function(e){return!!(e=e._reactInternals)&&M(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=jc(),i=Ao(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Po(e,i,r))&&(Pc(t,e,r),Ro(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=jc(),i=Ao(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Po(e,i,r))&&(Pc(t,e,r),Ro(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=jc(),r=Ao(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Po(e,r,n))&&(Pc(t,e,n),Ro(t,e,n))}};function ja(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!Qn(n,r)||!Qn(i,s))}function Aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ia.enqueueReplaceState(t,t.state,null)}function Pa(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=A({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var Ra="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function Da(e){Ra(e)}function Oa(e){console.error(e)}function La(e){Ra(e)}function Ma(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function Va(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function Fa(e,t,n){return(n=Ao(n)).tag=3,n.payload={element:null},n.callback=function(){Ma(e,t)},n}function Ua(e){return(e=Ao(e)).tag=3,e}function za(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var s=r.value;e.payload=function(){return i(s)},e.callback=function(){Va(t,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){Va(t,n,r),"function"!==typeof i&&(null===Sc?Sc=new Set([this]):Sc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ba=Error(a(461)),$a=!1;function Ha(e,t,n,r){t.child=null===e?Si(t,null,n,r):xi(t,e.child,n,r)}function qa(e,t,n,r,i){n=n.render;var s=t.ref;if("ref"in r){var a={};for(var o in r)"ref"!==o&&(a[o]=r[o])}else a=r;return _o(t),r=hs(e,t,n,a,s,i),o=ms(),null===e||$a?(Yr&&o&&Kr(t),t.flags|=1,Ha(e,t,r,i),t.child):(gs(e,t,i),ho(e,t,i))}function Ka(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Ll(s)||void 0!==s.defaultProps||null!==n.compare?((e=Fl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Wa(e,t,s,r,i))}if(s=e.child,!fo(e,i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:Qn)(a,r)&&e.ref===t.ref)return ho(e,t,i)}return t.flags|=1,(e=Ml(s,r)).ref=t.ref,e.return=t,t.child=e}function Wa(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(Qn(s,r)&&e.ref===t.ref){if($a=!1,t.pendingProps=r=s,!fo(e,i))return t.lanes=e.lanes,ho(e,t,i);0!==(131072&e.flags)&&($a=!0)}}return Xa(e,t,n,r,i)}function Ga(e,t,n){var r=t.pendingProps,i=r.children,s=0!==(2&t.stateNode._pendingVisibility),a=null!==e?e.memoizedState:null;if(Ya(e,t),"hidden"===r.mode||s){if(0!==(128&t.flags)){if(r=null!==a?a.baseLanes|n:n,null!==e){for(i=t.child=e.child,s=0;null!==i;)s=s|i.lanes|i.childLanes,i=i.sibling;t.childLanes=s&~r}else t.childLanes=0,t.child=null;return Qa(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Qa(e,t,null!==a?a.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Yi(0,null!==a?a.cachePool:null),null!==a?Ei(t,a):Ti(),Ai(t)}else null!==a?(Yi(0,a.cachePool),Ei(t,a),Pi(),t.memoizedState=null):(null!==e&&Yi(0,null),Ti(),Pi());return Ha(e,t,i,n),t.child}function Qa(e,t,n,r){var i=Qi();return i=null===i?null:{parent:Fi._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Yi(0,null),Ti(),Ai(t),null!==e&&So(e,t,r,!0),null}function Ya(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=2097664);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=2097664)}}function Xa(e,t,n,r,i){return _o(t),n=hs(e,t,n,r,void 0,i),r=ms(),null===e||$a?(Yr&&r&&Kr(t),t.flags|=1,Ha(e,t,n,i),t.child):(gs(e,t,i),ho(e,t,i))}function Ja(e,t,n,r,i,s){return _o(t),t.updateQueue=null,n=fs(t,r,n,i),ds(e),r=ms(),null===e||$a?(Yr&&r&&Kr(t),t.flags|=1,Ha(e,t,n,s),t.child):(gs(e,t,s),ho(e,t,s))}function Za(e,t,n,r,i){if(_o(t),null===t.stateNode){var s=Pr,a=n.contextType;"object"===typeof a&&null!==a&&(s=Eo(a)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=Ia,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},Io(t),a=n.contextType,s.context="object"===typeof a&&null!==a?Eo(a):Pr,s.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(Na(t,n,a,r),s.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(a=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),a!==s.state&&Ia.enqueueReplaceState(s,s.state,null),Mo(t,r,s,i),Lo(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var o=t.memoizedProps,l=Pa(n,o);s.props=l;var c=s.context,u=n.contextType;a=Pr,"object"===typeof u&&null!==u&&(a=Eo(u));var h=n.getDerivedStateFromProps;u="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o||c!==a)&&Aa(t,s,r,a),No=!1;var d=t.memoizedState;s.state=d,Mo(t,r,s,i),Lo(),c=t.memoizedState,o||d!==c||No?("function"===typeof h&&(Na(t,n,h,r),c=t.memoizedState),(l=No||ja(t,n,l,r,d,c,a))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=a,r=l):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,jo(e,t),u=Pa(n,a=t.memoizedProps),s.props=u,h=t.pendingProps,d=s.context,c=n.contextType,l=Pr,"object"===typeof c&&null!==c&&(l=Eo(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==h||d!==l)&&Aa(t,s,r,l),No=!1,d=t.memoizedState,s.state=d,Mo(t,r,s,i),Lo();var f=t.memoizedState;a!==h||d!==f||No||null!==e&&null!==e.dependencies&&ko(e.dependencies)?("function"===typeof o&&(Na(t,n,o,r),f=t.memoizedState),(u=No||ja(t,n,u,r,d,f,l)||null!==e&&null!==e.dependencies&&ko(e.dependencies))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,Ya(e,t),r=0!==(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=xi(t,e.child,null,i),t.child=xi(t,null,n,i)):Ha(e,t,n,i),t.memoizedState=s.state,e=t.child):e=ho(e,t,i),e}function eo(e,t,n,r){return ii(),t.flags|=256,Ha(e,t,n,r),t.child}var to={dehydrated:null,treeContext:null,retryLane:0};function no(e){return{baseLanes:e,cachePool:Xi()}}function ro(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=pc),e}function io(e,t,n){var r,i=t.pendingProps,s=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Di.current)),r&&(s=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(Yr){if(s?ji(t):Pi(),Yr){var l,c=Qr;if(l=c){e:{for(l=c,c=Jr;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=oh(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==zr?{id:Br,overflow:$r}:null,retryLane:536870912},(l=Ol(18,null,null,0)).stateNode=c,l.return=t,t.child=l,Gr=t,Qr=null,l=!0):l=!1}l||ei(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return"$!"===c.data?t.lanes=16:t.lanes=536870912,null;Ri(t)}return c=i.children,i=i.fallback,s?(Pi(),c=ao({mode:"hidden",children:c},s=t.mode),i=Ul(i,s,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(s=t.child).memoizedState=no(n),s.childLanes=ro(e,r,n),t.memoizedState=to,i):(ji(t),so(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(ji(t),t.flags&=-257,t=oo(e,t,n)):null!==t.memoizedState?(Pi(),t.child=e.child,t.flags|=128,t=null):(Pi(),s=i.fallback,c=t.mode,i=ao({mode:"visible",children:i.children},c),(s=Ul(s,c,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,xi(t,e.child,null,n),(i=t.child).memoizedState=no(n),i.childLanes=ro(e,r,n),t.memoizedState=to,t=s);else if(ji(t),"$!"===c.data){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(a(419))).stack="",i.digest=r,si({value:i,source:null,stack:null}),t=oo(e,t,n)}else if($a||So(e,t,n,!1),r=0!==(n&e.childLanes),$a||r){if(null!==(r=tc)){if(0!==(42&(i=n&-n)))i=1;else switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=64;break;case 268435456:i=134217728;break;default:i=0}if(0!==(i=0!==(i&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane)throw l.retryLane=i,Ir(e,i),Pc(r,e,i),Ba}"$?"===c.data||Hc(),t=oo(e,t,n)}else"$?"===c.data?(t.flags|=128,t.child=e.child,t=ou.bind(null,e),c._reactRetry=t,t=null):(e=l.treeContext,Qr=oh(c.nextSibling),Gr=t,Yr=!0,Xr=null,Jr=!1,null!==e&&(Fr[Ur++]=Br,Fr[Ur++]=$r,Fr[Ur++]=zr,Br=e.id,$r=e.overflow,zr=t),(t=so(t,i.children)).flags|=4096);return t}return s?(Pi(),s=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=Ml(l,{mode:"hidden",children:i.children})).subtreeFlags=31457280&l.subtreeFlags,null!==u?s=Ml(u,s):(s=Ul(s,c,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,null===(c=e.child.memoizedState)?c=no(n):(null!==(l=c.cachePool)?(u=Fi._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Xi(),c={baseLanes:c.baseLanes|n,cachePool:l}),s.memoizedState=c,s.childLanes=ro(e,r,n),t.memoizedState=to,i):(ji(t),e=(n=e.child).sibling,(n=Ml(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function so(e,t){return(t=ao({mode:"visible",children:t},e.mode)).return=e,e.child=t}function ao(e,t){return zl(e,t,0,null)}function oo(e,t,n){return xi(t,e.child,null,n),(e=so(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function lo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),wo(e.return,t,n)}function co(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function uo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Ha(e,t,r.children,n),0!==(2&(r=Di.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&lo(e,n,t);else if(19===e.tag)lo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(G(Di,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Oi(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),co(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Oi(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}co(t,!0,n,null,s);break;case"together":co(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ho(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),hc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(So(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ml(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ml(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function fo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!ko(e))}function po(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)$a=!0;else{if(!fo(e,n)&&0===(128&t.flags))return $a=!1,function(e,t,n){switch(t.tag){case 3:Z(t,t.stateNode.containerInfo),yo(t,Fi,e.memoizedState.cache),ii();break;case 27:case 5:te(t);break;case 4:Z(t,t.stateNode.containerInfo);break;case 10:yo(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(ji(t),t.flags|=128,null):0!==(n&t.child.childLanes)?io(e,t,n):(ji(t),null!==(e=ho(e,t,n))?e.sibling:null);ji(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(So(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return uo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),G(Di,Di.current),r)break;return null;case 22:case 23:return t.lanes=0,Ga(e,t,n);case 24:yo(t,Fi,e.memoizedState.cache)}return ho(e,t,n)}(e,t,n);$a=0!==(131072&e.flags)}else $a=!1,Yr&&0!==(1048576&t.flags)&&qr(t,Vr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===v){t.tag=11,t=qa(null,t,r,e,n);break e}if(i===w){t.tag=14,t=Ka(null,t,r,e,n);break e}}throw t=C(r)||r,Error(a(306,t,""))}Ll(r)?(e=Pa(r,e),t.tag=1,t=Za(null,t,r,e,n)):(t.tag=0,t=Xa(null,t,r,e,n))}return t;case 0:return Xa(e,t,t.type,t.pendingProps,n);case 1:return Za(e,t,r=t.type,i=Pa(r,t.pendingProps),n);case 3:e:{if(Z(t,t.stateNode.containerInfo),null===e)throw Error(a(387));var s=t.pendingProps;r=(i=t.memoizedState).element,jo(e,t),Mo(t,s,null,n);var o=t.memoizedState;if(s=o.cache,yo(t,Fi,s),s!==i.cache&&xo(t,[Fi],n,!0),Lo(),s=o.element,i.isDehydrated){if(i={element:s,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=eo(e,t,s,n);break e}if(s!==r){si(r=Dr(Error(a(424)),t)),t=eo(e,t,s,n);break e}for(Qr=oh(t.stateNode.containerInfo.firstChild),Gr=t,Yr=!0,Xr=null,Jr=!0,n=Si(t,null,s,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ii(),s===r){t=ho(e,t,n);break e}Ha(e,t,s,n)}t=t.child}return t;case 26:return Ya(e,t),null===e?(n=gh(t.type,null,t.pendingProps,null))?t.memoizedState=n:Yr||(n=t.type,e=t.pendingProps,(r=Qu(X.current).createElement(n))[Ve]=t,r[Fe]=e,Ku(r,n,e),Xe(r),t.stateNode=r):t.memoizedState=gh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return te(t),null===e&&Yr&&(r=t.stateNode=ch(t.type,t.pendingProps,X.current),Gr=t,Jr=!0,Qr=oh(r.firstChild)),r=t.pendingProps.children,null!==e||Yr?Ha(e,t,r,n):t.child=xi(t,null,r,n),Ya(e,t),t.child;case 5:return null===e&&Yr&&((i=r=Qr)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[qe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(null==i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===s)return e}if(null===(e=oh(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,Jr))?(t.stateNode=r,Gr=t,Qr=oh(r.firstChild),Jr=!1,i=!0):i=!1),i||ei(t)),te(t),i=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,r=s.children,Ju(i,s)?r=null:null!==o&&Ju(i,o)&&(t.flags|=32),null!==t.memoizedState&&(i=hs(e,t,ps,null,null,n),Lh._currentValue=i),Ya(e,t),Ha(e,t,r,n),t.child;case 6:return null===e&&Yr&&((e=n=Qr)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=oh(e.nextSibling)))return null}return e}(n,t.pendingProps,Jr))?(t.stateNode=n,Gr=t,Qr=null,e=!0):e=!1),e||ei(t)),null;case 13:return io(e,t,n);case 4:return Z(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xi(t,null,r,n):Ha(e,t,r,n),t.child;case 11:return qa(e,t,t.type,t.pendingProps,n);case 7:return Ha(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ha(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,yo(t,t.type,r.value),Ha(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,_o(t),r=r(i=Eo(i)),t.flags|=1,Ha(e,t,r,n),t.child;case 14:return Ka(e,t,t.type,t.pendingProps,n);case 15:return Wa(e,t,t.type,t.pendingProps,n);case 19:return uo(e,t,n);case 22:return Ga(e,t,n);case 24:return _o(t),r=Eo(Fi),null===e?(null===(i=Qi())&&(i=tc,s=Ui(),i.pooledCache=s,s.refCount++,null!==s&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:r,cache:i},Io(t),yo(t,Fi,i)):(0!==(e.lanes&n)&&(jo(e,t),Mo(t,null,null,n),Lo()),i=e.memoizedState,s=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),yo(t,Fi,r)):(r=s.cache,yo(t,Fi,r),r!==i.cache&&xo(t,[Fi],n,!0))),Ha(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}var mo=K(null),go=null,vo=null;function yo(e,t,n){G(mo,t._currentValue),t._currentValue=n}function bo(e){e._currentValue=mo.current,W(mo)}function wo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xo(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var s=i.dependencies;if(null!==s){var o=i.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),wo(s.return,n,e),r||(o=null);break e}s=l.next}}else if(18===i.tag){if(null===(o=i.return))throw Error(a(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),wo(o,n,e),o=null}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}}function So(e,t,n,r){e=null;for(var i=t,s=!1;null!==i;){if(!s)if(0!==(524288&i.flags))s=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var o=i.alternate;if(null===o)throw Error(a(387));if(null!==(o=o.memoizedProps)){var l=i.type;Gn(i.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(i===J.current){if(null===(o=i.alternate))throw Error(a(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Lh):e=[Lh])}i=i.return}null!==e&&xo(t,e,n,r),t.flags|=262144}function ko(e){for(e=e.firstContext;null!==e;){if(!Gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _o(e){go=e,vo=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Eo(e){return Co(go,e)}function To(e,t){return null===go&&_o(e),Co(e,t)}function Co(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===vo){if(null===e)throw Error(a(308));vo=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vo=vo.next=t;return n}var No=!1;function Io(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ao(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Po(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&ec)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Ar(e),jr(e,null,n),t}return Cr(e,r,t,n),Ar(e)}function Ro(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194176&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,De(e,n)}}function Do(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Oo=!1;function Lo(){if(Oo){if(null!==qi)throw qi}}function Mo(e,t,n,r){Oo=!1;var i=e.updateQueue;No=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(a=0,u=c=l=null,o=s;;){var d=-536870913&o.lane,f=d!==o.lane;if(f?(rc&d)===d:(r&d)===d){0!==d&&d===Hi&&(Oo=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var p=e,m=o;d=t;var g=n;switch(m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(g,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(g,h,d):p)||void 0===d)break e;h=A({},h,d);break e;case 2:No=!0}}null!==(d=o.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=i.callbacks)?i.callbacks=[d]:f.push(d))}else f={lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,a|=d;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(f=o).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===s&&(i.shared.lanes=0),hc|=a,e.lanes=a,e.memoizedState=h}}function Vo(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function Fo(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Vo(n[e],t)}function Uo(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var s=n.create,a=n.inst;r=s(),a.destroy=r}n=n.next}while(n!==i)}}catch(o){ru(t,t.return,o)}}function zo(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var s=i.next;r=s;do{if((r.tag&e)===e){var a=r.inst,o=a.destroy;if(void 0!==o){a.destroy=void 0,i=t;var l=n;try{o()}catch(c){ru(i,l,c)}}}r=r.next}while(r!==s)}}catch(c){ru(t,t.return,c)}}function Bo(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Fo(t,n)}catch(r){ru(e,e.return,r)}}}function $o(e,t,n){n.props=Pa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){ru(e,t,r)}}function Ho(e,t){try{var n=e.ref;if(null!==n){var r=e.stateNode;switch(e.tag){case 26:case 27:case 5:var i=r;break;default:i=r}"function"===typeof n?e.refCleanup=n(i):n.current=i}}catch(s){ru(e,t,s)}}function qo(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){ru(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(s){ru(e,t,s)}else n.current=null}function Ko(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){ru(e,e.return,i)}}function Wo(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,o=null,l=null,c=null,u=null,h=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&null!=d)switch(p){case"checked":case"value":break;case"defaultValue":c=d;default:r.hasOwnProperty(p)||Hu(e,t,p,null,r,d)}}for(var f in r){var p=r[f];if(d=n[f],r.hasOwnProperty(f)&&(null!=p||null!=d))switch(f){case"type":s=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":h=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:p!==d&&Hu(e,t,f,p,r,d)}}return void gt(e,o,l,c,u,h,s,i);case"select":for(s in p=o=l=f=null,n)if(c=n[s],n.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(s)||Hu(e,t,s,null,r,c)}for(i in r)if(s=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=s||null!=c))switch(i){case"value":f=s;break;case"defaultValue":l=s;break;case"multiple":o=s;default:s!==c&&Hu(e,t,i,s,r,c)}return t=l,n=o,r=p,void(null!=f?bt(e,!!n,f,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Hu(e,t,l,null,r,i)}for(o in r)if(i=r[o],s=n[o],r.hasOwnProperty(o)&&(null!=i||null!=s))switch(o){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(a(91));break;default:i!==s&&Hu(e,t,o,i,r,s)}return void wt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Hu(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Hu(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&Hu(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:Hu(e,t,u,f,r,p)}return;default:if(Tt(t)){for(var v in n)f=n[v],n.hasOwnProperty(v)&&void 0!==f&&!r.hasOwnProperty(v)&&qu(e,t,v,void 0,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||void 0===f&&void 0===p||qu(e,t,h,f,r,p);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!r.hasOwnProperty(y)&&Hu(e,t,y,null,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||null==f&&null==p||Hu(e,t,d,f,r,p)}(r,e.type,n,t),r[Fe]=t}catch(i){ru(e,e.return,i)}}function Go(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag||4===e.tag}function Qo(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Go(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&27!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Yo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$u));else if(4!==r&&27!==r&&null!==(e=e.child))for(Yo(e,t,n),e=e.sibling;null!==e;)Yo(e,t,n),e=e.sibling}function Xo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&27!==r&&null!==(e=e.child))for(Xo(e,t,n),e=e.sibling;null!==e;)Xo(e,t,n),e=e.sibling}var Jo=!1,Zo=!1,el=!1,tl="function"===typeof WeakSet?WeakSet:Set,nl=null,rl=!1;function il(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:vl(e,n),4&r&&Uo(5,n);break;case 1:if(vl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){ru(n,n.return,o)}else{var i=Pa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){ru(n,n.return,l)}}64&r&&Bo(n),512&r&&Ho(n,n.return);break;case 3:if(vl(e,n),64&r&&null!==(r=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:e=n.child.stateNode}try{Fo(r,e)}catch(o){ru(n,n.return,o)}}break;case 26:vl(e,n),512&r&&Ho(n,n.return);break;case 27:case 5:vl(e,n),null===t&&4&r&&Ko(n),512&r&&Ho(n,n.return);break;case 12:default:vl(e,n);break;case 13:vl(e,n),4&r&&ul(e,n);break;case 22:if(!(i=null!==n.memoizedState||Jo)){t=null!==t&&null!==t.memoizedState||Zo;var s=Jo,a=Zo;Jo=i,(Zo=t)&&!a?bl(e,n,0!==(8772&n.subtreeFlags)):vl(e,n),Jo=s,Zo=a}512&r&&("manual"===n.memoizedProps.mode?Ho(n,n.return):qo(n,n.return))}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ke(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var al=null,ol=!1;function ll(e,t,n){for(n=n.child;null!==n;)cl(e,t,n),n=n.sibling}function cl(e,t,n){if(ye&&"function"===typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(ve,n)}catch(a){}switch(n.tag){case 26:Zo||qo(n,t),ll(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Zo||qo(n,t);var r=al,i=ol;for(al=n.stateNode,ll(e,t,n),t=(n=n.stateNode).attributes;t.length;)n.removeAttributeNode(t[0]);Ke(n),al=r,ol=i;break;case 5:Zo||qo(n,t);case 6:i=al;var s=ol;if(al=null,ll(e,t,n),ol=s,null!==(al=i))if(ol)try{e=al,r=n.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)}catch(o){ru(n,t,o)}else try{al.removeChild(n.stateNode)}catch(o){ru(n,t,o)}break;case 18:null!==al&&(ol?(t=al,n=n.stateNode,8===t.nodeType?sh(t.parentNode,n):1===t.nodeType&&sh(t,n),md(t)):sh(al,n.stateNode));break;case 4:r=al,i=ol,al=n.stateNode.containerInfo,ol=!0,ll(e,t,n),al=r,ol=i;break;case 0:case 11:case 14:case 15:Zo||zo(2,n,t),Zo||zo(4,n,t),ll(e,t,n);break;case 1:Zo||(qo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&$o(n,t,r)),ll(e,t,n);break;case 21:ll(e,t,n);break;case 22:Zo||qo(n,t),Zo=(r=Zo)||null!==n.memoizedState,ll(e,t,n),Zo=r;break;default:ll(e,t,n)}}function ul(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{md(e)}catch(n){ru(t,t.return,n)}}function hl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new tl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new tl),t;default:throw Error(a(435,e.tag))}}(e);t.forEach((function(t){var r=lu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function dl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:case 5:al=l.stateNode,ol=!1;break e;case 3:case 4:al=l.stateNode.containerInfo,ol=!0;break e}l=l.return}if(null===al)throw Error(a(160));cl(s,o,i),al=null,ol=!1,null!==(s=i.alternate)&&(s.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)pl(t,e),t=t.sibling}var fl=null;function pl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dl(t,e),ml(e),4&r&&(zo(3,e,e.return),Uo(3,e),zo(5,e,e.return));break;case 1:dl(t,e),ml(e),512&r&&(Zo||null===n||qo(n,n.return)),64&r&&Jo&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=fl;if(dl(t,e),ml(e),512&r&&(Zo||null===n||qo(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(s=i.getElementsByTagName("title")[0])||s[qe]||s[Ve]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),Ku(s,r,n),s[Ve]=e,Xe(s),r=s;break e;case"link":var o=Ch("link","href",i).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((s=o[l]).getAttribute("href")===(null==n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}Ku(s=i.createElement(r),r,n),i.head.appendChild(s);break;case"meta":if(o=Ch("meta","content",i).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((s=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}Ku(s=i.createElement(r),r,n),i.head.appendChild(s);break;default:throw Error(a(468,r))}s[Ve]=e,Xe(s),r=s}e.stateNode=r}else Nh(i,e.type,e.stateNode);else e.stateNode=Sh(i,r,e.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?Nh(i,e.type,e.stateNode):Sh(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Wo(e,e.memoizedProps,n.memoizedProps)}break;case 27:if(4&r&&null===e.alternate){i=e.stateNode,s=e.memoizedProps;try{for(var c=i.firstChild;c;){var u=c.nextSibling,h=c.nodeName;c[qe]||"HEAD"===h||"BODY"===h||"SCRIPT"===h||"STYLE"===h||"LINK"===h&&"stylesheet"===c.rel.toLowerCase()||i.removeChild(c),c=u}for(var d=e.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Ku(i,d,s),i[Ve]=e,i[Fe]=s}catch(m){ru(e,e.return,m)}}case 5:if(dl(t,e),ml(e),512&r&&(Zo||null===n||qo(n,n.return)),32&e.flags){i=e.stateNode;try{St(i,"")}catch(m){ru(e,e.return,m)}}4&r&&null!=e.stateNode&&Wo(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(el=!0);break;case 6:if(dl(t,e),ml(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){ru(e,e.return,m)}}break;case 3:if(Th=null,i=fl,fl=dh(t.containerInfo),dl(t,e),fl=i,ml(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{md(t.containerInfo)}catch(m){ru(e,e.return,m)}el&&(el=!1,gl(e));break;case 4:r=fl,fl=dh(e.stateNode.containerInfo),dl(t,e),ml(e),fl=r;break;case 12:dl(t,e),ml(e);break;case 13:dl(t,e),ml(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(bc=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,hl(e,r)));break;case 22:if(512&r&&(Zo||null===n||qo(n,n.return)),c=null!==e.memoizedState,u=null!==n&&null!==n.memoizedState,Jo=(h=Jo)||c,Zo=(d=Zo)||u,dl(t,e),Zo=d,Jo=h,ml(e),(t=e.stateNode)._current=e,t._visibility&=-3,t._visibility|=2&t._pendingVisibility,8192&r&&(t._visibility=c?-2&t._visibility:1|t._visibility,c&&(t=Jo||Zo,null===n||u||t||yl(e)),null===e.memoizedProps||"manual"!==e.memoizedProps.mode))e:for(n=null,t=e;;){if(5===t.tag||26===t.tag||27===t.tag){if(null===n){u=n=t;try{if(i=u.stateNode,c)"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{o=u.stateNode;var p=void 0!==(l=u.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null;o.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(m){ru(u,u.return,m)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(m){ru(u,u.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,hl(e,n))));break;case 19:dl(t,e),ml(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,hl(e,r)));break;case 21:break;default:dl(t,e),ml(e)}}function ml(e){var t=e.flags;if(2&t){try{if(27!==e.tag){e:{for(var n=e.return;null!==n;){if(Go(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 27:var i=r.stateNode;Xo(e,Qo(e),i);break;case 5:var s=r.stateNode;32&r.flags&&(St(s,""),r.flags&=-33),Xo(e,Qo(e),s);break;case 3:case 4:var o=r.stateNode.containerInfo;Yo(e,Qo(e),o);break;default:throw Error(a(161))}}}catch(l){ru(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;gl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function vl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)il(e,t.alternate,t),t=t.sibling}function yl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:zo(4,t,t.return),yl(t);break;case 1:qo(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&$o(t,t.return,n),yl(t);break;case 26:case 27:case 5:qo(t,t.return),yl(t);break;case 22:qo(t,t.return),null===t.memoizedState&&yl(t);break;default:yl(t)}e=e.sibling}}function bl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:bl(i,s,n),Uo(4,s);break;case 1:if(bl(i,s,n),"function"===typeof(i=(r=s).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){ru(r,r.return,c)}if(null!==(i=(r=s).updateQueue)){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Vo(l[i],o)}catch(c){ru(r,r.return,c)}}n&&64&a&&Bo(s),Ho(s,s.return);break;case 26:case 27:case 5:bl(i,s,n),n&&null===r&&4&a&&Ko(s),Ho(s,s.return);break;case 12:default:bl(i,s,n);break;case 13:bl(i,s,n),n&&4&a&&ul(i,s);break;case 22:null===s.memoizedState&&bl(i,s,n),Ho(s,s.return)}t=t.sibling}}function wl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&zi(n))}function xl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&zi(e))}function Sl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)kl(e,t,n,r),t=t.sibling}function kl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Sl(e,t,n,r),2048&i&&Uo(9,t);break;case 3:Sl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&zi(e)));break;case 12:if(2048&i){Sl(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,o=s.onPostCommit;"function"===typeof o&&o(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){ru(t,t.return,l)}}else Sl(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,null!==t.memoizedState?4&s._visibility?Sl(e,t,n,r):El(e,t):4&s._visibility?Sl(e,t,n,r):(s._visibility|=4,_l(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&wl(t.alternate,t);break;case 24:Sl(e,t,n,r),2048&i&&xl(t.alternate,t);break;default:Sl(e,t,n,r)}}function _l(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var s=e,a=t,o=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:_l(s,a,o,l,i),Uo(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?4&u._visibility?_l(s,a,o,l,i):El(s,a):(u._visibility|=4,_l(s,a,o,l,i)),i&&2048&c&&wl(a.alternate,a);break;case 24:_l(s,a,o,l,i),i&&2048&c&&xl(a.alternate,a);break;default:_l(s,a,o,l,i)}t=t.sibling}}function El(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:El(n,r),2048&i&&wl(r.alternate,r);break;case 24:El(n,r),2048&i&&xl(r.alternate,r);break;default:El(n,r)}t=t.sibling}}var Tl=8192;function Cl(e){if(e.subtreeFlags&Tl)for(e=e.child;null!==e;)Nl(e),e=e.sibling}function Nl(e){switch(e.tag){case 26:Cl(e),e.flags&Tl&&null!==e.memoizedState&&function(e,t,n){if(null===jh)throw Error(a(475));var r=jh;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=vh(n.href),s=e.querySelector(yh(i));if(s)return null!==(e=s._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Ph.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=s,void Xe(s);s=e.ownerDocument||e,n=bh(n),(i=uh.get(i))&&_h(n,i),Xe(s=s.createElement("link"));var o=s;o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),Ku(s,"link",n),t.instance=s}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Ph.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(fl,e.memoizedState,e.memoizedProps);break;case 5:default:Cl(e);break;case 3:case 4:var t=fl;fl=dh(e.stateNode.containerInfo),Cl(e),fl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Tl,Tl=16777216,Cl(e),Tl=t):Cl(e))}}function Il(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function jl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];nl=r,Rl(r,e)}Il(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Al(e),e=e.sibling}function Al(e){switch(e.tag){case 0:case 11:case 15:jl(e),2048&e.flags&&zo(9,e,e.return);break;case 3:case 12:default:jl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&4&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-5,Pl(e)):jl(e)}}function Pl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];nl=r,Rl(r,e)}Il(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:zo(8,t,t.return),Pl(t);break;case 22:4&(n=t.stateNode)._visibility&&(n._visibility&=-5,Pl(t));break;default:Pl(t)}e=e.sibling}}function Rl(e,t){for(;null!==nl;){var n=nl;switch(n.tag){case 0:case 11:case 15:zo(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:zi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,nl=r;else e:for(n=e;null!==nl;){var i=(r=nl).sibling,s=r.return;if(sl(r),r===n){nl=null;break e}if(null!==i){i.return=s,nl=i;break e}nl=s}}}function Dl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ol(e,t,n,r){return new Dl(e,t,n,r)}function Ll(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ml(e,t){var n=e.alternate;return null===n?((n=Ol(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=31457280&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Vl(e,t){e.flags&=31457282;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Fl(e,t,n,r,i,s){var o=0;if(r=e,"function"===typeof e)Ll(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,Q.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case h:return Ul(n.children,i,s,t);case d:o=8,i|=24;break;case f:return(e=Ol(12,n,t,2|i)).elementType=f,e.lanes=s,e;case y:return(e=Ol(13,n,t,i)).elementType=y,e.lanes=s,e;case b:return(e=Ol(19,n,t,i)).elementType=b,e.lanes=s,e;case S:return zl(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case p:case g:o=10;break e;case m:o=9;break e;case v:o=11;break e;case w:o=14;break e;case x:o=16,r=null;break e}o=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=Ol(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Ul(e,t,n,r){return(e=Ol(7,e,r,t)).lanes=n,e}function zl(e,t,n,r){(e=Ol(22,e,r,t)).elementType=S,e.lanes=n;var i={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=i._current;if(null===e)throw Error(a(456));if(0===(2&i._pendingVisibility)){var t=Ir(e,2);null!==t&&(i._pendingVisibility|=2,Pc(t,e,2))}},attach:function(){var e=i._current;if(null===e)throw Error(a(456));if(0!==(2&i._pendingVisibility)){var t=Ir(e,2);null!==t&&(i._pendingVisibility&=-3,Pc(t,e,2))}}};return e.stateNode=i,e}function Bl(e,t,n){return(e=Ol(6,e,null,t)).lanes=n,e}function $l(e,t,n){return(t=Ol(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hl(e){e.flags|=4}function ql(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Ih(t)){if(null!==(t=Ni.current)&&((4194176&rc)===rc?null!==Ii:(62914560&rc)!==rc&&0===(536870912&rc)||t!==Ii))throw di=li,oi;e.flags|=8192}}function Kl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?je():536870912,e.lanes|=t,mc|=t)}function Wl(e,t){if(!Yr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=31457280&i.subtreeFlags,r|=31457280&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ql(e,t,n){var r=t.pendingProps;switch(Wr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Gl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),bo(Fi),ee(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ri(t)?Hl(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Xr&&(Dc(Xr),Xr=null))),Gl(t),null;case 26:return n=t.memoizedState,null===e?(Hl(t),null!==n?(Gl(t),ql(t,n)):(Gl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Hl(t),Gl(t),ql(t,n)):(Gl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Hl(t),Gl(t),t.flags&=-16777217),null;case 27:ne(t),n=X.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Hl(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gl(t),null}e=Q.current,ri(t)?ti(t):(e=ch(i,r,n),t.stateNode=e,Hl(t))}return Gl(t),null;case 5:if(ne(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Hl(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gl(t),null}if(e=Q.current,ri(t))ti(t);else{switch(i=Qu(X.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Ve]=t,e[Fe]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(Ku(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Hl(t)}}return Gl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Hl(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=X.current,ri(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=Gr))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Ve]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Bu(e.nodeValue,n)))||ei(t)}else(e=Qu(e).createTextNode(r))[Ve]=t,t.stateNode=e}return Gl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=ri(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[Ve]=t}else ii(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gl(t),i=!1}else null!==Xr&&(Dc(Xr),Xr=null),i=!0;if(!i)return 256&t.flags?(Ri(t),t):(Ri(t),null)}if(Ri(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var s=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Kl(t,t.updateQueue),Gl(t),null;case 4:return ee(),null===e&&Pu(t.stateNode.containerInfo),Gl(t),null;case 10:return bo(t.type),Gl(t),null;case 19:if(W(Di),null===(i=t.memoizedState))return Gl(t),null;if(r=0!==(128&t.flags),null===(s=i.rendering))if(r)Wl(i,!1);else{if(0!==uc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=Oi(e))){for(t.flags|=128,Wl(i,!1),e=s.updateQueue,t.updateQueue=e,Kl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Vl(n,e),n=n.sibling;return G(Di,1&Di.current|2),t.child}e=e.sibling}null!==i.tail&&le()>wc&&(t.flags|=128,r=!0,Wl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Oi(s))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Kl(t,e),Wl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate&&!Yr)return Gl(t),null}else 2*le()-i.renderingStartTime>wc&&536870912!==n&&(t.flags|=128,r=!0,Wl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=i.last)?e.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=le(),t.sibling=null,e=Di.current,G(Di,r?1&e|2:1&e),t):(Gl(t),null);case 22:case 23:return Ri(t),Ci(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(Gl(t),6&t.subtreeFlags&&(t.flags|=8192)):Gl(t),null!==(n=t.updateQueue)&&Kl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&W(Gi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),bo(Fi),Gl(t),null;case 25:return null}throw Error(a(156,t.tag))}function Yl(e,t){switch(Wr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return bo(Fi),ee(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return ne(t),null;case 13:if(Ri(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ii()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return W(Di),null;case 4:return ee(),null;case 10:return bo(t.type),null;case 22:case 23:return Ri(t),Ci(),null!==e&&W(Gi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return bo(Fi),null;default:return null}}function Xl(e,t){switch(Wr(t),t.tag){case 3:bo(Fi),ee();break;case 26:case 27:case 5:ne(t);break;case 4:ee();break;case 13:Ri(t);break;case 19:W(Di);break;case 10:bo(t.type);break;case 22:case 23:Ri(t),Ci(),null!==e&&W(Gi);break;case 24:bo(Fi)}}var Jl={getCacheForType:function(e){var t=Eo(Fi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},Zl="function"===typeof WeakMap?WeakMap:Map,ec=0,tc=null,nc=null,rc=0,ic=0,sc=null,ac=!1,oc=!1,lc=!1,cc=0,uc=0,hc=0,dc=0,fc=0,pc=0,mc=0,gc=null,vc=null,yc=!1,bc=0,wc=1/0,xc=null,Sc=null,kc=!1,_c=null,Ec=0,Tc=0,Cc=null,Nc=0,Ic=null;function jc(){if(0!==(2&ec)&&0!==rc)return rc&-rc;if(null!==j.T){return 0!==Hi?Hi:xu()}return Le()}function Ac(){0===pc&&(pc=0===(536870912&rc)||Yr?Ie():536870912);var e=Ni.current;return null!==e&&(e.flags|=32),pc}function Pc(e,t,n){(e===tc&&2===ic||null!==e.cancelPendingCommit)&&(Uc(e,0),Mc(e,rc,pc,!1)),Pe(e,n),0!==(2&ec)&&e===tc||(e===tc&&(0===(2&ec)&&(dc|=n),4===uc&&Mc(e,rc,pc,!1)),mu(e))}function Rc(e,t,n){if(0!==(6&ec))throw Error(a(327));for(var r=!n&&0===(60&t)&&0===(t&e.expiredLanes)||Ce(e,t),i=r?function(e,t){var n=ec;ec|=2;var r=Bc(),i=$c();tc!==e||rc!==t?(xc=null,wc=le()+500,Uc(e,t)):oc=Ce(e,t);e:for(;;)try{if(0!==ic&&null!==nc){t=nc;var s=sc;t:switch(ic){case 1:ic=0,sc=null,Yc(e,t,s,1);break;case 2:if(ci(s)){ic=0,sc=null,Qc(t);break}t=function(){2===ic&&tc===e&&(ic=7),mu(e)},s.then(t,t);break e;case 3:ic=7;break e;case 4:ic=5;break e;case 7:ci(s)?(ic=0,sc=null,Qc(t)):(ic=0,sc=null,Yc(e,t,s,7));break;case 5:var o=null;switch(nc.tag){case 26:o=nc.memoizedState;case 5:case 27:var l=nc;if(!o||Ih(o)){ic=0,sc=null;var c=l.sibling;if(null!==c)nc=c;else{var u=l.return;null!==u?(nc=u,Xc(u)):nc=null}break t}}ic=0,sc=null,Yc(e,t,s,5);break;case 6:ic=0,sc=null,Yc(e,t,s,6);break;case 8:Fc(),uc=6;break e;default:throw Error(a(462))}}Wc();break}catch(h){zc(e,h)}return vo=go=null,j.H=r,j.A=i,ec=n,null!==nc?0:(tc=null,rc=0,Tr(),uc)}(e,t):qc(e,t,!0),s=r;;){if(0===i){oc&&!r&&Mc(e,t,0,!1);break}if(6===i)Mc(e,t,0,!ac);else{if(n=e.current.alternate,s&&!Lc(n)){i=qc(e,t,!1),s=!1;continue}if(2===i){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;i=gc;var c=l.current.memoizedState.isDehydrated;if(c&&(Uc(l,o).flags|=256),2!==(o=qc(l,o,!1))){if(lc&&!c){l.errorRecoveryDisabledLanes|=s,dc|=s,i=4;break e}s=vc,vc=i,null!==s&&Dc(s)}i=o}if(s=!1,2!==i)continue}}if(1===i){Uc(e,0),Mc(e,t,0,!0);break}e:{switch(r=e,i){case 0:case 1:throw Error(a(345));case 4:if((4194176&t)===t){Mc(r,t,pc,!ac);break e}break;case 2:vc=null;break;case 3:case 5:break;default:throw Error(a(329))}if(r.finishedWork=n,r.finishedLanes=t,(62914560&t)===t&&10<(s=bc+300-le())){if(Mc(r,t,pc,!ac),0!==Te(r,0))break e;r.timeoutHandle=eh(Oc.bind(null,r,n,vc,xc,yc,t,pc,dc,mc,ac,2,-0,0),s)}else Oc(r,n,vc,xc,yc,t,pc,dc,mc,ac,0,-0,0)}}break}mu(e)}function Dc(e){null===vc?vc=e:vc.push.apply(vc,e)}function Oc(e,t,n,r,i,s,o,l,c,u,h,d,f){var p=t.subtreeFlags;if((8192&p||16785408===(16785408&p))&&(jh={stylesheets:null,count:0,unsuspend:Ah},Nl(t),null!==(t=function(){if(null===jh)throw Error(a(475));var e=jh;return e.stylesheets&&0===e.count&&Dh(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Dh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=t(Zc.bind(null,e,n,r,i,o,l,c,1,d,f)),void Mc(e,s,o,!u);Zc(e,n,r,i,o,l,c,h,d,f)}function Lc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Gn(s(),i))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mc(e,t,n,r){t&=~fc,t&=~dc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var s=31-we(i),a=1<<s;r[s]=-1,i&=~a}0!==n&&Re(e,n,t)}function Vc(){return 0!==(6&ec)||(gu(0,!1),!1)}function Fc(){if(null!==nc){if(0===ic)var e=nc.return;else vo=go=null,vs(e=nc),pi=null,mi=0,e=nc;for(;null!==e;)Xl(e.alternate,e),e=e.return;nc=null}}function Uc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,th(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Fc(),tc=e,nc=n=Ml(e.current,null),rc=t,ic=0,sc=null,ac=!1,oc=Ce(e,t),lc=!1,mc=pc=fc=dc=hc=uc=0,vc=gc=null,yc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-we(r),s=1<<i;t|=e[i],r&=~s}return cc=t,Tr(),n}function zc(e,t){Zi=null,j.H=_a,t===ai?(t=fi(),ic=3):t===oi?(t=fi(),ic=4):ic=t===Ba?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,sc=t,null===nc&&(uc=1,Ma(e,Dr(t,e.current)))}function Bc(){var e=j.H;return j.H=_a,null===e?_a:e}function $c(){var e=j.A;return j.A=Jl,e}function Hc(){uc=4,ac||(4194176&rc)!==rc&&null!==Ni.current||(oc=!0),0===(134217727&hc)&&0===(134217727&dc)||null===tc||Mc(tc,rc,pc,!1)}function qc(e,t,n){var r=ec;ec|=2;var i=Bc(),s=$c();tc===e&&rc===t||(xc=null,Uc(e,t)),t=!1;var a=uc;e:for(;;)try{if(0!==ic&&null!==nc){var o=nc,l=sc;switch(ic){case 8:Fc(),a=6;break e;case 3:case 2:case 6:null===Ni.current&&(t=!0);var c=ic;if(ic=0,sc=null,Yc(e,o,l,c),n&&oc){a=0;break e}break;default:c=ic,ic=0,sc=null,Yc(e,o,l,c)}}Kc(),a=uc;break}catch(u){zc(e,u)}return t&&e.shellSuspendCounter++,vo=go=null,ec=r,j.H=i,j.A=s,null===nc&&(tc=null,rc=0,Tr()),a}function Kc(){for(;null!==nc;)Gc(nc)}function Wc(){for(;null!==nc&&!ae();)Gc(nc)}function Gc(e){var t=po(e.alternate,e,cc);e.memoizedProps=e.pendingProps,null===t?Xc(e):nc=t}function Qc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ja(n,t,t.pendingProps,t.type,void 0,rc);break;case 11:t=Ja(n,t,t.pendingProps,t.type.render,t.ref,rc);break;case 5:vs(t);default:Xl(n,t),t=po(n,t=nc=Vl(t,cc),cc)}e.memoizedProps=e.pendingProps,null===t?Xc(e):nc=t}function Yc(e,t,n,r){vo=go=null,vs(t),pi=null,mi=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&So(t,n,i,!0),null!==(n=Ni.current)){switch(n.tag){case 13:return null===Ii?Hc():null===n.alternate&&0===uc&&(uc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===li?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),iu(e,r,i)),!1;case 22:return n.flags|=65536,r===li?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),iu(e,r,i)),!1}throw Error(a(435,n.tag))}return iu(e,r,i),Hc(),!1}if(Yr)return null!==(t=Ni.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==Zr&&si(Dr(e=Error(a(422),{cause:r}),n))):(r!==Zr&&si(Dr(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Dr(r,n),Do(e,i=Fa(e.stateNode,r,i)),4!==uc&&(uc=2)),!1;var s=Error(a(520),{cause:r});if(s=Dr(s,n),null===gc?gc=[s]:gc.push(s),4!==uc&&(uc=2),null===t)return!0;r=Dr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,Do(n,e=Fa(n.stateNode,r,e)),!1;case 1:if(t=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===Sc||!Sc.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,za(i=Ua(i),e,n,r),Do(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,rc))return uc=1,Ma(e,Dr(n,e.current)),void(nc=null)}catch(s){if(null!==i)throw nc=i,s;return uc=1,Ma(e,Dr(n,e.current)),void(nc=null)}32768&t.flags?(Yr||1===r?e=!0:oc||0!==(536870912&rc)?e=!1:(ac=e=!0,(2===r||3===r||6===r)&&(null!==(r=Ni.current)&&13===r.tag&&(r.flags|=16384))),Jc(t,e)):Xc(t)}function Xc(e){var t=e;do{if(0!==(32768&t.flags))return void Jc(t,ac);e=t.return;var n=Ql(t.alternate,t,cc);if(null!==n)return void(nc=n);if(null!==(t=t.sibling))return void(nc=t);nc=t=e}while(null!==t);0===uc&&(uc=5)}function Jc(e,t){do{var n=Yl(e.alternate,e);if(null!==n)return n.flags&=32767,void(nc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(nc=e);nc=e=n}while(null!==e);uc=6,nc=null}function Zc(e,t,n,r,i,s,o,l,c,u){var h=j.T,d=B.p;try{B.p=2,j.T=null,function(e,t,n,r,i,s,o,l){do{tu()}while(null!==_c);if(0!==(6&ec))throw Error(a(327));var c=e.finishedWork;if(r=e.finishedLanes,null===c)return null;if(e.finishedWork=null,e.finishedLanes=0,c===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var u=c.lanes|c.childLanes;if(function(e,t,n,r,i,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-we(n),h=1<<u;o[u]=0,l[u]=-1;var d=c[u];if(null!==d)for(c[u]=null,u=0;u<d.length;u++){var f=d[u];null!==f&&(f.lane&=-536870913)}n&=~h}0!==r&&Re(e,r,0),0!==s&&0===i&&0!==e.tag&&(e.suspendedLanes|=s&~(a&~t))}(e,r,u|=Er,s,o,l),e===tc&&(nc=tc=null,rc=0),0===(10256&c.subtreeFlags)&&0===(10256&c.flags)||kc||(kc=!0,Tc=u,Cc=n,function(e,t){ie(e,t)}(de,(function(){return tu(),null}))),n=0!==(15990&c.flags),0!==(15990&c.subtreeFlags)||n?(n=j.T,j.T=null,s=B.p,B.p=2,o=ec,ec|=4,function(e,t){if(e=e.containerInfo,Wu=Hh,er(e=Zn(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=o+i),d!==s||0!==r&&3!==d.nodeType||(c=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=o),f===s&&++h===r&&(c=o),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gu={focusedElem:e,selectionRange:n},Hh=!1,nl=t;null!==nl;)if(e=(t=nl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,nl=e;else for(;null!==nl;){switch(s=(t=nl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var m=Pa(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){ru(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))ah(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ah(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,nl=e;break}nl=t.return}m=rl,rl=!1}(e,c),pl(c,e),tr(Gu,e.containerInfo),Hh=!!Wu,Gu=Wu=null,e.current=c,il(e,c.alternate,c),oe(),ec=o,B.p=s,j.T=n):e.current=c,kc?(kc=!1,_c=e,Ec=r):eu(e,u),u=e.pendingLanes,0===u&&(Sc=null),function(e){if(ye&&"function"===typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(ve,e,void 0,128===(128&e.current.flags))}catch(t){}}(c.stateNode),mu(e),null!==t)for(i=e.onRecoverableError,c=0;c<t.length;c++)u=t[c],i(u.value,{componentStack:u.stack});0!==(3&Ec)&&tu(),u=e.pendingLanes,0!==(4194218&r)&&0!==(42&u)?e===Ic?Nc++:(Nc=0,Ic=e):Nc=0,gu(0,!1)}(e,t,n,r,d,i,s,o)}finally{j.T=h,B.p=d}}function eu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,zi(t)))}function tu(){if(null!==_c){var e=_c,t=Tc;Tc=0;var n=Oe(Ec),r=j.T,i=B.p;try{if(B.p=32>n?32:n,j.T=null,null===_c)var s=!1;else{n=Cc,Cc=null;var o=_c,l=Ec;if(_c=null,Ec=0,0!==(6&ec))throw Error(a(331));var c=ec;if(ec|=4,Al(o.current),kl(o,o.current,l,n),ec=c,gu(0,!1),ye&&"function"===typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(ve,o)}catch(u){}s=!0}return s}finally{B.p=i,j.T=r,eu(e,t)}}return!1}function nu(e,t,n){t=Dr(n,t),null!==(e=Po(e,t=Fa(e.stateNode,t,2),2))&&(Pe(e,2),mu(e))}function ru(e,t,n){if(3===e.tag)nu(e,e,n);else for(;null!==t;){if(3===t.tag){nu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Sc||!Sc.has(r))){e=Dr(n,e),null!==(r=Po(t,n=Ua(2),2))&&(za(n,r,t,e),Pe(r,2),mu(r));break}}t=t.return}}function iu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Zl;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(lc=!0,i.add(n),e=su.bind(null,e,t,n),t.then(e,e))}function su(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,tc===e&&(rc&n)===n&&(4===uc||3===uc&&(62914560&rc)===rc&&300>le()-bc?0===(2&ec)&&Uc(e,0):fc|=n,mc===rc&&(mc=0)),mu(e)}function au(e,t){0===t&&(t=je()),null!==(e=Ir(e,t))&&(Pe(e,t),mu(e))}function ou(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),au(e,n)}function lu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),au(e,n)}var cu=null,uu=null,hu=!1,du=!1,fu=!1,pu=0;function mu(e){var t;e!==uu&&null===e.next&&(null===uu?cu=uu=e:uu=uu.next=e),du=!0,hu||(hu=!0,t=vu,rh((function(){0!==(6&ec)?ie(ue,t):t()})))}function gu(e,t){if(!fu&&du){fu=!0;do{for(var n=!1,r=cu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var s=0;else{var a=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-we(42|e)+1)-1,s=201326677&(s&=i&~(a&~o))?201326677&s|1:s?2|s:0}0!==s&&(n=!0,wu(r,s))}else s=rc,0===(3&(s=Te(r,r===tc?s:0)))||Ce(r,s)||(n=!0,wu(r,s));r=r.next}}while(n);fu=!1}}function vu(){du=hu=!1;var e=0;0!==pu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==Zu&&(Zu=e,!0);return Zu=null,!1}()&&(e=pu),pu=0);for(var t=le(),n=null,r=cu;null!==r;){var i=r.next,s=yu(r,t);0===s?(r.next=null,null===n?cu=i:n.next=i,null===i&&(uu=n)):(n=r,(0!==e||0!==(3&s))&&(du=!0)),r=i}gu(e,!1)}function yu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var a=31-we(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=Ne(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(n=rc,n=Te(e,e===(t=tc)?n:0),r=e.callbackNode,0===n||e===t&&2===ic||null!==e.cancelPendingCommit)return null!==r&&null!==r&&se(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ce(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&se(r),Oe(n)){case 2:case 8:n=he;break;case 32:default:n=de;break;case 268435456:n=pe}return r=bu.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&se(r),e.callbackPriority=2,e.callbackNode=null,2}function bu(e,t){var n=e.callbackNode;if(tu()&&e.callbackNode!==n)return null;var r=rc;return 0===(r=Te(e,e===tc?r:0))?null:(Rc(e,r,t),yu(e,le()),null!=e.callbackNode&&e.callbackNode===n?bu.bind(null,e):null)}function wu(e,t){if(tu())return null;Rc(e,t,!0)}function xu(){return 0===pu&&(pu=Ie()),pu}function Su(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:It(""+e)}function ku(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var _u=0;_u<xr.length;_u++){var Eu=xr[_u];Sr(Eu.toLowerCase(),"on"+(Eu[0].toUpperCase()+Eu.slice(1)))}Sr(fr,"onAnimationEnd"),Sr(pr,"onAnimationIteration"),Sr(mr,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(gr,"onTransitionRun"),Sr(vr,"onTransitionStart"),Sr(yr,"onTransitionCancel"),Sr(br,"onTransitionEnd"),tt("onMouseEnter",["mouseout","mouseover"]),tt("onMouseLeave",["mouseout","mouseover"]),tt("onPointerEnter",["pointerout","pointerover"]),tt("onPointerLeave",["pointerout","pointerover"]),et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),et("onBeforeInput",["compositionend","keypress","textInput","paste"]),et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tu));function Nu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){Ra(u)}i.currentTarget=null,s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){Ra(u)}i.currentTarget=null,s=l}}}}function Iu(e,t){var n=t[ze];void 0===n&&(n=t[ze]=new Set);var r=e+"__bubble";n.has(r)||(Ru(t,e,2,!1),n.add(r))}function ju(e,t,n){var r=0;t&&(r|=4),Ru(n,e,r,t)}var Au="_reactListening"+Math.random().toString(36).slice(2);function Pu(e){if(!e[Au]){e[Au]=!0,Je.forEach((function(t){"selectionchange"!==t&&(Cu.has(t)||ju(t,!1,e),ju(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Au]||(t[Au]=!0,ju("selectionchange",!1,t))}}function Ru(e,t,n,r){switch(Xh(t)){case 2:var i=qh;break;case 8:i=Kh;break;default:i=Wh}n=i.bind(null,t,n,e),i=void 0,!Vt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Du(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=We(o)))return;if(5===(l=a.tag)||6===l||26===l||27===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Lt((function(){var r=s,i=At(n),a=[];e:{var o=wr.get(e);if(void 0!==o){var l=Jt,c=e;switch(e){case"keypress":if(0===Ht(n))break e;case"keydown":case"keyup":l=pn;break;case"focusin":c="focus",l=sn;break;case"focusout":c="blur",l=sn;break;case"beforeblur":case"afterblur":l=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=gn;break;case fr:case pr:case mr:l=an;break;case br:l=vn;break;case"scroll":case"scrollend":l=en;break;case"wheel":l=yn;break;case"copy":case"cut":case"paste":l=on;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=mn;break;case"toggle":case"beforetoggle":l=bn}var u=0!==(4&t),h=!u&&("scroll"===e||"scrollend"===e),d=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=p;if(f=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===f||null===d||null!=(m=Mt(p,d))&&u.push(Ou(p,m,f)),h)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===jt||!(c=n.relatedTarget||n.fromElement)||!We(c)&&!c[Ue])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?We(c):null)&&(h=M(c),u=c.tag,c!==h||5!==u&&27!==u&&6!==u)&&(c=null)):(l=null,c=r),l!==c)){if(u=nn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=mn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?o:Qe(l),f=null==c?o:Qe(c),(o=new u(m,p+"leave",l,n,i)).target=h,o.relatedTarget=f,m=null,We(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Mu(f))p++;for(f=0,m=d;m;m=Mu(m))f++;for(;0<p-f;)u=Mu(u),p--;for(;0<f-p;)d=Mu(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Mu(u),d=Mu(d)}u=null}else u=null;null!==l&&Vu(a,o,l,u,!1),null!==c&&null!==h&&Vu(a,h,c,u,!0)}if("select"===(l=(o=r?Qe(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Mn;else if(An(o))if(Vn)g=Wn;else{g=qn;var v=Hn}else!(l=o.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&Tt(r.elementType)&&(g=Mn):g=Kn;switch(g&&(g=g(e,r))?Pn(a,g,n,i):(v&&v(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&yt(o,"number",o.value)),v=r?Qe(r):window,e){case"focusin":(An(v)||"true"===v.contentEditable)&&(rr=v,ir=r,sr=null);break;case"focusout":sr=ir=rr=null;break;case"mousedown":ar=!0;break;case"contextmenu":case"mouseup":case"dragend":ar=!1,or(a,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":or(a,n,i)}var y;if(xn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else In?Cn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(_n&&"ko"!==n.locale&&(In||"onCompositionStart"!==b?"onCompositionEnd"===b&&In&&(y=$t()):(zt="value"in(Ut=i)?Ut.value:Ut.textContent,In=!0)),0<(v=Lu(r,b)).length&&(b=new ln(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Nn(n))&&(b.data=y))),(y=kn?function(e,t){switch(e){case"compositionend":return Nn(t);case"keypress":return 32!==t.which?null:(Tn=!0,En);case"textInput":return(e=t.data)===En&&Tn?null:e;default:return null}}(e,n):function(e,t){if(In)return"compositionend"===e||!xn&&Cn(e,t)?(e=$t(),Bt=zt=Ut=null,In=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _n&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(b=Lu(r,"onBeforeInput")).length&&(v=new ln("onBeforeInput","beforeinput",null,n,i),a.push({event:v,listeners:b}),v.data=y)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var s=Su((i[Fe]||null).action),a=r.submitter;a&&null!==(t=(t=a[Fe]||null)?Su(t.formAction):a.getAttribute("formAction"))&&(s=t,a=null);var o=new Jt("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==pu){var e=a?ku(i,a):new FormData(i);ua(n,{pending:!0,data:e,method:i.method,action:s},null,e)}}else"function"===typeof s&&(o.preventDefault(),e=a?ku(i,a):new FormData(i),ua(n,{pending:!0,data:e,method:i.method,action:s},s,e))},currentTarget:i}]})}}(a,e,r,n,i)}Nu(a,t)}))}function Ou(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Lu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5!==(i=i.tag)&&26!==i&&27!==i||null===s||(null!=(i=Mt(e,n))&&r.unshift(Ou(e,i,s)),null!=(i=Mt(e,t))&&r.push(Ou(e,i,s))),e=e.return}return r}function Mu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Vu(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,i?null!=(c=Mt(n,s))&&a.unshift(Ou(n,c,l)):i||null!=(c=Mt(n,s))&&a.push(Ou(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Fu=/\r\n?/g,Uu=/\u0000|\uFFFD/g;function zu(e){return("string"===typeof e?e:""+e).replace(Fu,"\n").replace(Uu,"")}function Bu(e,t){return t=zu(t),zu(e)===t}function $u(){}function Hu(e,t,n,r,i,s){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||St(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&St(e,""+r);break;case"className":ot(e,"class",r);break;case"tabIndex":ot(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ot(e,n,r);break;case"style":Et(e,r,s);break;case"data":if("object"!==t){ot(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=It(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==t&&Hu(e,t,"name",i.name,i,null),Hu(e,t,"formEncType",i.formEncType,i,null),Hu(e,t,"formMethod",i.formMethod,i,null),Hu(e,t,"formTarget",i.formTarget,i,null)):(Hu(e,t,"encType",i.encType,i,null),Hu(e,t,"method",i.method,i,null),Hu(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=It(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=$u);break;case"onScroll":null!=r&&Iu("scroll",e);break;case"onScrollEnd":null!=r&&Iu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=It(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Iu("beforetoggle",e),Iu("toggle",e),at(e,"popover",r);break;case"xlinkActuate":lt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":lt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":lt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":lt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":lt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":lt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":lt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":lt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":lt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":at(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&at(e,n=Ct.get(n)||n,r)}}function qu(e,t,n,r,i,s){switch(n){case"style":Et(e,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof r?St(e,r):("number"===typeof r||"bigint"===typeof r)&&St(e,""+r);break;case"onScroll":null!=r&&Iu("scroll",e);break;case"onScrollEnd":null!=r&&Iu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=$u);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ze.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(s=null!=(s=e[Fe]||null)?s[n]:null)&&e.removeEventListener(t,s,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):at(e,n,r):("function"!==typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function Ku(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Iu("error",e),Iu("load",e);var r,i=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Hu(e,t,r,o,n,null)}}return s&&Hu(e,t,"srcSet",n.srcSet,n,null),void(i&&Hu(e,t,"src",n.src,n,null));case"input":Iu("invalid",e);var l=r=o=s=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(null!=h)switch(i){case"name":s=h;break;case"type":o=h;break;case"checked":c=h;break;case"defaultChecked":u=h;break;case"value":r=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(a(137,t));break;default:Hu(e,t,i,h,n,null)}}return vt(e,r,l,c,u,o,s,!1),void ht(e);case"select":for(s in Iu("invalid",e),i=o=r=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":i=l;default:Hu(e,t,s,l,n,null)}return t=r,n=o,e.multiple=!!i,void(null!=t?bt(e,!!i,t,!1):null!=n&&bt(e,!!i,n,!0));case"textarea":for(o in Iu("invalid",e),r=s=i=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":i=l;break;case"defaultValue":s=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:Hu(e,t,o,l,n,null)}return xt(e,i,s,r),void ht(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Hu(e,t,c,i,n,null);return;case"dialog":Iu("cancel",e),Iu("close",e);break;case"iframe":case"object":Iu("load",e);break;case"video":case"audio":for(i=0;i<Tu.length;i++)Iu(Tu[i],e);break;case"image":Iu("error",e),Iu("load",e);break;case"details":Iu("toggle",e);break;case"embed":case"source":case"link":Iu("error",e),Iu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Hu(e,t,u,i,n,null)}return;default:if(Tt(t)){for(h in n)n.hasOwnProperty(h)&&(void 0!==(i=n[h])&&qu(e,t,h,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Hu(e,t,l,i,n,null))}var Wu=null,Gu=null;function Qu(e){return 9===e.nodeType?e:e.ownerDocument}function Yu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function Ju(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Zu=null;var eh="function"===typeof setTimeout?setTimeout:void 0,th="function"===typeof clearTimeout?clearTimeout:void 0,nh="function"===typeof Promise?Promise:void 0,rh="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof nh?function(e){return nh.resolve(null).then(e).catch(ih)}:eh;function ih(e){setTimeout((function(){throw e}))}function sh(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void md(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);md(t)}function ah(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":ah(n),Ke(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function oh(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}function lh(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function ch(e,t,n){switch(t=Qu(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}var uh=new Map,hh=new Set;function dh(e){return"function"===typeof e.getRootNode?e.getRootNode():e.ownerDocument}var fh=B.d;B.d={f:function(){var e=fh.f(),t=Vc();return e||t},r:function(e){var t=Ge(e);null!==t&&5===t.tag&&"form"===t.type?da(t):fh.r(e)},D:function(e){fh.D(e),mh("dns-prefetch",e,null)},C:function(e,t){fh.C(e,t),mh("preconnect",e,t)},L:function(e,t,n){fh.L(e,t,n);var r=ph;if(r&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var s=i;switch(t){case"style":s=vh(e);break;case"script":s=wh(e)}uh.has(s)||(e=A({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),uh.set(s,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(yh(s))||"script"===t&&r.querySelector(xh(s))||(Ku(t=r.createElement("link"),"link",e),Xe(t),r.head.appendChild(t)))}},m:function(e,t){fh.m(e,t);var n=ph;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=wh(e)}if(!uh.has(s)&&(e=A({rel:"modulepreload",href:e},t),uh.set(s,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(xh(s)))return}Ku(r=n.createElement("link"),"link",e),Xe(r),n.head.appendChild(r)}}},X:function(e,t){fh.X(e,t);var n=ph;if(n&&e){var r=Ye(n).hoistableScripts,i=wh(e),s=r.get(i);s||((s=n.querySelector(xh(i)))||(e=A({src:e,async:!0},t),(t=uh.get(i))&&Eh(e,t),Xe(s=n.createElement("script")),Ku(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}},S:function(e,t,n){fh.S(e,t,n);var r=ph;if(r&&e){var i=Ye(r).hoistableStyles,s=vh(e);t=t||"default";var a=i.get(s);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(yh(s)))o.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":t},n),(n=uh.get(s))&&_h(e,n);var l=a=r.createElement("link");Xe(l),Ku(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){o.loading|=1})),l.addEventListener("error",(function(){o.loading|=2})),o.loading|=4,kh(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:o},i.set(s,a)}}},M:function(e,t){fh.M(e,t);var n=ph;if(n&&e){var r=Ye(n).hoistableScripts,i=wh(e),s=r.get(i);s||((s=n.querySelector(xh(i)))||(e=A({src:e,async:!0,type:"module"},t),(t=uh.get(i))&&Eh(e,t),Xe(s=n.createElement("script")),Ku(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}};var ph="undefined"===typeof document?null:document;function mh(e,t,n){var r=ph;if(r&&"string"===typeof t&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),hh.has(i)||(hh.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(Ku(t=r.createElement("link"),"link",e),Xe(t),r.head.appendChild(t)))}}function gh(e,t,n,r){var i,s,o,l,c=(c=X.current)?dh(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=vh(n.href),(r=(n=Ye(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=vh(n.href);var u=Ye(c).hoistableStyles,h=u.get(e);if(h||(c=c.ownerDocument||c,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=c.querySelector(yh(e)))&&!u._p&&(h.instance=u,h.state.loading=5),uh.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},uh.set(e,n),u||(i=c,s=e,o=n,l=h.state,i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",(function(){return l.loading|=1})),s.addEventListener("error",(function(){return l.loading|=2})),Ku(s,"link",o),Xe(s),i.head.appendChild(s))))),t&&null===r)throw Error(a(528,""));return h}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=wh(n),(r=(n=Ye(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function vh(e){return'href="'+mt(e)+'"'}function yh(e){return'link[rel="stylesheet"]['+e+"]"}function bh(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function wh(e){return'[src="'+mt(e)+'"]'}function xh(e){return"script[async]"+e}function Sh(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,Xe(r),r;var i=A({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Xe(r=(e.ownerDocument||e).createElement("style")),Ku(r,"style",i),kh(r,n.precedence,e),t.instance=r;case"stylesheet":i=vh(n.href);var s=e.querySelector(yh(i));if(s)return t.state.loading|=4,t.instance=s,Xe(s),s;r=bh(n),(i=uh.get(i))&&_h(r,i),Xe(s=(e.ownerDocument||e).createElement("link"));var o=s;return o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),Ku(s,"link",r),t.state.loading|=4,kh(s,n.precedence,e),t.instance=s;case"script":return s=wh(n.src),(i=e.querySelector(xh(s)))?(t.instance=i,Xe(i),i):(r=n,(i=uh.get(s))&&Eh(r=A({},n),i),Xe(i=(e=e.ownerDocument||e).createElement("script")),Ku(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,kh(r,n.precedence,e));return t.instance}function kh(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===t)s=o;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function _h(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Eh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Th=null;function Ch(e,t,n){if(null===Th){var r=new Map,i=Th=new Map;i.set(n,r)}else(r=(i=Th).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[qe]||s[Ve]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var a=s.getAttribute(t)||"";a=e+a;var o=r.get(a);o?o.push(s):r.set(a,[s])}}return r}function Nh(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Ih(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var jh=null;function Ah(){}function Ph(){if(this.count--,0===this.count)if(this.stylesheets)Dh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Rh=null;function Dh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Rh=new Map,t.forEach(Oh,e),Rh=null,Ph.call(e))}function Oh(e,t){if(!(4&t.state.loading)){var n=Rh.get(e);if(n)var r=n.get(null);else{n=new Map,Rh.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var a=i[s];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(i=t.instance).getAttribute("data-precedence"),(s=n.get(a)||r)===r&&n.set(null,i),n.set(a,i),this.count++,r=Ph.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Lh={$$typeof:g,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function Mh(e,t,n,r,i,s,a,o){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ae(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ae(0),this.hiddenUpdates=Ae(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Vh(e,t,n,r,i,s,a,o,l,c,u,h){return e=new Mh(e,t,n,a,o,l,c,h),t=1,!0===s&&(t|=24),s=Ol(3,null,null,t),e.current=s,s.stateNode=e,(t=Ui()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},Io(s),e}function Fh(e){return e?e=Pr:Pr}function Uh(e,t,n,r,i,s){i=Fh(i),null===r.context?r.context=i:r.pendingContext=i,(r=Ao(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=Po(e,r,t))&&(Pc(n,0,t),Ro(n,e,t))}function zh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Bh(e,t){zh(e,t),(e=e.alternate)&&zh(e,t)}function $h(e){if(13===e.tag){var t=Ir(e,67108864);null!==t&&Pc(t,0,67108864),Bh(e,67108864)}}var Hh=!0;function qh(e,t,n,r){var i=j.T;j.T=null;var s=B.p;try{B.p=2,Wh(e,t,n,r)}finally{B.p=s,j.T=i}}function Kh(e,t,n,r){var i=j.T;j.T=null;var s=B.p;try{B.p=8,Wh(e,t,n,r)}finally{B.p=s,j.T=i}}function Wh(e,t,n,r){if(Hh){var i=Gh(r);if(null===i)Du(e,t,r,Qh,n),ad(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Zh=od(Zh,e,t,n,r,i),!0;case"dragenter":return ed=od(ed,e,t,n,r,i),!0;case"mouseover":return td=od(td,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return nd.set(s,od(nd.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,rd.set(s,od(rd.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(ad(e,r),4&t&&-1<sd.indexOf(e)){for(;null!==i;){var s=Ge(i);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var a=Ee(s.pendingLanes);if(0!==a){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-we(a);o.entanglements[1]|=l,a&=~l}mu(s),0===(6&ec)&&(wc=le()+500,gu(0,!1))}}break;case 13:null!==(o=Ir(s,2))&&Pc(o,0,2),Vc(),Bh(s,2)}if(null===(s=Gh(r))&&Du(e,t,r,Qh,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Du(e,t,r,null,n)}}function Gh(e){return Yh(e=At(e))}var Qh=null;function Yh(e){if(Qh=null,null!==(e=We(e))){var t=M(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=V(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Qh=e,null}function Xh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case he:return 8;case de:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Jh=!1,Zh=null,ed=null,td=null,nd=new Map,rd=new Map,id=[],sd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ad(e,t){switch(e){case"focusin":case"focusout":Zh=null;break;case"dragenter":case"dragleave":ed=null;break;case"mouseover":case"mouseout":td=null;break;case"pointerover":case"pointerout":nd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rd.delete(t.pointerId)}}function od(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=Ge(t))&&$h(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function ld(e){var t=We(e.target);if(null!==t){var n=M(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=V(n)))return e.blockedOn=t,void function(e,t){var n=B.p;try{return B.p=e,t()}finally{B.p=n}}(e.priority,(function(){if(13===n.tag){var e=jc(),t=Ir(n,e);null!==t&&Pc(t,0,e),Bh(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function cd(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gh(e.nativeEvent);if(null!==n)return null!==(t=Ge(n))&&$h(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);jt=r,n.target.dispatchEvent(r),jt=null,t.shift()}return!0}function ud(e,t,n){cd(e)&&n.delete(t)}function hd(){Jh=!1,null!==Zh&&cd(Zh)&&(Zh=null),null!==ed&&cd(ed)&&(ed=null),null!==td&&cd(td)&&(td=null),nd.forEach(ud),rd.forEach(ud)}function dd(e,t){e.blockedOn===t&&(e.blockedOn=null,Jh||(Jh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,hd)))}var fd=null;function pd(e){fd!==e&&(fd=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){fd===e&&(fd=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===Yh(r||n))continue;break}var s=Ge(n);null!==s&&(e.splice(t,3),t-=3,ua(s,{pending:!0,data:i,method:n.method,action:r},r,i))}})))}function md(e){function t(t){return dd(t,e)}null!==Zh&&dd(Zh,e),null!==ed&&dd(ed,e),null!==td&&dd(td,e),nd.forEach(t),rd.forEach(t);for(var n=0;n<id.length;n++){var r=id[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<id.length&&null===(n=id[0]).blockedOn;)ld(n),null===n.blockedOn&&id.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],a=i[Fe]||null;if("function"===typeof s)a||pd(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(i=s,a=s[Fe]||null)o=a.formAction;else if(null!==Yh(i))continue}else o=a.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),pd(n)}}}function gd(e){this._internalRoot=e}function vd(e){this._internalRoot=e}vd.prototype.render=gd.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Uh(t.current,jc(),e,t,null,null)},vd.prototype.unmount=gd.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;0===e.tag&&tu(),Uh(e.current,2,null,e,null,null),Vc(),t[Ue]=null}},vd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Le();e={blockedOn:null,target:e,priority:t};for(var n=0;n<id.length&&0!==t&&t<id[n].priority;n++);id.splice(n,0,e),0===n&&ld(e)}};var yd=i.version;if("19.0.0"!==yd)throw Error(a(527,yd,"19.0.0"));B.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=M(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return F(i),e;if(s===r)return F(i),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?U(e):null)?null:e.stateNode};var bd={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:j,findFiberByHostInstance:We,reconcilerVersion:"19.0.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var wd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wd.isDisabled&&wd.supportsFiber)try{ve=wd.inject(bd),ye=wd}catch(Sd){}}t.createRoot=function(e,t){if(!o(e))throw Error(a(299));var n=!1,r="",i=Da,s=Oa,l=La;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Vh(e,1,!1,null,0,n,r,i,s,l,0,null),e[Ue]=t.current,Pu(8===e.nodeType?e.parentNode:e),new gd(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(a(299));var r=!1,i="",s=Da,l=Oa,c=La,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Vh(e,1,!0,t,0,r,i,s,l,c,0,u)).context=Fh(null),n=t.current,(i=Ao(r=jc())).callback=null,Po(n,i,r),t.current.lanes=r,Pe(t,r),mu(t),e[Ue]=t.current,Pu(e),new vd(t)},t.version="19.0.0"},43:(e,t,n)=>{"use strict";e.exports=n(288)},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,S={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function _(e,t,r,i,s,a){return r=a.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:a}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(){}function I(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case d:return I((u=e._init)(e._payload),t,i,s,a)}}if(u)return a=a(e),u=""===s?"."+C(e,0):s,x(a)?(i="",null!=u&&(i=u.replace(T,"$&/")+"/"),I(a,t,i,"",(function(e){return e}))):null!=a&&(E(a)&&(l=a,c=i+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+u,a=_(l.type,c,void 0,0,0,l.props)),t.push(a)),1;u=0;var h,p=""===s?".":s+":";if(x(e))for(var m=0;m<e.length;m++)u+=I(s=e[m],t,i,o=p+C(s,m),a);else if("function"===typeof(m=null===(h=e)||"object"!==typeof h?null:"function"===typeof(h=f&&h[f]||h["@@iterator"])?h:null))for(e=m.call(e),m=0;!(s=e.next()).done;)u+=I(s=s.value,t,i,o=p+C(s,m++),a);else if("object"===o){if("function"===typeof e.then)return I(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(N,N):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,s,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function j(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function R(){}t.Children={map:j,forEach:function(e,t,n){j(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return j(e,(function(){t++})),t},toArray:function(e){return j(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,t.act=function(){throw Error("act(...) is not supported in production builds of React.")},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(s in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!k.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var a=Array(s),o=0;o<s;o++)a[o]=arguments[o+2];r.children=a}return _(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,i={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)k.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return _(e,s,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=S.T,n={};S.T=n;try{var r=e(),i=S.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(R,P)}catch(s){P(s)}finally{S.T=t}},t.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},t.use=function(e){return S.H.use(e)},t.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},t.useCallback=function(e,t){return S.H.useCallback(e,t)},t.useContext=function(e){return S.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return S.H.useEffect(e,t)},t.useId=function(){return S.H.useId()},t.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.H.useMemo(e,t)},t.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},t.useRef=function(e){return S.H.useRef(e)},t.useState=function(e){return S.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return S.H.useTransition()},t.version="19.0.0"},358:(e,t)=>{"use strict";const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{"use strict";e.exports=n(799)},672:(e,t,n)=>{"use strict";var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var a={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.0.0"},794:()=>{},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var s in r={},t)"key"!==s&&(r[s]=t[s]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},853:(e,t,n)=>{"use strict";e.exports=n(896)},896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,A();else{var t=r(u);null!==t&&P(x,t.startTime-e)}}var S,k=!1,_=-1,E=5,T=-1;function C(){return!(t.unstable_now()-T<E)}function N(){if(k){var e=t.unstable_now();T=e;var n=!0;try{e:{m=!1,g&&(g=!1,y(_),_=-1),p=!0;var s=f;try{t:{for(w(e),d=r(c);null!==d&&!(d.expirationTime>e&&C());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var o=a(d.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){d.callback=o,w(e),n=!0;break t}d===r(c)&&i(c),w(e)}else i(c);d=r(c)}if(null!==d)n=!0;else{var l=r(u);null!==l&&P(x,l.startTime-e),n=!1}}break e}finally{d=null,f=s,p=!1}n=void 0}}finally{n?S():k=!1}}}if("function"===typeof b)S=function(){b(N)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,j=I.port2;I.port1.onmessage=N,S=function(){j.postMessage(null)}}else S=function(){v(N,0)};function A(){k||(k=!0,S())}function P(e,n){_=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,A())},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(_),_=-1):g=!0,P(x,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,A())),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".ed3810f9.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="my-app:";n.l=(r,i,s,a)=>{if(e[r])e[r].push(i);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+s){o=h;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=r),e[r]=[i];var d=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/ElectroFix/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var a=n.p+n.u(t),o=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",o.name="ChunkLoadError",o.type=s,o.request=a,i[1](o)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,a=r[0],o=r[1],l=r[2],c=0;if(a.some((t=>0!==e[t]))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)l(n)}for(t&&t(r);c<a.length;c++)s=a[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkmy_app=self.webpackChunkmy_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e=n(43),t=n(391),r=(n(358),"popstate");function i(){return h((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return l("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:c(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function s(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function a(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Rx){}}}function o(e,t){return{usr:e.state,key:e.key,idx:t}}function l(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?u(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function c(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function u(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function h(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:a=document.defaultView,v5Compat:u=!1}=i,h=a.history,d="POP",f=null,p=m();function m(){return(h.state||{idx:null}).idx}function g(){d="POP";let e=m(),t=null==e?null:e-p;p=e,f&&f({action:d,location:y.location,delta:t})}function v(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"===typeof e?e:c(e);return n=n.replace(/ $/,"%20"),s(t,`No window.location.(origin|href) available to create URL for href: ${n}`),new URL(n,t)}null==p&&(p=0,h.replaceState({...h.state,idx:p},""));let y={get action(){return d},get location(){return e(a,h)},listen(e){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(r,g),f=e,()=>{a.removeEventListener(r,g),f=null}},createHref:e=>t(a,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){d="PUSH";let r=l(y.location,e,t);n&&n(r,e),p=m()+1;let i=o(r,p),s=y.createHref(r);try{h.pushState(i,"",s)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;a.location.assign(s)}u&&f&&f({action:d,location:y.location,delta:1})},replace:function(e,t){d="REPLACE";let r=l(y.location,e,t);n&&n(r,e),p=m();let i=o(r,p),s=y.createHref(r);h.replaceState(i,"",s),u&&f&&f({action:d,location:y.location,delta:0})},go:e=>h.go(e)};return y}function d(e,t){return f(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function f(e,t,n,r){let i=C(("string"===typeof t?u(t):t).pathname||"/",n);if(null==i)return null;let s=p(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=T(i);a=_(s[o],e,r)}return a}function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=(e,i,a)=>{let o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(s(o.relativePath.startsWith(r),`Absolute route path "${o.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),o.relativePath=o.relativePath.slice(r.length));let l=P([r,o.relativePath]),c=n.concat(o);e.children&&e.children.length>0&&(s(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),p(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:k(l,e.index),routesMeta:c})};return e.forEach(((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of m(e.path))i(e,t,n);else i(e,t)})),t}function m(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=m(r.join("/")),o=[];return o.push(...a.map((e=>""===e?s:[s,e].join("/")))),i&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}var g=/^:[\w-]+$/,v=3,y=2,b=1,w=10,x=-2,S=e=>"*"===e;function k(e,t){let n=e.split("/"),r=n.length;return n.some(S)&&(r+=x),t&&(r+=y),n.filter((e=>!S(e))).reduce(((e,t)=>e+(g.test(t)?v:""===t?b:w)),r)}function _(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=E({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=E({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:P([s,u.pathname]),pathnameBase:R(P([s,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(s=P([s,u.pathnameBase]))}return a}function E(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];a("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=l[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const a=l[n];return e[r]=i&&!a?void 0:(a||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:o,pattern:e}}function T(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return a(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function C(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function N(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function I(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function j(e){let t=I(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function A(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=u(e):(r={...e},s(!r.pathname||!r.pathname.includes("?"),N("?","pathname","search",r)),s(!r.pathname||!r.pathname.includes("#"),N("#","pathname","hash",r)),s(!r.search||!r.search.includes("#"),N("#","search","hash",r)));let a,o=""===e||""===r.pathname,l=o?"/":r.pathname;if(null==l)a=n;else{let e=t.length-1;if(!i&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}a=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?u(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:D(r),hash:O(i)}}(r,a),h=l&&"/"!==l&&l.endsWith("/"),d=(o||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!h&&!d||(c.pathname+="/"),c}var P=e=>e.join("/").replace(/\/\/+/g,"/"),R=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),D=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",O=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function L(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var M=["POST","PUT","PATCH","DELETE"],V=(new Set(M),["GET",...M]);new Set(V),Symbol("ResetLoaderData");var F=e.createContext(null);F.displayName="DataRouter";var U=e.createContext(null);U.displayName="DataRouterState";var z=e.createContext({isTransitioning:!1});z.displayName="ViewTransition";var B=e.createContext(new Map);B.displayName="Fetchers";var $=e.createContext(null);$.displayName="Await";var H=e.createContext(null);H.displayName="Navigation";var q=e.createContext(null);q.displayName="Location";var K=e.createContext({outlet:null,matches:[],isDataRoute:!1});K.displayName="Route";var W=e.createContext(null);W.displayName="RouteError";function G(){return null!=e.useContext(q)}function Q(){return s(G(),"useLocation() may be used only in the context of a <Router> component."),e.useContext(q).location}var Y="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function X(t){e.useContext(H).static||e.useLayoutEffect(t)}function J(){let{isDataRoute:t}=e.useContext(K);return t?function(){let{router:t}=oe("useNavigate"),n=ce("useNavigate"),r=e.useRef(!1);X((()=>{r.current=!0}));let i=e.useCallback((async function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(r.current,Y),r.current&&("number"===typeof e?t.navigate(e):await t.navigate(e,{fromRouteId:n,...i}))}),[t,n]);return i}():function(){s(G(),"useNavigate() may be used only in the context of a <Router> component.");let t=e.useContext(F),{basename:n,navigator:r}=e.useContext(H),{matches:i}=e.useContext(K),{pathname:o}=Q(),l=JSON.stringify(j(i)),c=e.useRef(!1);X((()=>{c.current=!0}));let u=e.useCallback((function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(a(c.current,Y),!c.current)return;if("number"===typeof e)return void r.go(e);let s=A(e,JSON.parse(l),o,"path"===i.relative);null==t&&"/"!==n&&(s.pathname="/"===s.pathname?n:P([n,s.pathname])),(i.replace?r.replace:r.push)(s,i.state,i)}),[n,r,l,o,t]);return u}()}e.createContext(null);function Z(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=e.useContext(K),{pathname:i}=Q(),s=JSON.stringify(j(r));return e.useMemo((()=>A(t,JSON.parse(s),i,"path"===n)),[t,s,i,n])}function ee(t,n,r,i){s(G(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:l}=e.useContext(H),{matches:c}=e.useContext(K),h=c[c.length-1],f=h?h.params:{},p=h?h.pathname:"/",m=h?h.pathnameBase:"/",g=h&&h.route;{let e=g&&g.path||"";de(p,!g||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let v,y=Q();if(n){let e="string"===typeof n?u(n):n;s("/"===m||e.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${e.pathname}" was given in the \`location\` prop.`),v=e}else v=y;let b=v.pathname||"/",w=b;if("/"!==m){let e=m.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=!l&&r&&r.matches&&r.matches.length>0?r.matches:d(t,{pathname:w});a(g||null!=x,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),a(null==x||void 0!==x[x.length-1].route.element||void 0!==x[x.length-1].route.Component||void 0!==x[x.length-1].route.lazy,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=se(x&&x.map((e=>Object.assign({},e,{params:Object.assign({},f,e.params),pathname:P([m,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?m:P([m,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),c,r,i);return n&&S?e.createElement(q.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},S):S}function te(){let t=ue(),n=L(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=e.createElement(e.Fragment,null,e.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),e.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",e.createElement("code",{style:a},"ErrorBoundary")," or"," ",e.createElement("code",{style:a},"errorElement")," prop on your route.")),e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:s},r):null,o)}var ne=e.createElement(te,null),re=class extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?e.createElement(K.Provider,{value:this.props.routeContext},e.createElement(W.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ie(t){let{routeContext:n,match:r,children:i}=t,s=e.useContext(F);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(K.Provider,{value:n},i)}function se(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==t){if(!r)return null;if(r.errors)t=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;t=r.matches}}let i=t,a=r?.errors;if(null!=a){let e=i.findIndex((e=>e.route.id&&void 0!==a?.[e.route.id]));s(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,e+1))}let o=!1,l=-1;if(r)for(let e=0;e<i.length;e++){let t=i[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(l=e),t.route.id){let{loaderData:e,errors:n}=r,s=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!n||void 0===n[t.route.id]);if(t.route.lazy||s){o=!0,i=l>=0?i.slice(0,l+1):[i[0]];break}}}return i.reduceRight(((t,s,c)=>{let u,h=!1,d=null,f=null;r&&(u=a&&s.route.id?a[s.route.id]:void 0,d=s.route.errorElement||ne,o&&(l<0&&0===c?(de("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,f=null):l===c&&(h=!0,f=s.route.hydrateFallbackElement||null)));let p=n.concat(i.slice(0,c+1)),m=()=>{let n;return n=u?d:h?f:s.route.Component?e.createElement(s.route.Component,null):s.route.element?s.route.element:t,e.createElement(ie,{match:s,routeContext:{outlet:t,matches:p,isDataRoute:null!=r},children:n})};return r&&(s.route.ErrorBoundary||s.route.errorElement||0===c)?e.createElement(re,{location:r.location,revalidation:r.revalidation,component:d,error:u,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()}),null)}function ae(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oe(t){let n=e.useContext(F);return s(n,ae(t)),n}function le(t){let n=e.useContext(U);return s(n,ae(t)),n}function ce(t){let n=function(t){let n=e.useContext(K);return s(n,ae(t)),n}(t),r=n.matches[n.matches.length-1];return s(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function ue(){let t=e.useContext(W),n=le("useRouteError"),r=ce("useRouteError");return void 0!==t?t:n.errors?.[r]}var he={};function de(e,t,n){t||he[e]||(he[e]=!0,a(!1,n))}e.memo((function(e){let{routes:t,future:n,state:r}=e;return ee(t,void 0,r,n)}));function fe(t){let{to:n,replace:r,state:i,relative:o}=t;s(G(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=e.useContext(H);a(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=e.useContext(K),{pathname:u}=Q(),h=J(),d=A(n,j(c),u,"path"===o),f=JSON.stringify(d);return e.useEffect((()=>{h(JSON.parse(f),{replace:r,state:i,relative:o})}),[h,f,o,r,i]),null}function pe(e){s(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function me(t){let{basename:n="/",children:r=null,location:i,navigationType:o="POP",navigator:l,static:c=!1}=t;s(!G(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),d=e.useMemo((()=>({basename:h,navigator:l,static:c,future:{}})),[h,l,c]);"string"===typeof i&&(i=u(i));let{pathname:f="/",search:p="",hash:m="",state:g=null,key:v="default"}=i,y=e.useMemo((()=>{let e=C(f,h);return null==e?null:{location:{pathname:e,search:p,hash:m,state:g,key:v},navigationType:o}}),[h,f,p,m,g,v,o]);return a(null!=y,`<Router basename="${h}"> is not able to match the URL "${f}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),null==y?null:e.createElement(H.Provider,{value:d},e.createElement(q.Provider,{children:r,value:y}))}function ge(e){let{children:t,location:n}=e;return ee(ve(t),n)}e.Component;function ve(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return e.Children.forEach(t,((t,i)=>{if(!e.isValidElement(t))return;let a=[...n,i];if(t.type===e.Fragment)return void r.push.apply(r,ve(t.props.children,a));s(t.type===pe,`[${"string"===typeof t.type?t.type:t.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),s(!t.props.index||!t.props.children,"An index route cannot have child routes.");let o={id:t.props.id||a.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:!0===t.props.hasErrorBoundary||null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(o.children=ve(t.props.children,a)),r.push(o)})),r}var ye="get",be="application/x-www-form-urlencoded";function we(e){return null!=e&&"string"===typeof e.tagName}var xe=null;var Se=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ke(e){return null==e||Se.has(e)?e:(a(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${be}"`),null)}function _e(e,t){let n,r,i,s,a;if(we(o=e)&&"form"===o.tagName.toLowerCase()){let a=e.getAttribute("action");r=a?C(a,t):null,n=e.getAttribute("method")||ye,i=ke(e.getAttribute("enctype"))||be,s=new FormData(e)}else if(function(e){return we(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return we(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||a.getAttribute("action");if(r=o?C(o,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||ye,i=ke(e.getAttribute("formenctype"))||ke(a.getAttribute("enctype"))||be,s=new FormData(a,e),!function(){if(null===xe)try{new FormData(document.createElement("form"),0),xe=!1}catch(Rx){xe=!0}return xe}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";s.append(`${e}x`,"0"),s.append(`${e}y`,"0")}else t&&s.append(t,r)}}else{if(we(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ye,r=null,i=be,a=e}var o;return s&&"text/plain"===i&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}function Ee(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Te(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function Ce(e){return null!=e&&"string"===typeof e.page}function Ne(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Ie(e,t,n,r,i,s){let a=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===s?t.filter(((e,t)=>a(e,t)||o(e,t))):"data"===s?t.filter(((t,s)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(a(t,s)||o(t,s))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function je(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i})).flat(1),[...new Set(r)];var r}function Ae(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,i)=>{if(t&&!Ce(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let s=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(s)||(n.add(s),e.push({key:s,link:i})),e}),[])}function Pe(e){return{__html:e}}Symbol("SingleFetchRedirect");function Re(e){let t="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===t.pathname?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}e.Component;function De(t){let{error:n,isOutsideRemixApp:r}=t;console.error(n);let i,s=e.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(L(n))return e.createElement(Oe,{title:"Unhandled Thrown Response!"},e.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),s);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return e.createElement(Oe,{title:"Application Error!",isOutsideRemixApp:r},e.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),e.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),s)}function Oe(t){let{title:n,renderScripts:r,isOutsideRemixApp:i,children:s}=t,{routeModules:a}=Ue();return a.root?.Layout&&!i?s:e.createElement("html",{lang:"en"},e.createElement("head",null,e.createElement("meta",{charSet:"utf-8"}),e.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),e.createElement("title",null,n)),e.createElement("body",null,e.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,r?e.createElement(We,null):null)))}function Le(e){return!0===e}function Me(){let t=e.useContext(F);return Ee(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Ve(){let t=e.useContext(U);return Ee(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Fe=e.createContext(void 0);function Ue(){let t=e.useContext(Fe);return Ee(t,"You must render this element inside a <HydratedRouter> element"),t}function ze(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Be(e,t,n){if(n&&!Ke)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function $e(t){let{page:n,...r}=t,{router:i}=Me(),s=e.useMemo((()=>d(i.routes,n,i.basename)),[i.routes,n,i.basename]);return s?e.createElement(qe,{page:n,matches:s,...r}):null}function He(t){let{manifest:n,routeModules:r}=Ue(),[i,s]=e.useState([]);return e.useEffect((()=>{let e=!1;return async function(e,t,n){return Ae((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await Te(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(Ne).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"})))}(t,n,r).then((t=>{e||s(t)})),()=>{e=!0}}),[t,n,r]),i}function qe(t){let{page:n,matches:r,...i}=t,s=Q(),{manifest:a,routeModules:o}=Ue(),{loaderData:l,matches:c}=Ve(),u=e.useMemo((()=>Ie(n,r,c,a,s,"data")),[n,r,c,a,s]),h=e.useMemo((()=>Ie(n,r,c,a,s,"assets")),[n,r,c,a,s]),d=e.useMemo((()=>{if(n===s.pathname+s.search+s.hash)return[];let e=new Set,t=!1;if(r.forEach((n=>{let r=a.routes[n.route.id];r&&r.hasLoader&&(!u.some((e=>e.route.id===n.route.id))&&n.route.id in l&&o[n.route.id]?.shouldRevalidate||r.hasClientLoader?t=!0:e.add(n.route.id))})),0===e.size)return[];let i=Re(n);return t&&e.size>0&&i.searchParams.set("_routes",r.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[i.pathname+i.search]}),[l,s,a,u,r,n,o]),f=e.useMemo((()=>je(h,a)),[h,a]),p=He(h);return e.createElement(e.Fragment,null,d.map((t=>e.createElement("link",{key:t,rel:"prefetch",as:"fetch",href:t,...i}))),f.map((t=>e.createElement("link",{key:t,rel:"modulepreload",href:t,...i}))),p.map((t=>{let{key:n,link:r}=t;return e.createElement("link",{key:n,...r})})))}Fe.displayName="FrameworkContext";var Ke=!1;function We(t){let{manifest:n,serverHandoffString:r,isSpaMode:i,ssr:s,renderMeta:a}=Ue(),{router:o,static:l,staticContext:c}=Me(),{matches:u}=Ve(),h=Le(s);a&&(a.didRenderScripts=!0);let f=Be(u,null,i);e.useEffect((()=>{0}),[]);let p=e.useMemo((()=>{let i=c?`window.__reactRouterContext = ${r};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",s=l?`${n.hmr?.runtime?`import ${JSON.stringify(n.hmr.runtime)};`:""}${h?"":`import ${JSON.stringify(n.url)}`};\n${f.map(((e,t)=>{let r=`route${t}`,i=n.routes[e.route.id];Ee(i,`Route ${e.route.id} not found in manifest`);let{clientActionModule:s,clientLoaderModule:a,hydrateFallbackModule:o,module:l}=i,c=[...s?[{module:s,varName:`${r}_clientAction`}]:[],...a?[{module:a,varName:`${r}_clientLoader`}]:[],...o?[{module:o,varName:`${r}_HydrateFallback`}]:[],{module:l,varName:`${r}_main`}];return 1===c.length?`import * as ${r} from ${JSON.stringify(l)};`:[c.map((e=>`import * as ${e.varName} from "${e.module}";`)).join("\n"),`const ${r} = {${c.map((e=>`...${e.varName}`)).join(",")}};`].join("\n")})).join("\n")}\n  ${h?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let n=new Set(t.state.matches.map((e=>e.route.id))),r=t.state.location.pathname.split("/").filter(Boolean),i=["/"];for(r.pop();r.length>0;)i.push(`/${r.join("/")}`),r.pop();i.forEach((e=>{let r=d(t.routes,e,t.basename);r&&r.forEach((e=>n.add(e.route.id)))}));let s=[...n].reduce(((t,n)=>Object.assign(t,{[n]:e.routes[n]})),{});return{...e,routes:s}}(n,o),null,2)};`:""}\n  window.__reactRouterRouteModules = {${f.map(((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`)).join(",")}};\n\nimport(${JSON.stringify(n.entry.module)});`:" ";return e.createElement(e.Fragment,null,e.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Pe(i),type:void 0}),e.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Pe(s),type:"module",async:!0}))}),[]),m=Ke?[]:n.entry.imports.concat(je(f,n,{includeHydrateFallback:!0}));return Ke?null:e.createElement(e.Fragment,null,h?null:e.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:t.crossOrigin}),e.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:t.crossOrigin}),[...new Set(g)].map((n=>e.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:t.crossOrigin}))),p);var g}function Ge(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var Qe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{Qe&&(window.__reactRouterVersion="7.2.0")}catch(Rx){}function Ye(t){let{basename:n,children:r,window:s}=t,a=e.useRef();null==a.current&&(a.current=i({window:s,v5Compat:!0}));let o=a.current,[l,c]=e.useState({action:o.action,location:o.location}),u=e.useCallback((t=>{e.startTransition((()=>c(t)))}),[c]);return e.useLayoutEffect((()=>o.listen(u)),[o,u]),e.createElement(me,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:o})}var Xe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Je=e.forwardRef((function(t,n){let r,{onClick:i,discover:o="render",prefetch:l="none",relative:u,reloadDocument:h,replace:d,state:f,target:p,to:m,preventScrollReset:g,viewTransition:v,...y}=t,{basename:b}=e.useContext(H),w="string"===typeof m&&Xe.test(m),x=!1;if("string"===typeof m&&w&&(r=m,Qe))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=C(t.pathname,b);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:x=!0}catch(Rx){a(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(G(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=e.useContext(H),{hash:a,pathname:o,search:l}=Z(t,{relative:n}),c=o;return"/"!==r&&(c="/"===o?r:P([r,o])),i.createHref({pathname:c,search:l,hash:a})}(m,{relative:u}),[k,_,E]=function(t,n){let r=e.useContext(Fe),[i,s]=e.useState(!1),[a,o]=e.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:d}=n,f=e.useRef(null);e.useEffect((()=>{if("render"===t&&o(!0),"viewport"===t){let e=new IntersectionObserver((e=>{e.forEach((e=>{o(e.isIntersecting)}))}),{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}}),[t]),e.useEffect((()=>{if(i){let e=setTimeout((()=>{o(!0)}),100);return()=>{clearTimeout(e)}}}),[i]);let p=()=>{s(!0)},m=()=>{s(!1),o(!1)};return r?"intent"!==t?[a,f,{}]:[a,f,{onFocus:ze(l,p),onBlur:ze(c,m),onMouseEnter:ze(u,p),onMouseLeave:ze(h,m),onTouchStart:ze(d,p)}]:[!1,f,{}]}(l,y),T=function(t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=J(),u=Q(),h=Z(t,{relative:a});return e.useCallback((e=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,n)){e.preventDefault();let n=void 0!==r?r:c(u)===c(h);l(t,{replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o})}}),[u,l,h,r,i,n,t,s,a,o])}(m,{replace:d,state:f,target:p,preventScrollReset:g,relative:u,viewTransition:v});let N=e.createElement("a",{...y,...E,href:r||S,onClick:x||h?i:function(e){i&&i(e),e.defaultPrevented||T(e)},ref:Ge(n,_),target:p,"data-discover":w||"render"!==o?void 0:"true"});return k&&!w?e.createElement(e.Fragment,null,N,e.createElement($e,{page:S})):N}));Je.displayName="Link";var Ze=e.forwardRef((function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:a="",end:o=!1,style:l,to:c,viewTransition:u,children:h,...d}=t,f=Z(c,{relative:d.relative}),p=Q(),m=e.useContext(U),{navigator:g,basename:v}=e.useContext(H),y=null!=m&&function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.useContext(z);s(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=nt("useViewTransitionState"),a=Z(t,{relative:n.relative});if(!r.isTransitioning)return!1;let o=C(r.currentLocation.pathname,i)||r.currentLocation.pathname,l=C(r.nextLocation.pathname,i)||r.nextLocation.pathname;return null!=E(a.pathname,l)||null!=E(a.pathname,o)}(f)&&!0===u,b=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,w=p.pathname,x=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(w=w.toLowerCase(),x=x?x.toLowerCase():null,b=b.toLowerCase()),x&&v&&(x=C(x,v)||x);const S="/"!==b&&b.endsWith("/")?b.length-1:b.length;let k,_=w===b||!o&&w.startsWith(b)&&"/"===w.charAt(S),T=null!=x&&(x===b||!o&&x.startsWith(b)&&"/"===x.charAt(b.length)),N={isActive:_,isPending:T,isTransitioning:y},I=_?r:void 0;k="function"===typeof a?a(N):[a,_?"active":null,T?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let j="function"===typeof l?l(N):l;return e.createElement(Je,{...d,"aria-current":I,className:k,ref:n,style:j,to:c,viewTransition:u},"function"===typeof h?h(N):h)}));Ze.displayName="NavLink";var et=e.forwardRef(((t,n)=>{let{discover:r="render",fetcherKey:i,navigate:a,reloadDocument:o,replace:l,state:u,method:h=ye,action:d,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:g,...v}=t,y=st(),b=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=e.useContext(H),i=e.useContext(K);s(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),o={...Z(t||".",{relative:n})},l=Q();if(null==t){o.search=l.search;let e=new URLSearchParams(o.search),t=e.getAll("index"),n=t.some((e=>""===e));if(n){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();o.search=n?`?${n}`:""}}t&&"."!==t||!a.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(o.pathname="/"===o.pathname?r:P([r,o.pathname]));return c(o)}(d,{relative:p}),w="get"===h.toLowerCase()?"get":"post",x="string"===typeof d&&Xe.test(d);return e.createElement("form",{ref:n,method:w,action:b,onSubmit:o?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=t?.getAttribute("formmethod")||h;y(t||e.currentTarget,{fetcherKey:i,method:n,navigate:a,replace:l,state:u,relative:p,preventScrollReset:m,viewTransition:g})},...v,"data-discover":x||"render"!==r?void 0:"true"})}));function tt(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nt(t){let n=e.useContext(F);return s(n,tt(t)),n}et.displayName="Form";var rt=0,it=()=>`__${String(++rt)}__`;function st(){let{router:t}=nt("useSubmit"),{basename:n}=e.useContext(H),r=ce("useRouteId");return e.useCallback((async function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:a,encType:o,formData:l,body:c}=_e(e,n);if(!1===i.navigate){let e=i.fetcherKey||it();await t.fetch(e,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})}),[t,n,r])}new TextEncoder;var at={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ot=e.createContext&&e.createContext(at),lt=["attr","size","title"];function ct(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ut(){return ut=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ut.apply(this,arguments)}function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){ft(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ft(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pt(t){return t&&t.map(((t,n)=>e.createElement(t.tag,dt({key:n},t.attr),pt(t.child))))}function mt(t){return n=>e.createElement(gt,ut({attr:dt({},t.attr)},n),pt(t.child))}function gt(t){var n=n=>{var r,{attr:i,size:s,title:a}=t,o=ct(t,lt),l=s||n.size||"1em";return n.className&&(r=n.className),t.className&&(r=(r?r+" ":"")+t.className),e.createElement("svg",ut({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,o,{className:r,style:dt(dt({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&e.createElement("title",null,a),t.children)};return void 0!==ot?e.createElement(ot.Consumer,null,(e=>n(e))):n(at)}function vt(e){return mt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(e)}function yt(e){return mt({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M296 160H180.6l42.6-129.8C227.2 15 215.7 0 200 0H56C44 0 33.8 8.9 32.2 20.8l-32 240C-1.7 275.2 9.5 288 24 288h118.7L96.6 482.5c-3.6 15.2 8 29.5 23.3 29.5 8.4 0 16.4-4.4 20.8-12l176-304c9.3-15.9-2.2-36-20.7-36z"},child:[]}]})(e)}function bt(e){return mt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"},child:[]}]})(e)}function wt(e){return mt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M320 336c0 8.84-7.16 16-16 16h-96c-8.84 0-16-7.16-16-16v-48H0v144c0 25.6 22.4 48 48 48h416c25.6 0 48-22.4 48-48V288H320v48zm144-208h-80V80c0-25.6-22.4-48-48-48H176c-25.6 0-48 22.4-48 48v48H48c-25.6 0-48 22.4-48 48v80h512v-80c0-25.6-22.4-48-48-48zm-144 0H192V96h128v32z"},child:[]}]})(e)}function xt(e){return mt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function St(e){return mt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M499.99 176h-59.87l-16.64-41.6C406.38 91.63 365.57 64 319.5 64h-127c-46.06 0-86.88 27.63-103.99 70.4L71.87 176H12.01C4.2 176-1.53 183.34.37 190.91l6 24C7.7 220.25 12.5 224 18.01 224h20.07C24.65 235.73 16 252.78 16 272v48c0 16.12 6.16 30.67 16 41.93V416c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-32h256v32c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-54.07c9.84-11.25 16-25.8 16-41.93v-48c0-19.22-8.65-36.27-22.07-48H494c5.51 0 10.31-3.75 11.64-9.09l6-24c1.89-7.57-3.84-14.91-11.65-14.91zm-352.06-17.83c7.29-18.22 24.94-30.17 44.57-30.17h127c19.63 0 37.28 11.95 44.57 30.17L384 208H128l19.93-49.83zM96 319.8c-19.2 0-32-12.76-32-31.9S76.8 256 96 256s48 28.71 48 47.85-28.8 15.95-48 15.95zm320 0c-19.2 0-48 3.19-48-15.95S396.8 256 416 256s32 12.76 32 31.9-12.8 31.9-32 31.9z"},child:[]}]})(e)}function kt(e){return mt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M458.622 255.92l45.985-45.005c13.708-12.977 7.316-36.039-10.664-40.339l-62.65-15.99 17.661-62.015c4.991-17.838-11.829-34.663-29.661-29.671l-61.994 17.667-15.984-62.671C337.085.197 313.765-6.276 300.99 7.228L256 53.57 211.011 7.229c-12.63-13.351-36.047-7.234-40.325 10.668l-15.984 62.671-61.995-17.667C74.87 57.907 58.056 74.738 63.046 92.572l17.661 62.015-62.65 15.99C.069 174.878-6.31 197.944 7.392 210.915l45.985 45.005-45.985 45.004c-13.708 12.977-7.316 36.039 10.664 40.339l62.65 15.99-17.661 62.015c-4.991 17.838 11.829 34.663 29.661 29.671l61.994-17.667 15.984 62.671c4.439 18.575 27.696 24.018 40.325 10.668L256 458.61l44.989 46.001c12.5 13.488 35.987 7.486 40.325-10.668l15.984-62.671 61.994 17.667c17.836 4.994 34.651-11.837 29.661-29.671l-17.661-62.015 62.65-15.99c17.987-4.302 24.366-27.367 10.664-40.339l-45.984-45.004z"},child:[]}]})(e)}function _t(e){return mt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(e)}function Et(e){return mt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function Tt(e){return mt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function Ct(e){return mt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function Nt(e){return mt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function It(e){return mt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function jt(e){return mt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function At(e){return mt({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(e)}function Pt(e){return mt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(e)}function Rt(e){return mt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 448c0 17.7 14.3 32 32 32h160V320H32v128zm256 32h160c17.7 0 32-14.3 32-32V320H288v160zm192-320h-42.1c6.2-12.1 10.1-25.5 10.1-40 0-48.5-39.5-88-88-88-41.6 0-68.5 21.3-103 68.3-34.5-47-61.4-68.3-103-68.3-48.5 0-88 39.5-88 88 0 14.5 3.8 27.9 10.1 40H32c-17.7 0-32 14.3-32 32v80c0 8.8 7.2 16 16 16h480c8.8 0 16-7.2 16-16v-80c0-17.7-14.3-32-32-32zm-326.1 0c-22.1 0-40-17.9-40-40s17.9-40 40-40c19.9 0 34.6 3.3 86.1 80h-86.1zm206.1 0h-86.1c51.4-76.5 65.7-80 86.1-80 22.1 0 40 17.9 40 40s-17.9 40-40 40z"},child:[]}]})(e)}function Dt(e){return mt({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(e)}function Ot(e){return mt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M434.7 64h-85.9c-8 0-15.7 3-21.6 8.4l-98.3 90c-.1.1-.2.3-.3.4-16.6 15.6-16.3 40.5-2.1 56 12.7 13.9 39.4 17.6 56.1 2.7.1-.1.3-.1.4-.2l79.9-73.2c6.5-5.9 16.7-5.5 22.6 1 6 6.5 5.5 16.6-1 22.6l-26.1 23.9L504 313.8c2.9 2.4 5.5 5 7.9 7.7V128l-54.6-54.6c-5.9-6-14.1-9.4-22.6-9.4zM544 128.2v223.9c0 17.7 14.3 32 32 32h64V128.2h-96zm48 223.9c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zM0 384h64c17.7 0 32-14.3 32-32V128.2H0V384zm48-63.9c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16c0-8.9 7.2-16 16-16zm435.9 18.6L334.6 217.5l-30 27.5c-29.7 27.1-75.2 24.5-101.7-4.4-26.9-29.4-24.8-74.9 4.4-101.7L289.1 64h-83.8c-8.5 0-16.6 3.4-22.6 9.4L128 128v223.9h18.3l90.5 81.9c27.4 22.3 67.7 18.1 90-9.3l.2-.2 17.9 15.5c15.9 13 39.4 10.5 52.3-5.4l31.4-38.6 5.4 4.4c13.7 11.1 33.9 9.1 45-4.7l9.5-11.7c11.2-13.8 9.1-33.9-4.6-45.1z"},child:[]}]})(e)}function Lt(e){return mt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(e)}function Mt(e){return mt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(e)}function Vt(e){return mt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 32H48C21.5 32 0 53.5 0 80v16h576V80c0-26.5-21.5-48-48-48zM0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V128H0v304zm352-232c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zM176 192c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zM67.1 396.2C75.5 370.5 99.6 352 128 352h8.2c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h8.2c28.4 0 52.5 18.5 60.9 44.2 3.2 9.9-5.2 19.8-15.6 19.8H82.7c-10.4 0-18.8-10-15.6-19.8z"},child:[]}]})(e)}function Ft(e){return mt({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"},child:[]}]})(e)}function Ut(e){return mt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M444.52 3.52L28.74 195.42c-47.97 22.39-31.98 92.75 19.19 92.75h175.91v175.91c0 51.17 70.36 67.17 92.75 19.19l191.9-415.78c15.99-38.39-25.59-79.97-63.97-63.97z"},child:[]}]})(e)}function zt(e){return mt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}function Bt(e){return mt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 0c-69.59 0-126 56.41-126 126 0 56.26 82.35 158.8 113.9 196.02 6.39 7.54 17.82 7.54 24.2 0C331.65 284.8 414 182.26 414 126 414 56.41 357.59 0 288 0zm0 168c-23.2 0-42-18.8-42-42s18.8-42 42-42 42 18.8 42 42-18.8 42-42 42zM20.12 215.95A32.006 32.006 0 0 0 0 245.66v250.32c0 11.32 11.43 19.06 21.94 14.86L160 448V214.92c-8.84-15.98-16.07-31.54-21.25-46.42L20.12 215.95zM288 359.67c-14.07 0-27.38-6.18-36.51-16.96-19.66-23.2-40.57-49.62-59.49-76.72v182l192 64V266c-18.92 27.09-39.82 53.52-59.49 76.72-9.13 10.77-22.44 16.95-36.51 16.95zm266.06-198.51L416 224v288l139.88-55.95A31.996 31.996 0 0 0 576 426.34V176.02c0-11.32-11.43-19.06-21.94-14.86z"},child:[]}]})(e)}function $t(e){return mt({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function Ht(e){return mt({tag:"svg",attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M112 316.94v156.69l22.02 33.02c4.75 7.12 15.22 7.12 19.97 0L176 473.63V316.94c-10.39 1.92-21.06 3.06-32 3.06s-21.61-1.14-32-3.06zM144 0C64.47 0 0 64.47 0 144s64.47 144 144 144 144-64.47 144-144S223.53 0 144 0zm0 76c-37.5 0-68 30.5-68 68 0 6.62-5.38 12-12 12s-12-5.38-12-12c0-50.73 41.28-92 92-92 6.62 0 12 5.38 12 12s-5.38 12-12 12z"},child:[]}]})(e)}function qt(e){return mt({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M272 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h224c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM160 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm112-108c0 6.6-5.4 12-12 12H60c-6.6 0-12-5.4-12-12V60c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v312z"},child:[]}]})(e)}function Kt(e){return mt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(e)}function Wt(e){return mt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}function Gt(e){return mt({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M320,32a32,32,0,0,0-64,0v96h64Zm48,128H16A16,16,0,0,0,0,176v32a16,16,0,0,0,16,16H32v32A160.07,160.07,0,0,0,160,412.8V512h64V412.8A160.07,160.07,0,0,0,352,256V224h16a16,16,0,0,0,16-16V176A16,16,0,0,0,368,160ZM128,32a32,32,0,0,0-64,0v96h64Z"},child:[]}]})(e)}function Qt(e){return mt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function Yt(e){return mt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(e)}function Xt(e){return mt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function Jt(e){return mt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(e)}function Zt(e){return mt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(e)}function en(e){return mt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"},child:[]}]})(e)}function tn(e){return mt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function nn(e){return mt({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm80 168c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zm-160 0c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zm194.8 170.2C334.3 380.4 292.5 400 248 400s-86.3-19.6-114.8-53.8c-13.6-16.3 11-36.7 24.6-20.5 22.4 26.9 55.2 42.2 90.2 42.2s67.8-15.4 90.2-42.2c13.4-16.2 38.1 4.2 24.6 20.5z"},child:[]}]})(e)}function rn(e){return mt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(e)}function sn(e){return mt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(e)}function an(e){return mt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(e)}function on(e){return mt({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function ln(e){return mt({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M205.22 22.09c-7.94-28.78-49.44-30.12-58.44 0C100.01 179.85 0 222.72 0 333.91 0 432.35 78.72 512 176 512s176-79.65 176-178.09c0-111.75-99.79-153.34-146.78-311.82zM176 448c-61.75 0-112-50.25-112-112 0-8.84 7.16-16 16-16s16 7.16 16 16c0 44.11 35.89 80 80 80 8.84 0 16 7.16 16 16s-7.16 16-16 16z"},child:[]}]})(e)}function cn(e){return mt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M501.1 395.7L384 278.6c-23.1-23.1-57.6-27.6-85.4-13.9L192 158.1V96L64 0 0 64l96 128h62.1l106.6 106.6c-13.6 27.8-9.2 62.3 13.9 85.4l117.1 117.1c14.6 14.6 38.2 14.6 52.7 0l52.7-52.7c14.5-14.6 14.5-38.2 0-52.7zM331.7 225c28.3 0 54.9 11 74.9 31l19.4 19.4c15.8-6.9 30.8-16.5 43.8-29.5 37.1-37.1 49.7-89.3 37.9-136.7-2.2-9-13.5-12.1-20.1-5.5l-74.4 74.4-67.9-11.3L334 98.9l74.4-74.4c6.6-6.6 3.4-17.9-5.7-20.2-47.4-11.7-99.6.9-136.6 37.9-28.5 28.5-41.9 66.1-41.2 103.6l82.1 82.1c8.1-1.9 16.5-2.9 24.7-2.9zm-103.9 82l-56.7-56.7L18.7 402.8c-25 25-25 65.5 0 90.5s65.5 25 90.5 0l123.6-123.6c-7.6-19.9-9.9-41.6-5-62.7zM64 472c-13.2 0-24-10.8-24-24 0-13.3 10.7-24 24-24s24 10.7 24 24c0 13.2-10.7 24-24 24z"},child:[]}]})(e)}function un(e){return mt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function hn(e){return mt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function dn(e){return mt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function fn(e){return mt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function pn(e){return mt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}const mn=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},gn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;o||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(mn(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new vn;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class vn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yn=function(e){return function(e){const t=mn(e);return gn.encodeByteArray(t,!0)}(e).replace(/\./g,"")},bn=function(e){try{return gn.decodeString(e,!0)}catch(Rx){console.error("base64Decode failed: ",Rx)}return null};const wn=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,xn=()=>{try{return wn()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/ElectroFix",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Rx){return}const t=e&&bn(e[1]);return t&&JSON.parse(t)})()}catch(Rx){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Rx}`)}},Sn=e=>{var t,n;return null===(n=null===(t=xn())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},kn=()=>{var e;return null===(e=xn())||void 0===e?void 0:e.config},_n=e=>{var t;return null===(t=xn())||void 0===t?void 0:t[`_${e}`]};class En{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Tn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Cn(){return!function(){var e;const t=null===(e=xn())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Rx){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Nn(){try{return"object"===typeof indexedDB}catch(Rx){return!1}}class In extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,In.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jn.prototype.create)}}class jn{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(An,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new In(n,s,t)}}const An=/\{\$([^}]+)}/g;function Pn(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Rn(n)&&Rn(s)){if(!Pn(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Rn(e){return null!==e&&"object"===typeof e}function Dn(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function On(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Ln(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Mn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Vn),void 0===r.error&&(r.error=Vn),void 0===r.complete&&(r.complete=Vn);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(Rx){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(Rx){"undefined"!==typeof console&&console.error&&console.error(Rx)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Vn(){}function Fn(e){return e&&e._delegate?e._delegate:e}class Un{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const zn="[DEFAULT]";class Bn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new En;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(Rx){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Rx){if(r)return null;throw Rx}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:zn})}catch(Rx){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(Rx){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===zn?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zn;return this.component?this.component.multipleInstances?e:zn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class $n{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Bn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Hn=[];var qn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(qn||(qn={}));const Kn={debug:qn.DEBUG,verbose:qn.VERBOSE,info:qn.INFO,warn:qn.WARN,error:qn.ERROR,silent:qn.SILENT},Wn=qn.INFO,Gn={[qn.DEBUG]:"log",[qn.VERBOSE]:"log",[qn.INFO]:"info",[qn.WARN]:"warn",[qn.ERROR]:"error"},Qn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Gn[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r](`[${n}]  ${e.name}:`,...s)};class Yn{constructor(e){this.name=e,this._logLevel=Wn,this._logHandler=Qn,this._userLogHandler=null,Hn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Kn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,qn.DEBUG,...t),this._logHandler(this,qn.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,qn.VERBOSE,...t),this._logHandler(this,qn.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,qn.INFO,...t),this._logHandler(this,qn.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,qn.WARN,...t),this._logHandler(this,qn.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,qn.ERROR,...t),this._logHandler(this,qn.ERROR,...t)}}let Xn,Jn;const Zn=new WeakMap,er=new WeakMap,tr=new WeakMap,nr=new WeakMap,rr=new WeakMap;let ir={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return er.get(e);if("objectStoreNames"===t)return e.objectStoreNames||tr.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return or(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function sr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Jn||(Jn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(lr(this),n),or(Zn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return or(e.apply(lr(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(lr(this),t,...r);return tr.set(s,t.sort?t.sort():[t]),or(s)}}function ar(e){return"function"===typeof e?sr(e):(e instanceof IDBTransaction&&function(e){if(er.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));er.set(e,t)}(e),t=e,(Xn||(Xn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,ir):e);var t}function or(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(or(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&Zn.set(t,e)})).catch((()=>{})),rr.set(t,e),t}(e);if(nr.has(e))return nr.get(e);const t=ar(e);return t!==e&&(nr.set(e,t),rr.set(t,e)),t}const lr=e=>rr.get(e);const cr=["get","getKey","getAll","getAllKeys","count"],ur=["put","add","delete","clear"],hr=new Map;function dr(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(hr.get(t))return hr.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=ur.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!cr.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return hr.set(t,s),s}ir=(e=>({...e,get:(t,n,r)=>dr(t,n)||e.get(t,n,r),has:(t,n)=>!!dr(t,n)||e.has(t,n)}))(ir);class fr{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const pr="@firebase/app",mr="0.11.2",gr=new Yn("@firebase/app"),vr="@firebase/app-compat",yr="@firebase/analytics-compat",br="@firebase/analytics",wr="@firebase/app-check-compat",xr="@firebase/app-check",Sr="@firebase/auth",kr="@firebase/auth-compat",_r="@firebase/database",Er="@firebase/data-connect",Tr="@firebase/database-compat",Cr="@firebase/functions",Nr="@firebase/functions-compat",Ir="@firebase/installations",jr="@firebase/installations-compat",Ar="@firebase/messaging",Pr="@firebase/messaging-compat",Rr="@firebase/performance",Dr="@firebase/performance-compat",Or="@firebase/remote-config",Lr="@firebase/remote-config-compat",Mr="@firebase/storage",Vr="@firebase/storage-compat",Fr="@firebase/firestore",Ur="@firebase/vertexai",zr="@firebase/firestore-compat",Br="firebase",$r="[DEFAULT]",Hr={[pr]:"fire-core",[vr]:"fire-core-compat",[br]:"fire-analytics",[yr]:"fire-analytics-compat",[xr]:"fire-app-check",[wr]:"fire-app-check-compat",[Sr]:"fire-auth",[kr]:"fire-auth-compat",[_r]:"fire-rtdb",[Er]:"fire-data-connect",[Tr]:"fire-rtdb-compat",[Cr]:"fire-fn",[Nr]:"fire-fn-compat",[Ir]:"fire-iid",[jr]:"fire-iid-compat",[Ar]:"fire-fcm",[Pr]:"fire-fcm-compat",[Rr]:"fire-perf",[Dr]:"fire-perf-compat",[Or]:"fire-rc",[Lr]:"fire-rc-compat",[Mr]:"fire-gcs",[Vr]:"fire-gcs-compat",[Fr]:"fire-fst",[zr]:"fire-fst-compat",[Ur]:"fire-vertex","fire-js":"fire-js",[Br]:"fire-js-all"},qr=new Map,Kr=new Map,Wr=new Map;function Gr(e,t){try{e.container.addComponent(t)}catch(Rx){gr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,Rx)}}function Qr(e){const t=e.name;if(Wr.has(t))return gr.debug(`There were multiple attempts to register component ${t}.`),!1;Wr.set(t,e);for(const n of qr.values())Gr(n,e);for(const n of Kr.values())Gr(n,e);return!0}function Yr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Xr(e){return null!==e&&void 0!==e&&void 0!==e.settings}const Jr=new jn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Zr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Un("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}}const ei="11.4.0";function ti(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:$r,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Jr.create("bad-app-name",{appName:String(i)});if(n||(n=kn()),!n)throw Jr.create("no-options");const s=qr.get(i);if(s){if(Pn(n,s.options)&&Pn(r,s.config))return s;throw Jr.create("duplicate-app",{appName:i})}const a=new $n(i);for(const l of Wr.values())a.addComponent(l);const o=new Zr(n,r,a);return qr.set(i,o),o}function ni(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$r;const t=qr.get(e);if(!t&&e===$r&&kn())return ti();if(!t)throw Jr.create("no-app",{appName:e});return t}function ri(e,t,n){var r;let i=null!==(r=Hr[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void gr.warn(e.join(" "))}Qr(new Un(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const ii="firebase-heartbeat-store";let si=null;function ai(){return si||(si=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=or(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(or(a.result),e.oldVersion,e.newVersion,or(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(ii)}catch(Rx){console.warn(Rx)}}}).catch((e=>{throw Jr.create("idb-open",{originalErrorMessage:e.message})}))),si}async function oi(e,t){try{const n=(await ai()).transaction(ii,"readwrite"),r=n.objectStore(ii);await r.put(t,li(e)),await n.done}catch(Rx){if(Rx instanceof In)gr.warn(Rx.message);else{const t=Jr.create("idb-set",{originalErrorMessage:null===Rx||void 0===Rx?void 0:Rx.message});gr.warn(t.message)}}}function li(e){return`${e.name}!${e.options.appId}`}class ci{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new hi(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ui();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(Rx){gr.warn(Rx)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=ui(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),di(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),di(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=yn(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(Rx){return gr.warn(Rx),""}}}function ui(){return(new Date).toISOString().substring(0,10)}class hi{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Nn()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ai()).transaction(ii),n=await t.objectStore(ii).get(li(e));return await t.done,n}catch(Rx){if(Rx instanceof In)gr.warn(Rx.message);else{const t=Jr.create("idb-get",{originalErrorMessage:null===Rx||void 0===Rx?void 0:Rx.message});gr.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return oi(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return oi(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function di(e){return yn(JSON.stringify({version:2,heartbeats:e})).length}var fi;fi="",Qr(new Un("platform-logger",(e=>new fr(e)),"PRIVATE")),Qr(new Un("heartbeat",(e=>new ci(e)),"PRIVATE")),ri(pr,mr,fi),ri(pr,mr,"esm2017"),ri("fire-js","");ri("firebase","11.4.0","app");function pi(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function mi(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gi=mi,vi=new jn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),yi=new Yn("@firebase/auth");function bi(e){if(yi.logLevel<=qn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];yi.error(`Auth (${ei}): ${e}`,...n)}}function wi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ei(e,...n)}function xi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ei(e,...n)}function Si(e,t,n){const r=Object.assign(Object.assign({},gi()),{[t]:n});return new jn("auth","Firebase",r).create(t,{appName:e.name})}function ki(e){return Si(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _i(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&wi(e,"argument-error"),Si(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ei(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return vi.create(e,...n)}function Ti(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ei(t,...r)}}function Ci(e){const t="INTERNAL ASSERTION FAILED: "+e;throw bi(t),new Error(t)}function Ni(e,t){e||Ci(t)}function Ii(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ji(){return"http:"===Ai()||"https:"===Ai()}function Ai(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Pi(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ji()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Ri{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ni(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tn())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Pi()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Di(e,t){Ni(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Oi{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Li={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Mi=new Ri(3e4,6e4);function Vi(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Fi(e,t,n,r){return Ui(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=Dn(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),Oi.fetch()(Bi(e,e.config.apiHost,n,a),l)}))}async function Ui(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Li),t);try{const t=new Hi(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw qi(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw qi(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw qi(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw qi(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Si(e,o,a);wi(e,o)}}catch(Rx){if(Rx instanceof In)throw Rx;wi(e,"network-request-failed",{message:String(Rx)})}}async function zi(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Fi(e,t,n,r,i);return"mfaPendingCredential"in s&&wi(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Bi(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Di(e.config,i):`${e.config.apiScheme}://${i}`}function $i(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Hi{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(xi(this.auth,"network-request-failed"))),Mi.get())}))}}function qi(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=xi(e,t,r);return i.customData._tokenResponse=n,i}function Ki(e){return void 0!==e&&void 0!==e.enterprise}class Wi{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return $i(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Gi(e,t){return Fi(e,"GET","/v2/recaptchaConfig",Vi(e,t))}async function Qi(e,t){return Fi(e,"POST","/v1/accounts:lookup",t)}function Yi(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(Rx){}}function Xi(e){return 1e3*Number(e)}function Ji(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return bi("JWT malformed, contained fewer than 3 sections"),null;try{const e=bn(n);return e?JSON.parse(e):(bi("Failed to decode base64 JWT payload"),null)}catch(Rx){return bi("Caught error parsing JWT payload as JSON",null===Rx||void 0===Rx?void 0:Rx.toString()),null}}function Zi(e){const t=Ji(e);return Ti(t,"internal-error"),Ti("undefined"!==typeof t.exp,"internal-error"),Ti("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function es(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(Rx){throw Rx instanceof In&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(Rx)&&e.auth.currentUser===e&&await e.auth.signOut(),Rx}}class ts{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(Rx){return void("auth/network-request-failed"===(null===Rx||void 0===Rx?void 0:Rx.code)&&this.schedule(!0))}this.schedule()}}class ns{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yi(this.lastLoginAt),this.creationTime=Yi(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function rs(e){var t;const n=e.auth,r=await e.getIdToken(),i=await es(e,Qi(n,{idToken:r}));Ti(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?is(s.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new ns(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}function is(e){return e.map((e=>{var{providerId:t}=e,n=pi(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class ss{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ti(e.idToken,"internal-error"),Ti("undefined"!==typeof e.idToken,"internal-error"),Ti("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Zi(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ti(0!==e.length,"internal-error");const t=Zi(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Ti(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Ui(e,{},(async()=>{const n=Dn({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Bi(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Oi.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new ss;return n&&(Ti("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Ti("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Ti("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ss,this.toJSON())}_performRefresh(){return Ci("not implemented")}}function as(e,t){Ti("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class os{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=pi(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ts(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ns(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await es(this,this.stsTokenManager.getToken(this.auth,e));return Ti(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Fn(e),r=await n.getIdToken(t),i=Ji(r);Ti(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Yi(Xi(i.auth_time)),issuedAtTime:Yi(Xi(i.iat)),expirationTime:Yi(Xi(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Fn(e);await rs(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Ti(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new os(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ti(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await rs(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xr(this.auth.app))return Promise.reject(ki(this.auth));const e=await this.getIdToken();return await es(this,async function(e,t){return Fi(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:S}=t;Ti(y&&S,e,"internal-error");const k=ss.fromJSON(this.name,S);Ti("string"===typeof y,e,"internal-error"),as(u,e.name),as(h,e.name),Ti("boolean"===typeof b,e,"internal-error"),Ti("boolean"===typeof w,e,"internal-error"),as(d,e.name),as(f,e.name),as(p,e.name),as(m,e.name),as(g,e.name),as(v,e.name);const _=new os({uid:y,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:k,createdAt:g,lastLoginAt:v});return x&&Array.isArray(x)&&(_.providerData=x.map((e=>Object.assign({},e)))),m&&(_._redirectEventId=m),_}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new ss;r.updateFromServerResponse(t);const i=new os({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await rs(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Ti(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?is(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new ss;a.updateFromIdToken(n);const o=new os({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new ns(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(o,l),o}}const ls=new Map;function cs(e){Ni(e instanceof Function,"Expected a class definition");let t=ls.get(e);return t?(Ni(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ls.set(e,t),t)}class us{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}us.type="NONE";const hs=us;function ds(e,t,n){return`firebase:${e}:${t}:${n}`}class fs{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ds(this.userKey,r.apiKey,i),this.fullPersistenceKey=ds("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?os._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new fs(cs(hs),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||cs(hs);const s=ds(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){const n=os._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new fs(i,e,n)):new fs(i,e,n)}}function ps(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ys(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ms(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ws(t))return"Blackberry";if(xs(t))return"Webos";if(gs(t))return"Safari";if((t.includes("chrome/")||vs(t))&&!t.includes("edge/"))return"Chrome";if(bs(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function ms(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn();return/firefox\//i.test(e)}function gs(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn();return/crios\//i.test(e)}function ys(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn();return/iemobile/i.test(e)}function bs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn();return/android/i.test(e)}function ws(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn();return/blackberry/i.test(e)}function xs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn();return/webos/i.test(e)}function Ss(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ks(){return function(){const e=Tn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function _s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn();return Ss(e)||bs(e)||xs(e)||ws(e)||/windows phone/i.test(e)||ys(e)}function Es(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ps(Tn());break;case"Worker":t=`${ps(Tn())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${ei}/${r}`}class Ts{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(Rx){r(Rx)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(Rx){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===Rx||void 0===Rx?void 0:Rx.message})}}}class Cs{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Ns{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new js(this),this.idTokenSubscription=new js(this),this.beforeStateQueue=new Ts(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vi,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=cs(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await fs.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(Rx){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Qi(this,{idToken:e}),n=await os._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Xr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(Rx){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(Rx)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ti(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(Rx){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await rs(e)}catch(Rx){if("auth/network-request-failed"!==(null===Rx||void 0===Rx?void 0:Rx.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xr(this.app))return Promise.reject(ki(this));const t=e?Fn(e):null;return t&&Ti(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Ti(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return Xr(this.app)?Promise.reject(ki(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xr(this.app)?Promise.reject(ki(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(cs(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Fi(e,"GET","/v2/passwordPolicy",Vi(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Cs(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new jn("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Fi(e,"POST","/v2/accounts:revokeToken",Vi(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&cs(e)||this._popupRedirectResolver;Ti(t,this,"argument-error"),this.redirectPersistenceManager=await fs.create(this,[cs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ti(a,this,"internal-error"),a.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ti(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Es(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Xr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(yi.logLevel<=qn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];yi.warn(`Auth (${ei}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function Is(e){return Fn(e)}class js{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Mn(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Ti(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let As={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ps(e){return As.loadJS(e)}function Rs(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Ds{constructor(){this.enterprise=new Os}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Os{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Ls="NO_RECAPTCHA";class Ms{constructor(e){this.type="recaptcha-enterprise",this.auth=Is(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Ki(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(Ls)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Ds).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Gi(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Wi(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Ki(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=As.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Ps(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Vs(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new Ms(e);let a;if(i)a=Ls;else try{a=await s.verify(n)}catch(l){a=await s.verify(n,!0)}const o=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Fs(e,t,n,r,i){var s,a;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Vs(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await Vs(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}if("PHONE_PROVIDER"===i){if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("PHONE_PROVIDER")){const i=await Vs(e,t,n);return r(e,i).catch((async i=>{var s;if("AUDIT"===(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await Vs(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)}))}{const i=await Vs(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Us(e){const t=Is(e),n=await Gi(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Wi(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Ms(t).verify()}}function zs(e,t,n){const r=Is(e);Ti(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Bs(t),{host:a,port:o}=function(e){const t=Bs(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:$s(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:$s(t)}}}(t),l={url:`${s}//${a}${null===o?"":`:${o}`}/`},c=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return Ti(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Ti(Pn(l,r.config.emulator)&&Pn(c,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=l,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Bs(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function $s(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Hs{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ci("not implemented")}_getIdTokenResponse(e){return Ci("not implemented")}_linkToIdToken(e,t){return Ci("not implemented")}_getReauthenticationResolver(e){return Ci("not implemented")}}async function qs(e,t){return Fi(e,"POST","/v1/accounts:signUp",t)}async function Ks(e,t){return zi(e,"POST","/v1/accounts:signInWithPassword",Vi(e,t))}class Ws extends Hs{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Ws(e,t,"password")}static _fromEmailAndCode(e,t){return new Ws(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Fs(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ks,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return zi(e,"POST","/v1/accounts:signInWithEmailLink",Vi(e,t))}(e,{email:this._email,oobCode:this._password});default:wi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Fs(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qs,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return zi(e,"POST","/v1/accounts:signInWithEmailLink",Vi(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:wi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Gs(e,t){return zi(e,"POST","/v1/accounts:signInWithIdp",Vi(e,t))}class Qs extends Hs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):wi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=pi(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Qs(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Gs(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Gs(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Gs(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Dn(t)}return e}}async function Ys(e,t){return Fi(e,"POST","/v1/accounts:sendVerificationCode",Vi(e,t))}const Xs={USER_NOT_FOUND:"user-not-found"};class Js extends Hs{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Js({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Js({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return zi(e,"POST","/v1/accounts:signInWithPhoneNumber",Vi(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await zi(e,"POST","/v1/accounts:signInWithPhoneNumber",Vi(e,t));if(n.temporaryProof)throw qi(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return zi(e,"POST","/v1/accounts:signInWithPhoneNumber",Vi(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Xs)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Js({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Zs{constructor(e){var t,n,r,i,s,a;const o=On(Ln(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Ti(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=On(Ln(e)).link,n=t?On(Ln(t)).deep_link_id:null,r=On(Ln(e)).deep_link_id;return(r?On(Ln(r)).link:null)||r||n||t||e}(e);try{return new Zs(t)}catch(n){return null}}}class ea{constructor(){this.providerId=ea.PROVIDER_ID}static credential(e,t){return Ws._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Zs.parseLink(t);return Ti(n,"argument-error"),Ws._fromEmailAndCode(e,n.code,n.tenantId)}}ea.PROVIDER_ID="password",ea.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ea.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ta{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class na extends ta{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ra extends na{constructor(){super("facebook.com")}static credential(e){return Qs._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ra.credentialFromTaggedObject(e)}static credentialFromError(e){return ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ra.credential(t.oauthAccessToken)}catch(n){return null}}}ra.FACEBOOK_SIGN_IN_METHOD="facebook.com",ra.PROVIDER_ID="facebook.com";class ia extends na{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Qs._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ia.credentialFromTaggedObject(e)}static credentialFromError(e){return ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ia.credential(n,r)}catch(i){return null}}}ia.GOOGLE_SIGN_IN_METHOD="google.com",ia.PROVIDER_ID="google.com";class sa extends na{constructor(){super("github.com")}static credential(e){return Qs._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sa.credentialFromTaggedObject(e)}static credentialFromError(e){return sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return sa.credential(t.oauthAccessToken)}catch(n){return null}}}sa.GITHUB_SIGN_IN_METHOD="github.com",sa.PROVIDER_ID="github.com";class aa extends na{constructor(){super("twitter.com")}static credential(e,t){return Qs._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return aa.credential(n,r)}catch(i){return null}}}async function oa(e,t){return zi(e,"POST","/v1/accounts:signUp",Vi(e,t))}aa.TWITTER_SIGN_IN_METHOD="twitter.com",aa.PROVIDER_ID="twitter.com";class la{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await os._fromIdTokenResponse(e,n,r),s=ca(n);return new la({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=ca(n);return new la({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function ca(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class ua extends In{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,ua.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new ua(e,t,n,r)}}function ha(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw ua._fromErrorAndOperation(e,n,t,r);throw n}))}async function da(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await es(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return la._forOperation(e,"link",r)}async function fa(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Xr(r.app))return Promise.reject(ki(r));const i="reauthenticate";try{const s=await es(e,ha(r,i,t,e),n);Ti(s.idToken,r,"internal-error");const a=Ji(s.idToken);Ti(a,r,"internal-error");const{sub:o}=a;return Ti(e.uid===o,r,"user-mismatch"),la._forOperation(e,i,s)}catch(Rx){throw"auth/user-not-found"===(null===Rx||void 0===Rx?void 0:Rx.code)&&wi(r,"user-mismatch"),Rx}}async function pa(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Xr(e.app))return Promise.reject(ki(e));const r="signIn",i=await ha(e,r,t),s=await la._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function ma(e,t){return pa(Is(e),t)}async function ga(e){const t=Is(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function va(e,t){return Fi(e,"POST","/v2/accounts/mfaEnrollment:start",Vi(e,t))}new WeakMap;const ya="__sak";class ba{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ya,"1"),this.storage.removeItem(ya),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class wa extends ba{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_s(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);ks()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}wa.type="LOCAL";const xa=wa;class Sa extends ba{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Sa.type="SESSION";const ka=Sa;class _a{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new _a(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map((async e=>e(t.origin,i))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Ea(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}_a.receivers=[];class Ta{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((a,o)=>{const l=Ea("",20);r.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Ca(){return window}function Na(){return"undefined"!==typeof Ca().WorkerGlobalScope&&"function"===typeof Ca().importScripts}const Ia="firebaseLocalStorageDb",ja="firebaseLocalStorage",Aa="fbase_key";class Pa{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Ra(e,t){return e.transaction([ja],t?"readwrite":"readonly").objectStore(ja)}function Da(){const e=indexedDB.open(Ia,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(ja,{keyPath:Aa})}catch(Rx){n(Rx)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(ja)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Ia);return new Pa(e).toPromise()}(),t(await Da()))}))}))}async function Oa(e,t,n){const r=Ra(e,!0).put({[Aa]:t,value:n});return new Pa(r).toPromise()}function La(e,t){const n=Ra(e,!0).delete(t);return new Pa(n).toPromise()}class Ma{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Da()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(Rx){if(t++>3)throw Rx;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Na()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_a._getInstance(Na()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Ta(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Da();return await Oa(e,ya,"1"),await La(e,ya),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Oa(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Ra(e,!1).get(t),r=await new Pa(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>La(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Ra(e,!1).getAll();return new Pa(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ma.type="LOCAL";const Va=Ma;function Fa(e,t){return Fi(e,"POST","/v2/accounts/mfaSignIn:start",Vi(e,t))}Rs("rcb"),new Ri(3e4,6e4);const Ua="recaptcha";async function za(e,t,n){var r;if(!e._getRecaptchaConfig())try{await Us(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){Ti("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=Fs(e,r,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Ls){Ti((null===n||void 0===n?void 0:n.type)===Ua,e,"argument-error");return va(e,await Ba(e,t,n))}return va(e,t)}),"PHONE_PROVIDER");return(await s.catch((e=>Promise.reject(e)))).phoneSessionInfo.sessionInfo}{Ti("signin"===t.type,e,"internal-error");const s=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;Ti(s,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=Fs(e,a,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Ls){Ti((null===n||void 0===n?void 0:n.type)===Ua,e,"argument-error");return Fa(e,await Ba(e,t,n))}return Fa(e,t)}),"PHONE_PROVIDER");return(await o.catch((e=>Promise.reject(e)))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Fs(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===Ls){Ti((null===n||void 0===n?void 0:n.type)===Ua,e,"argument-error");return Ys(e,await Ba(e,t,n))}return Ys(e,t)}),"PHONE_PROVIDER");return(await r.catch((e=>Promise.reject(e)))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Ba(e,t,n){Ti(n.type===Ua,e,"argument-error");const r=await n.verify();Ti("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class $a{constructor(e){this.providerId=$a.PROVIDER_ID,this.auth=Is(e)}verifyPhoneNumber(e,t){return za(this.auth,e,Fn(t))}static credential(e,t){return Js._fromVerification(e,t)}static credentialFromResult(e){const t=e;return $a.credentialFromTaggedObject(t)}static credentialFromError(e){return $a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Js._fromTokenResponse(n,r):null}}function Ha(e,t){return t?cs(t):(Ti(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}$a.PROVIDER_ID="phone",$a.PHONE_SIGN_IN_METHOD="phone";class qa extends Hs{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Gs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Gs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Gs(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ka(e){return pa(e.auth,new qa(e),e.bypassAuthState)}function Wa(e){const{auth:t,user:n}=e;return Ti(n,t,"internal-error"),fa(n,new qa(e),e.bypassAuthState)}async function Ga(e){const{auth:t,user:n}=e;return Ti(n,t,"internal-error"),da(n,new qa(e),e.bypassAuthState)}class Qa{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(Rx){this.reject(Rx)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(Rx){this.reject(Rx)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ka;case"linkViaPopup":case"linkViaRedirect":return Ga;case"reauthViaPopup":case"reauthViaRedirect":return Wa;default:wi(this.auth,"internal-error")}}resolve(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ya=new Ri(2e3,1e4);class Xa extends Qa{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Xa.currentPopupAction&&Xa.currentPopupAction.cancel(),Xa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ti(e,this.auth,"internal-error"),e}async onExecution(){Ni(1===this.filter.length,"Popup operations only handle one event");const e=Ea();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(xi(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(xi(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Ya.get())};e()}}Xa.currentPopupAction=null;const Ja=new Map;class Za extends Qa{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Ja.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=no(t),r=to(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(Rx){e=()=>Promise.reject(Rx)}Ja.set(this.auth._key(),e)}return this.bypassAuthState||Ja.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function eo(e,t){Ja.set(e._key(),t)}function to(e){return cs(e._redirectPersistence)}function no(e){return ds("pendingRedirect",e.config.apiKey,e.name)}async function ro(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Xr(e.app))return Promise.reject(ki(e));const r=Is(e),i=Ha(r,t),s=new Za(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class io{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ao(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!ao(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(xi(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(so(e))}saveEventToCache(e){this.cachedEventUids.add(so(e)),this.lastProcessedEventTime=Date.now()}}function so(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function ao(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const oo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lo=/^https?/;async function co(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Fi(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(uo(r))return}catch(n){}wi(e,"unauthorized-domain")}function uo(e){const t=Ii(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!lo.test(n))return!1;if(oo.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ho=new Ri(3e4,6e4);function fo(){const e=Ca().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function po(e){return new Promise(((t,n)=>{var r,i,s;function a(){fo(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{fo(),n(xi(e,"network-request-failed"))},timeout:ho.get()})}if(null===(i=null===(r=Ca().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Ca().gapi)||void 0===s?void 0:s.load)){const t=Rs("iframefcb");return Ca()[t]=()=>{gapi.load?a():n(xi(e,"network-request-failed"))},Ps(`${As.gapiScript}?onload=${t}`).catch((e=>n(e)))}a()}})).catch((e=>{throw mo=null,e}))}let mo=null;const go=new Ri(5e3,15e3),vo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bo(e){const t=e.config;Ti(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Di(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:ei},i=yo.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Dn(r).slice(1)}`}async function wo(e){const t=await function(e){return mo=mo||po(e),mo}(e),n=Ca().gapi;return Ti(n,e,"internal-error"),t.open({where:document.body,url:bo(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vo,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=xi(e,"network-request-failed"),s=Ca().setTimeout((()=>{r(i)}),go.get());function a(){Ca().clearTimeout(s),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}const xo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class So{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(Rx){}}}function ko(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},xo),{width:r.toString(),height:i.toString(),top:s,left:a}),c=Tn().toLowerCase();n&&(o=vs(c)?"_blank":n),ms(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return Ss(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new So(null);const h=window.open(t||"",o,u);Ti(h,e,"popup-blocked");try{h.focus()}catch(Rx){}return new So(h)}const _o="__/auth/handler",Eo="emulator/auth/handler",To=encodeURIComponent("fac");async function Co(e,t,n,r,i,s){Ti(e.config.authDomain,e,"auth-domain-config-required"),Ti(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ei,eventId:i};if(t instanceof ta){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof na){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?`#${To}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${_o}`;return Di(t,Eo)}(e)}?${Dn(o).slice(1)}${c}`}const No="webStorageSupport";const Io=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ka,this._completeRedirectFn=ro,this._overrideRedirectResult=eo}async _openPopup(e,t,n,r){var i;Ni(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return ko(e,await Co(e,t,n,Ii(),r),Ea())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Ca().location.href=e}(await Co(e,t,n,Ii(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Ni(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await wo(e),n=new io(e);return t.register("authEvent",(t=>{Ti(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(No,{type:No},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[No];void 0!==i&&t(!!i),wi(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=co(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return _s()||gs()||Ss()}};var jo="@firebase/auth",Ao="1.9.1";class Po{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ti(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ro=_n("authIdTokenMaxAge")||300;let Do=null;var Oo,Lo;Oo={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=xi("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},As=Oo,Lo="Browser",Qr(new Un("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Ti(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:Lo,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Es(Lo)},c=new Ns(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(cs);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Qr(new Un("auth-internal",(e=>(e=>new Po(e))(Is(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),ri(jo,Ao,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Lo)),ri(jo,Ao,"esm2017");var Mo,Vo,Fo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Uo={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,a=0;a<t;){if(0==s)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return d(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var o=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(o,o);if(h(e))return t=g(d(e),t),new m(d(t.g),d(t.h));if(h(t))return t=g(e,d(t)),new m(d(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=y(n,1),s=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(i=i.add(n),s=c),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=a(n)).j(t);h(c)||0<c.l(e);)c=(s=a(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new m(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],a=0;a<i;a++)s[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(h(this))return"-"+d(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var a=i+(65535&this.i(s))+(65535&e.i(s)),o=(a>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=o>>>16,a&=65535,o&=65535,n[s]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,p(n,2*i+2*s),n[2*i+2*s+1]+=l*g,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*m,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*m,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Vo=Uo.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=o,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},Mo=Uo.Integer=r}).apply("undefined"!==typeof Fo?Fo:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var zo,Bo,$o,Ho,qo,Ko,Wo,Go,Qo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Yo={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Qo&&Qo];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in i))break e;i=i[a]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function d(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function k(e){i.setTimeout((()=>{throw e}),0)}function _(){var e=I;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var E=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new T),(e=>e.reset()));class T{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let C,N=!1,I=new class{constructor(){this.h=this.g=null}add(e,t){const n=E.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},j=()=>{const e=i.Promise.resolve(void 0);C=()=>{e.then(A)}};var A=()=>{for(var e;e=_();){try{e.h.call(e.g)}catch(n){k(n)}var t=E;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}N=!1};function P(){this.s=this.s,this.C=this.C}function R(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},R.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function O(e,t){if(R.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&O.aa.h.call(this)}}h(O,R);var L={2:"touch",3:"pen",4:"mouse"};O.prototype.h=function(){O.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),V=0;function F(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++V,this.da=this.fa=!1}function U(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(U(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function $(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}z.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=$(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new F(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),q={};function K(e,t,n,r,i){if(r&&r.once)return G(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)K(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.K(t,n,a(r)?!!r.capture:!!r,i):W(e,t,n,!1,r,i)}function W(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=a(i)?!!i.capture:!!i,l=Z(e);if(l||(e[H]=l=new z(e)),(n=l.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function G(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)G(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.L(t,n,a(r)?!!r.capture:!!r,i):W(e,t,n,!0,r,i)}function Q(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Q(e,t[s],n,r,i);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=$(s=e.g[t],n,r,i))&&(U(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$(t,n,r,i)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[H]=null)):U(e)}}}function X(e){return e in q?q[e]:q[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new O(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function Z(e){return(e=e[H])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){P.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new R(t,e);else if(t instanceof R)t.target=t.target||e;else{var i=t;x(t=new R(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=ie(a,r,!0,t)&&i}if(i=ie(a=t.g=e,r,!0,t)&&i,i=ie(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(a=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&B(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ae(e){e.g=se((()=>{e.g=null,e.i&&(e.i=!1,ae(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}h(ne,P),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Q(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)U(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends P{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){P.call(this),this.h=e,this.g={}}h(le,P);var ce=[];function ue(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Y(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=i.JSON.stringify,de=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){R.call(this,"d")}function be(){R.call(this,"c")}h(ye,R),h(be,R);var we={},xe=null;function Se(){return xe=xe||new ne}function ke(e){R.call(this,we.La,e)}function _e(e){const t=Se();re(t,new ke(t))}function Ee(e,t){R.call(this,we.STAT_EVENT,e),this.stat=t}function Te(e){const t=Se();re(t,new Ee(t,e))}function Ce(e,t){R.call(this,we.Ma,e),this.size=t}function Ne(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Ie(){this.g=!0}function je(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return he(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",h(ke,R),we.STAT_EVENT="statevent",h(Ee,R),we.Ma="timingevent",h(Ce,R),Ie.prototype.xa=function(){this.g=!1},Ie.prototype.info=function(){};var Ae,Pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Re={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Oe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}h(De,pe),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Ae=new De;var Me={},Ve={};function Fe(e,t,n){e.L=1,e.v=ht(at(t)),e.m=n,e.P=!0,Ue(e,null)}function Ue(e,t){e.F=Date.now(),$e(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Et(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var s=0;s<i.length;s++){var a=K(n,i[s],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),_e(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");a=2<=h.length&&"type"==h[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ve:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?Ve:(t=t.slice(r,r+n),e.C=r+n,t))}function $e(e){e.S=Date.now()+e.I,He(e,e.I)}function He(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ne(c(e.ba,e),t)}function qe(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||ln(e.j,e)}function We(e){qe(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ge(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),Yt(n)}rn(n),Te(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ne(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&on(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(qe(o),$e(o)),r.g=a}else nn(r);0<n.i.length&&Jt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Qt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}_e()}catch(u){}}Oe.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==qt(e)?t.j():this.Y(e)},Oe.prototype.Y=function(e){try{if(e==this.g)e:{const d=qt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||Kt(this.g)))){this.J||4!=d||7==t||_e(),qe(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=Kt(this.g);e="";var s=r.length,a=4==qt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){We(this),Ke(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Te(12),We(this),Ke(this);break e}je(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ge(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Be(this,o),e==Ve){4==d&&(this.s=4,Te(14),n=!1),je(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,Te(15),je(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}je(this.i,this.l,e,null),Ge(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=o.length||this.h.h||(this.s=1,Te(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),sn(h),h.M=!0,Te(11))}}else je(this.i,this.l,o,"[Invalid Chunked Response]"),We(this),Ke(this)}else je(this.i,this.l,o,null),Ge(this,o);4==d&&We(this),this.o&&!this.J&&(4==d?ln(this.j,this):(this.o=!1,$e(this)))}else(function(e){const t={};e=(e.g&&2<=qt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=S(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Te(12)):(this.s=0,Te(13)),We(this),Ke(this)}}}catch(d){}},Oe.prototype.cancel=function(){this.J=!0,We(this)},Oe.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(_e(),Te(17)),We(this),this.s=2,Ke(this)):He(this,this.S-e)};var Qe=class{constructor(e,t){this.g=e,this.map=t}};function Ye(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return d(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}Ye.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new xt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,ot(this,t[1]||"",!0),this.o=dt(t[2]||""),this.g=dt(t[3]||"",!0),lt(this,t[4]),this.l=dt(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=dt(t[7]||"")):(this.h=!1,this.i=new xt(null,this.h))}function at(e){return new st(e)}function ot(e,t,n){e.j=n?dt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof xt?(e.i=t,function(e,t){t&&!e.j&&(St(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(kt(this,t),Et(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,bt)),e.i=new xt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function ht(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function dt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,wt)),e.join("")};var mt,gt=/[#\/\?@]/g,vt=/[#\?:]/g,yt=/[#\?]/g,bt=/[#\?@]/g,wt=/#/g;function xt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function St(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function kt(e,t){St(e),t=Tt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function _t(e,t){return St(e),t=Tt(e,t),e.g.has(t)}function Et(e,t,n){kt(e,t),0<n.length&&(e.i=null,e.g.set(Tt(e,t),d(n)),e.h+=n.length)}function Tt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ct(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function Nt(){this.g=new fe}function It(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;a(e)&&(i=he(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(Rx){throw t.push(r+"type="+encodeURIComponent("_badmap")),Rx}}function jt(e){this.l=e.Ub||null,this.j=e.eb||!1}function At(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Pt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Rt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Dt(e)}function Dt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ot(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Lt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ot(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Mt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=xt.prototype).add=function(e,t){St(this),this.i=null,e=Tt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){St(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){St(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){St(this);let t=[];if("string"===typeof e)_t(this,e)&&(t=t.concat(this.g.get(Tt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return St(this),this.i=null,_t(this,e=Tt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},h(jt,pe),jt.prototype.g=function(){return new At(this.l,this.j)},jt.prototype.i=(mt={},function(){return mt}),h(At,ne),(e=At.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Dt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Dt(this)),this.g&&(this.readyState=3,Dt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Rt(this):Dt(this),3==this.readyState&&Pt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Rt(this))},e.Qa=function(e){this.g&&(this.response=e,Rt(this))},e.ga=function(){this.g&&Rt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(At.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h(Mt,ne);var Vt=/^https?$/i,Ft=["POST","PUT"];function Ut(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,zt(e),$t(e)}function zt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Bt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=qt(e)||2!=e.Z()))if(e.u&&4==qt(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==qt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var a=String(e.D).match(it)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),s=!Vt.test(a?a.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<qt(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",zt(e)}}finally{$t(e)}}}function $t(e,t){if(e.g){Ht(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(Rx){}}}function Ht(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function qt(e){return e.g?e.g.readyState:0}function Kt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Xo){return null}}function Wt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Gt(e){this.Aa=0,this.i=[],this.j=new Ie,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wt("baseRetryDelayMs",5e3,e),this.cb=Wt("retryDelaySeedMs",1e4,e),this.Wa=Wt("forwardChannelMaxRetries",2,e),this.wa=Wt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(e&&e.concurrentRequestLimit),this.Da=new Nt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Qt(e){if(Xt(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Oe(e,e.j,t)).L=2,t.v=ht(at(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),$e(t)}hn(e)}function Yt(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function Xt(e){Yt(e),e.u&&(i.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Jt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;C||j(),N||(C(),N=!0),I.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Lt(r,e.m,e.o),n=new Oe(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Fe(n,r,t)}function en(e,t){e.H&&y(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<n;o++){let n=i[o].g;const l=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),a=!1;else try{It(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;C||j(),N||(C(),N=!0),I.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ne(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function an(e){e.g=new Oe(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Lt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ht(at(t)),n.m=null,n.P=!0,Ue(n,e)}function on(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){on(e),sn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Se(),new Ce(r,n)),Jt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ne(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ot(r,"https"),ht(r),t?function(e,t){const n=new Ie;if(i.Image){const r=new Image;r.onload=u(Ct,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Ct,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Ct,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Ct,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ie;const n=new AbortController,r=setTimeout((()=>{n.abort(),Ct(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Ct(0,0,!0,t):Ct(0,0,!1,t)})).catch((()=>{clearTimeout(r),Ct(0,0,!1,t)}))}(r.toString(),n)}else Te(2);e.G=0,e.l&&e.l.sa(t),hn(e),Xt(e)}function hn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof st?at(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var a=new st(null);r&&ot(a,r),t&&(a.g=t),s&&lt(a,s),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new jt({eb:n})):new Mt(e.pa)).Ha(e.J),t}function pn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new Gt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function vn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?me(this.o):me(Ae),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Ut(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ht(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Ut(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),$t(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$t(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Bt(this):this.bb())},e.bb=function(){Bt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<qt(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),de(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Gt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Te(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),Jt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Oe(this,this.j,e);let s=this.o;if(this.S&&(s?(s=b(s),x(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Ot(s)))+"&"+t:this.m&&Lt(n,this.m,s)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Fe(i,n,null)):Fe(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Xe(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ne(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Te(10),Yt(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,Yt(this),rn(this),Te(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},h(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Qt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=he(e),e=n);t.i.push(new Qe(t.Ya++,e)),3==t.G&&Jt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,gn.aa.N.call(this)},h(vn,ye),h(yn,be),h(bn,pn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new vn(e))},bn.prototype.sa=function(e){re(this.g,new yn)},bn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,Go=Yo.createWebChannelTransport=function(){return new mn},Wo=Yo.getStatEventTarget=function(){return Se()},Ko=Yo.Event=we,qo=Yo.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pe.NO_ERROR=0,Pe.TIMEOUT=8,Pe.HTTP_ERROR=6,Ho=Yo.ErrorCode=Pe,Re.COMPLETE="complete",$o=Yo.EventType=Re,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Bo=Yo.WebChannel=ge,Yo.FetchXmlHttpFactory=jt,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,zo=Yo.XhrIo=Mt}).apply("undefined"!==typeof Qo?Qo:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Xo="@firebase/firestore",Jo="4.7.9";class Zo{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zo.UNAUTHENTICATED=new Zo(null),Zo.GOOGLE_CREDENTIALS=new Zo("google-credentials-uid"),Zo.FIRST_PARTY=new Zo("first-party-uid"),Zo.MOCK_USER=new Zo("mock-user");let el="11.4.0";const tl=new Yn("@firebase/firestore");function nl(){return tl.logLevel}function rl(e){if(tl.logLevel<=qn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(al);tl.debug(`Firestore (${el}): ${e}`,...i)}}function il(e){if(tl.logLevel<=qn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(al);tl.error(`Firestore (${el}): ${e}`,...i)}}function sl(e){if(tl.logLevel<=qn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(al);tl.warn(`Firestore (${el}): ${e}`,...i)}}function al(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function ol(){const e=`FIRESTORE (${el}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw il(e),new Error(e)}function ll(e,t){e||ol()}function cl(e,t){return e}const ul={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class hl extends In{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class dl{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class fl{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pl{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Zo.UNAUTHENTICATED)))}shutdown(){}}class ml{constructor(e){this.t=e,this.currentUser=Zo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ll(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new dl;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new dl,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{rl("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(rl("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new dl)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(rl("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(ll("string"==typeof t.accessToken),new fl(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ll(null===e||"string"==typeof e),new Zo(e)}}class gl{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Zo.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class vl{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new gl(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Zo.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class yl{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bl{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Xr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){ll(void 0===this.o);const n=e=>{null!=e.error&&rl("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,rl("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{rl("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):rl("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.V)return Promise.resolve(new yl(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(ll("string"==typeof e.token),this.R=e.token,new yl(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function wl(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class xl{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=wl(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Sl(e,t){return e<t?-1:e>t?1:0}function kl(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function _l(e){return e+"\0"}const El=-62135596800,Tl=1e6;class Cl{static now(){return Cl.fromMillis(Date.now())}static fromDate(e){return Cl.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Tl);return new Cl(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new hl(ul.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new hl(ul.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<El)throw new hl(ul.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new hl(ul.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Tl}_compareTo(e){return this.seconds===e.seconds?Sl(this.nanoseconds,e.nanoseconds):Sl(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-El;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Nl{static fromTimestamp(e){return new Nl(e)}static min(){return new Nl(new Cl(0,0))}static max(){return new Nl(new Cl(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Il="__name__";class jl{constructor(e,t,n){void 0===t?t=0:t>e.length&&ol(),void 0===n?n=e.length-t:n>e.length-t&&ol(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===jl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof jl?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=jl.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Math.sign(e.length-t.length)}static compareSegments(e,t){const n=jl.isNumericId(e),r=jl.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?jl.extractNumericId(e).compare(jl.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Mo.fromString(e.substring(4,e.length-2))}}class Al extends jl{construct(e,t,n){return new Al(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new hl(ul.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new Al(e)}static emptyPath(){return new Al([])}}const Pl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rl extends jl{construct(e,t,n){return new Rl(e,t,n)}static isValidIdentifier(e){return Pl.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rl.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Il}static keyField(){return new Rl([Il])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new hl(ul.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new hl(ul.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new hl(ul.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new hl(ul.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rl(t)}static emptyPath(){return new Rl([])}}class Dl{constructor(e){this.path=e}static fromPath(e){return new Dl(Al.fromString(e))}static fromName(e){return new Dl(Al.fromString(e).popFirst(5))}static empty(){return new Dl(Al.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Al.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Al.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Dl(new Al(e.slice()))}}const Ol=-1;class Ll{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function Ml(e){return e.fields.find((e=>2===e.kind))}function Vl(e){return e.fields.filter((e=>2!==e.kind))}Ll.UNKNOWN_ID=-1;class Fl{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ul{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ul(0,$l.min())}}function zl(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Nl.fromTimestamp(1e9===r?new Cl(n+1,0):new Cl(n,r));return new $l(i,Dl.empty(),t)}function Bl(e){return new $l(e.readTime,e.key,Ol)}class $l{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new $l(Nl.min(),Dl.empty(),Ol)}static max(){return new $l(Nl.max(),Dl.empty(),Ol)}}function Hl(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Dl.comparator(e.documentKey,t.documentKey),0!==n?n:Sl(e.largestBatchId,t.largestBatchId))}const ql="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Kl{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Wl(e){if(e.code!==ul.FAILED_PRECONDITION||e.message!==ql)throw e;rl("LocalStore","Unexpectedly lost primary lease")}class Gl{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ol(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Gl(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Gl?t:Gl.resolve(t)}catch(e){return Gl.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Gl.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Gl.reject(t)}static resolve(e){return new Gl(((t,n)=>{t(e)}))}static reject(e){return new Gl(((t,n)=>{n(e)}))}static waitFor(e){return new Gl(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=Gl.resolve(!1);for(const n of e)t=t.next((e=>e?Gl.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Gl(((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next((e=>{s[l]=e,++a,a===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new Gl(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}const Ql="SimpleDb";class Yl{static open(e,t,n,r){try{return new Yl(t,e.transaction(r,n))}catch(e){throw new ec(t,e)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.m=new dl,this.transaction.oncomplete=()=>{this.m.resolve()},this.transaction.onabort=()=>{t.error?this.m.reject(new ec(e,t.error)):this.m.resolve()},this.transaction.onerror=t=>{const n=sc(t.target.error);this.m.reject(new ec(e,n))}}get p(){return this.m.promise}abort(e){e&&this.m.reject(e),this.aborted||(rl(Ql,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}S(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new nc(t)}}class Xl{static delete(e){return rl(Ql,"Removing database:",e),rc(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Nn())return!1;if(Xl.v())return!0;const e=Tn(),t=Xl.C(e),n=0<t&&t<10,r=Jl(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static v(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static C(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}constructor(e,t,n){this.name=e,this.version=t,this.O=n,12.2===Xl.C(Tn())&&il("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async N(e){return this.db||(rl(Ql,"Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new ec(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new hl(ul.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new hl(ul.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new ec(e,r))},r.onupgradeneeded=e=>{rl(Ql,'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.O.B(t,r.transaction,e.oldVersion,this.version).next((()=>{rl(Ql,"Database upgrade to version "+this.version+" complete")}))}}))),this.L&&(this.db.onversionchange=e=>this.L(e)),this.db}k(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.N(e);const t=Yl.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.S(),e))).catch((e=>(t.abort(e),Gl.reject(e)))).toPromise();return s.catch((()=>{})),await t.p,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(rl(Ql,"Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}function Jl(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class Zl{constructor(e){this.q=e,this.$=!1,this.K=null}get isDone(){return this.$}get U(){return this.K}set cursor(e){this.q=e}done(){this.$=!0}W(e){this.K=e}delete(){return rc(this.q.delete())}}class ec extends hl{constructor(e,t){super(ul.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function tc(e){return"IndexedDbTransactionError"===e.name}class nc{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(rl(Ql,"PUT",this.store.name,e,t),n=this.store.put(t,e)):(rl(Ql,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),rc(n)}add(e){return rl(Ql,"ADD",this.store.name,e,e),rc(this.store.add(e))}get(e){return rc(this.store.get(e)).next((t=>(void 0===t&&(t=null),rl(Ql,"GET",this.store.name,e,t),t)))}delete(e){return rl(Ql,"DELETE",this.store.name,e),rc(this.store.delete(e))}count(){return rl(Ql,"COUNT",this.store.name),rc(this.store.count())}G(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new Gl(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.j(e,((e,n)=>{t.push(n)})).next((()=>t))}}H(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Gl(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}J(e,t){rl(Ql,"DELETE ALL",this.store.name);const n=this.options(e,t);n.Y=!1;const r=this.cursor(n);return this.j(r,((e,t,n)=>n.delete()))}Z(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.j(r,t)}X(e){const t=this.cursor({});return new Gl(((n,r)=>{t.onerror=e=>{const t=sc(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}j(e,t){const n=[];return new Gl(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new Zl(i),a=t(i.primaryKey,i.value,s);if(a instanceof Gl){const e=a.catch((e=>(s.done(),Gl.reject(e))));n.push(e)}s.isDone?r():null===s.U?i.continue():i.continue(s.U)}})).next((()=>Gl.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function rc(e){return new Gl(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=sc(e.target.error);n(t)}}))}let ic=!1;function sc(e){const t=Xl.C(Tn());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new hl("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ic||(ic=!0,setTimeout((()=>{throw e}),0)),e}}return e}const ac="IndexBackfiller";class oc{constructor(e,t){this.asyncQueue=e,this.ee=t,this.task=null}start(){this.te(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}te(e){rl(ac,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const e=await this.ee.ne();rl(ac,`Documents written: ${e}`)}catch(e){tc(e)?rl(ac,"Ignoring IndexedDB error during index backfill: ",e):await Wl(e)}await this.te(6e4)}))}}class lc{constructor(e,t){this.localStore=e,this.persistence=t}async ne(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.re(t,e)))}re(e,t){const n=new Set;let r=t,i=!0;return Gl.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return rl(ac,`Processing collection: ${t}`),this.ie(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}ie(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.se(r,n))).next((n=>(rl(ac,`Updating offset: ${n}`),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}se(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=Bl(t);Hl(r,n)>0&&(n=r)})),new $l(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class cc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.oe(e),this._e=e=>t.writeSequenceNumber(e))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}cc.ae=-1;const uc=-1;function hc(e){return null==e}function dc(e){return 0===e&&1/e==-1/0}function fc(e){return"number"==typeof e&&Number.isInteger(e)&&!dc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const pc="\x01";function mc(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=vc(t)),t=gc(e.get(n),t);return vc(t)}function gc(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case pc:n+="\x01\x11";break;default:n+=t}}return n}function vc(e){return e+pc+"\x01"}function yc(e){const t=e.length;if(ll(t>=2),2===t)return ll(e.charAt(0)===pc&&"\x01"===e.charAt(1)),Al.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf(pc,s);switch((t<0||t>n)&&ol(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let a;0===i.length?a=n:(i+=n,a=i,i=""),r.push(a);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:ol()}s=t+2}return new Al(r)}const bc="remoteDocuments",wc="owner",xc="owner",Sc="mutationQueues",kc="mutations",_c="batchId",Ec="userMutationsIndex",Tc=["userId","batchId"];function Cc(e,t){return[e,mc(t)]}function Nc(e,t,n){return[e,mc(t),n]}const Ic={},jc="documentMutations",Ac="remoteDocumentsV14",Pc=["prefixPath","collectionGroup","readTime","documentId"],Rc="documentKeyIndex",Dc=["prefixPath","collectionGroup","documentId"],Oc="collectionGroupIndex",Lc=["collectionGroup","readTime","prefixPath","documentId"],Mc="remoteDocumentGlobal",Vc="remoteDocumentGlobalKey",Fc="targets",Uc="queryTargetsIndex",zc=["canonicalId","targetId"],Bc="targetDocuments",$c=["targetId","path"],Hc="documentTargetsIndex",qc=["path","targetId"],Kc="targetGlobalKey",Wc="targetGlobal",Gc="collectionParents",Qc=["collectionId","parent"],Yc="clientMetadata",Xc="bundles",Jc="namedQueries",Zc="indexConfiguration",eu="collectionGroupIndex",tu="indexState",nu=["indexId","uid"],ru="sequenceNumberIndex",iu=["uid","sequenceNumber"],su="indexEntries",au=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ou="documentKeyIndex",lu=["indexId","uid","orderedDocumentKey"],cu="documentOverlays",uu=["userId","collectionPath","documentId"],hu="collectionPathOverlayIndex",du=["userId","collectionPath","largestBatchId"],fu="collectionGroupOverlayIndex",pu=["userId","collectionGroup","largestBatchId"],mu="globals",gu=[Sc,kc,jc,bc,Fc,wc,Wc,Bc,Yc,Mc,Gc,Xc,Jc],vu=[...gu,cu],yu=[Sc,kc,jc,Ac,Fc,wc,Wc,Bc,Yc,Mc,Gc,Xc,Jc,cu],bu=yu,wu=[...bu,Zc,tu,su],xu=wu,Su=[...wu,mu];class ku extends Kl{constructor(e,t){super(),this.ue=e,this.currentSequenceNumber=t}}function _u(e,t){const n=cl(e);return Xl.M(n.ue,t)}function Eu(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Tu(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Cu(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Nu{constructor(e,t){this.comparator=e,this.root=t||ju.EMPTY}insert(e,t){return new Nu(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ju.BLACK,null,null))}remove(e){return new Nu(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ju.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Iu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Iu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Iu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Iu(this.root,e,this.comparator,!0)}}class Iu{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ju{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ju.RED,this.left=null!=r?r:ju.EMPTY,this.right=null!=i?i:ju.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new ju(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ju.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ju.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ju.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ju.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ol();if(this.right.isRed())throw ol();const e=this.left.check();if(e!==this.right.check())throw ol();return e+(this.isRed()?0:1)}}ju.EMPTY=null,ju.RED=!0,ju.BLACK=!1,ju.EMPTY=new class{constructor(){this.size=0}get key(){throw ol()}get value(){throw ol()}get color(){throw ol()}get left(){throw ol()}get right(){throw ol()}copy(e,t,n,r,i){return this}insert(e,t,n){return new ju(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Au{constructor(e){this.comparator=e,this.data=new Nu(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Pu(this.data.getIterator())}getIteratorFrom(e){return new Pu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Au))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Au(this.comparator);return t.data=e,t}}class Pu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ru(e){return e.hasNext()?e.getNext():void 0}class Du{constructor(e){this.fields=e,e.sort(Rl.comparator)}static empty(){return new Du([])}unionWith(e){let t=new Au(Rl.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Du(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return kl(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Ou extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Lu{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Ou("Invalid base64 string: "+e):e}}(e);return new Lu(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Lu(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Sl(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lu.EMPTY_BYTE_STRING=new Lu("");const Mu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vu(e){if(ll(!!e),"string"==typeof e){let t=0;const n=Mu.exec(e);if(ll(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Fu(e.seconds),nanos:Fu(e.nanos)}}function Fu(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Uu(e){return"string"==typeof e?Lu.fromBase64String(e):Lu.fromUint8Array(e)}const zu="server_timestamp",Bu="__type__",$u="__previous_value__",Hu="__local_write_time__";function qu(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Bu])||void 0===n?void 0:n.stringValue)===zu}function Ku(e){const t=e.mapValue.fields[$u];return qu(t)?Ku(t):t}function Wu(e){const t=Vu(e.mapValue.fields[Hu].timestampValue);return new Cl(t.seconds,t.nanos)}class Gu{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}const Qu="(default)";class Yu{constructor(e,t){this.projectId=e,this.database=t||Qu}static empty(){return new Yu("","")}get isDefaultDatabase(){return this.database===Qu}isEqual(e){return e instanceof Yu&&e.projectId===this.projectId&&e.database===this.database}}const Xu="__type__",Ju="__max__",Zu={mapValue:{fields:{__type__:{stringValue:Ju}}}},eh="__vector__",th="value",nh={nullValue:"NULL_VALUE"};function rh(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?qu(e)?4:wh(e)?9007199254740991:yh(e)?10:11:ol()}function ih(e,t){if(e===t)return!0;const n=rh(e);if(n!==rh(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Wu(e).isEqual(Wu(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Vu(e.timestampValue),r=Vu(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Uu(e.bytesValue).isEqual(Uu(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Fu(e.geoPointValue.latitude)===Fu(t.geoPointValue.latitude)&&Fu(e.geoPointValue.longitude)===Fu(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Fu(e.integerValue)===Fu(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Fu(e.doubleValue),r=Fu(t.doubleValue);return n===r?dc(n)===dc(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return kl(e.arrayValue.values||[],t.arrayValue.values||[],ih);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Eu(n)!==Eu(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ih(n[i],r[i])))return!1;return!0}(e,t);default:return ol()}}function sh(e,t){return void 0!==(e.values||[]).find((e=>ih(e,t)))}function ah(e,t){if(e===t)return 0;const n=rh(e),r=rh(t);if(n!==r)return Sl(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Sl(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Fu(e.integerValue||e.doubleValue),r=Fu(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return oh(e.timestampValue,t.timestampValue);case 4:return oh(Wu(e),Wu(t));case 5:return Sl(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Uu(e),r=Uu(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Sl(n[i],r[i]);if(0!==e)return e}return Sl(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Sl(Fu(e.latitude),Fu(t.latitude));return 0!==n?n:Sl(Fu(e.longitude),Fu(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return lh(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const a=e.fields||{},o=t.fields||{},l=null===(n=a[th])||void 0===n?void 0:n.arrayValue,c=null===(r=o[th])||void 0===r?void 0:r.arrayValue,u=Sl((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:lh(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Zu.mapValue&&t===Zu.mapValue)return 0;if(e===Zu.mapValue)return 1;if(t===Zu.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=Sl(r[a],s[a]);if(0!==e)return e;const t=ah(n[r[a]],i[s[a]]);if(0!==t)return t}return Sl(r.length,s.length)}(e.mapValue,t.mapValue);default:throw ol()}}function oh(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Sl(e,t);const n=Vu(e),r=Vu(t),i=Sl(n.seconds,r.seconds);return 0!==i?i:Sl(n.nanos,r.nanos)}function lh(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=ah(n[i],r[i]);if(e)return e}return Sl(n.length,r.length)}function ch(e){return uh(e)}function uh(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Vu(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Uu(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Dl.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=uh(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${uh(e.fields[i])}`;return n+"}"}(e.mapValue):ol()}function hh(e){switch(rh(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ku(e);return t?16+hh(t):16;case 5:return 2*e.stringValue.length;case 6:return Uu(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+hh(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Tu(e.fields,((e,n)=>{t+=e.length+hh(n)})),t}(e.mapValue);default:throw ol()}}function dh(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function fh(e){return!!e&&"integerValue"in e}function ph(e){return!!e&&"arrayValue"in e}function mh(e){return!!e&&"nullValue"in e}function gh(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function vh(e){return!!e&&"mapValue"in e}function yh(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Xu])||void 0===n?void 0:n.stringValue)===eh}function bh(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Tu(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=bh(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=bh(e.arrayValue.values[n]);return t}return Object.assign({},e)}function wh(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Ju}const xh={mapValue:{fields:{[Xu]:{stringValue:eh},[th]:{arrayValue:{}}}}};function Sh(e){return"nullValue"in e?nh:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?dh(Yu.empty(),Dl.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?yh(e)?xh:{mapValue:{}}:ol()}function kh(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?dh(Yu.empty(),Dl.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?xh:"mapValue"in e?yh(e)?{mapValue:{}}:Zu:ol()}function _h(e,t){const n=ah(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Eh(e,t){const n=ah(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class Th{constructor(e){this.value=e}static empty(){return new Th({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!vh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=bh(t)}setAll(e){let t=Rl.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=bh(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());vh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ih(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];vh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Tu(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Th(bh(this.value))}}function Ch(e){const t=[];return Tu(e.fields,((e,n)=>{const r=new Rl([e]);if(vh(n)){const e=Ch(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Du(t)}class Nh{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Nh(e,0,Nl.min(),Nl.min(),Nl.min(),Th.empty(),0)}static newFoundDocument(e,t,n,r){return new Nh(e,1,t,Nl.min(),n,r,0)}static newNoDocument(e,t){return new Nh(e,2,t,Nl.min(),Nl.min(),Th.empty(),0)}static newUnknownDocument(e,t){return new Nh(e,3,t,Nl.min(),Nl.min(),Th.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Nl.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Th.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Th.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nl.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Nh&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nh(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ih{constructor(e,t){this.position=e,this.inclusive=t}}function jh(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?Dl.comparator(Dl.fromName(a.referenceValue),n.key):ah(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Ah(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ih(e.position[n],t.position[n]))return!1;return!0}class Ph{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Rh(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Dh{}class Oh extends Dh{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new qh(e,t,n):"array-contains"===t?new Qh(e,n):"in"===t?new Yh(e,n):"not-in"===t?new Xh(e,n):"array-contains-any"===t?new Jh(e,n):new Oh(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Kh(e,n):new Wh(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ah(t,this.value)):null!==t&&rh(this.value)===rh(t)&&this.matchesComparison(ah(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ol()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Lh extends Dh{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Lh(e,t)}matches(e){return Mh(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Mh(e){return"and"===e.op}function Vh(e){return"or"===e.op}function Fh(e){return Uh(e)&&Mh(e)}function Uh(e){for(const t of e.filters)if(t instanceof Lh)return!1;return!0}function zh(e){if(e instanceof Oh)return e.field.canonicalString()+e.op.toString()+ch(e.value);if(Fh(e))return e.filters.map((e=>zh(e))).join(",");{const t=e.filters.map((e=>zh(e))).join(",");return`${e.op}(${t})`}}function Bh(e,t){return e instanceof Oh?function(e,t){return t instanceof Oh&&e.op===t.op&&e.field.isEqual(t.field)&&ih(e.value,t.value)}(e,t):e instanceof Lh?function(e,t){return t instanceof Lh&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Bh(n,t.filters[r])),!0)}(e,t):void ol()}function $h(e,t){const n=e.filters.concat(t);return Lh.create(n,e.op)}function Hh(e){return e instanceof Oh?function(e){return`${e.field.canonicalString()} ${e.op} ${ch(e.value)}`}(e):e instanceof Lh?function(e){return e.op.toString()+" {"+e.getFilters().map(Hh).join(" ,")+"}"}(e):"Filter"}class qh extends Oh{constructor(e,t,n){super(e,t,n),this.key=Dl.fromName(n.referenceValue)}matches(e){const t=Dl.comparator(e.key,this.key);return this.matchesComparison(t)}}class Kh extends Oh{constructor(e,t){super(e,"in",t),this.keys=Gh("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Wh extends Oh{constructor(e,t){super(e,"not-in",t),this.keys=Gh("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Gh(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Dl.fromName(e.referenceValue)))}class Qh extends Oh{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ph(t)&&sh(t.arrayValue,this.value)}}class Yh extends Oh{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&sh(this.value.arrayValue,t)}}class Xh extends Oh{constructor(e,t){super(e,"not-in",t)}matches(e){if(sh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!sh(this.value.arrayValue,t)}}class Jh extends Oh{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ph(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>sh(this.value.arrayValue,e)))}}class Zh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.le=null}}function ed(e){return new Zh(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function td(e){const t=cl(e);if(null===t.le){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>zh(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),hc(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>ch(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>ch(e))).join(",")),t.le=e}return t.le}function nd(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Rh(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Bh(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ah(e.startAt,t.startAt)&&Ah(e.endAt,t.endAt)}function rd(e){return Dl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function id(e,t){return e.filters.filter((e=>e instanceof Oh&&e.field.isEqual(t)))}function sd(e,t,n){let r=nh,i=!0;for(const s of id(e,t)){let e=nh,t=!0;switch(s.op){case"<":case"<=":e=Sh(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=nh}_h({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];_h({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function ad(e,t,n){let r=Zu,i=!0;for(const s of id(e,t)){let e=Zu,t=!0;switch(s.op){case">=":case">":e=kh(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=Zu}Eh({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Eh({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class od{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function ld(e,t,n,r,i,s,a,o){return new od(e,t,n,r,i,s,a,o)}function cd(e){return new od(e)}function ud(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function hd(e){return null!==e.collectionGroup}function dd(e){const t=cl(e);if(null===t.he){t.he=[];const e=new Set;for(const i of t.explicitOrderBy)t.he.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Au(Rl.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.he.push(new Ph(r,n))})),e.has(Rl.keyField().canonicalString())||t.he.push(new Ph(Rl.keyField(),n))}return t.he}function fd(e){const t=cl(e);return t.Pe||(t.Pe=pd(t,dd(e))),t.Pe}function pd(e,t){if("F"===e.limitType)return ed(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Ph(e.field,t)}));const n=e.endAt?new Ih(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ih(e.startAt.position,e.startAt.inclusive):null;return ed(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function md(e,t){const n=e.filters.concat([t]);return new od(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function gd(e,t,n){return new od(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function vd(e,t){return nd(fd(e),fd(t))&&e.limitType===t.limitType}function yd(e){return`${td(fd(e))}|lt:${e.limitType}`}function bd(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Hh(e))).join(", ")}]`),hc(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>ch(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>ch(e))).join(",")),`Target(${t})`}(fd(e))}; limitType=${e.limitType})`}function wd(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Dl.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of dd(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=jh(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,dd(e),t))&&!(e.endAt&&!function(e,t,n){const r=jh(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,dd(e),t))}(e,t)}function xd(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Sd(e){return(t,n)=>{let r=!1;for(const i of dd(e)){const e=kd(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function kd(e,t,n){const r=e.field.isKeyField()?Dl.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?ah(r,i):ol()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ol()}}class _d{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Tu(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Cu(this.inner)}size(){return this.innerSize}}const Ed=new Nu(Dl.comparator);function Td(){return Ed}const Cd=new Nu(Dl.comparator);function Nd(){let e=Cd;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Id(e){let t=Cd;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function jd(){return Pd()}function Ad(){return Pd()}function Pd(){return new _d((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Rd=new Nu(Dl.comparator),Dd=new Au(Dl.comparator);function Od(){let e=Dd;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Ld=new Au(Sl);function Md(){return Ld}function Vd(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dc(t)?"-0":t}}function Fd(e){return{integerValue:""+e}}function Ud(e,t){return fc(t)?Fd(t):Vd(e,t)}class zd{constructor(){this._=void 0}}function Bd(e,t,n){return e instanceof qd?function(e,t){const n={fields:{[Bu]:{stringValue:zu},[Hu]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&qu(t)&&(t=Ku(t)),t&&(n.fields[$u]=t),{mapValue:n}}(n,t):e instanceof Kd?Wd(e,t):e instanceof Gd?Qd(e,t):function(e,t){const n=Hd(e,t),r=Xd(n)+Xd(e.Ie);return fh(n)&&fh(e.Ie)?Fd(r):Vd(e.serializer,r)}(e,t)}function $d(e,t,n){return e instanceof Kd?Wd(e,t):e instanceof Gd?Qd(e,t):n}function Hd(e,t){return e instanceof Yd?function(e){return fh(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class qd extends zd{}class Kd extends zd{constructor(e){super(),this.elements=e}}function Wd(e,t){const n=Jd(t);for(const r of e.elements)n.some((e=>ih(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Gd extends zd{constructor(e){super(),this.elements=e}}function Qd(e,t){let n=Jd(t);for(const r of e.elements)n=n.filter((e=>!ih(e,r)));return{arrayValue:{values:n}}}class Yd extends zd{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Xd(e){return Fu(e.integerValue||e.doubleValue)}function Jd(e){return ph(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Zd{constructor(e,t){this.field=e,this.transform=t}}class ef{constructor(e,t){this.version=e,this.transformResults=t}}class tf{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new tf}static exists(e){return new tf(void 0,e)}static updateTime(e){return new tf(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nf(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class rf{}function sf(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new mf(e.key,tf.none()):new uf(e.key,e.data,tf.none());{const n=e.data,r=Th.empty();let i=new Au(Rl.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new hf(e.key,r,new Du(i.toArray()),tf.none())}}function af(e,t,n){e instanceof uf?function(e,t,n){const r=e.value.clone(),i=ff(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof hf?function(e,t,n){if(!nf(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=ff(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(df(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function of(e,t,n,r){return e instanceof uf?function(e,t,n,r){if(!nf(e.precondition,t))return n;const i=e.value.clone(),s=pf(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof hf?function(e,t,n,r){if(!nf(e.precondition,t))return n;const i=pf(e.fieldTransforms,r,t),s=t.data;return s.setAll(df(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return nf(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function lf(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Hd(r.transform,e||null);null!=i&&(null===n&&(n=Th.empty()),n.set(r.field,i))}return n||null}function cf(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&kl(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Kd&&t instanceof Kd||e instanceof Gd&&t instanceof Gd?kl(e.elements,t.elements,ih):e instanceof Yd&&t instanceof Yd?ih(e.Ie,t.Ie):e instanceof qd&&t instanceof qd}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class uf extends rf{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class hf extends rf{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function df(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function ff(e,t,n){const r=new Map;ll(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,$d(a,o,n[i]))}return r}function pf(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Bd(e,s,t))}return r}class mf extends rf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gf extends rf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vf{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&af(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=of(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=of(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Ad();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=sf(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(Nl.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Od())}isEqual(e){return this.batchId===e.batchId&&kl(this.mutations,e.mutations,((e,t)=>cf(e,t)))&&kl(this.baseMutations,e.baseMutations,((e,t)=>cf(e,t)))}}class yf{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){ll(e.mutations.length===n.length);let r=Rd;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new yf(e,t,n,r)}}class bf{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class wf{constructor(e,t){this.count=e,this.unchangedNames=t}}var xf,Sf;function kf(e){switch(e){case ul.OK:return ol();case ul.CANCELLED:case ul.UNKNOWN:case ul.DEADLINE_EXCEEDED:case ul.RESOURCE_EXHAUSTED:case ul.INTERNAL:case ul.UNAVAILABLE:case ul.UNAUTHENTICATED:return!1;case ul.INVALID_ARGUMENT:case ul.NOT_FOUND:case ul.ALREADY_EXISTS:case ul.PERMISSION_DENIED:case ul.FAILED_PRECONDITION:case ul.ABORTED:case ul.OUT_OF_RANGE:case ul.UNIMPLEMENTED:case ul.DATA_LOSS:return!0;default:return ol()}}function _f(e){if(void 0===e)return il("GRPC error has no .code"),ul.UNKNOWN;switch(e){case xf.OK:return ul.OK;case xf.CANCELLED:return ul.CANCELLED;case xf.UNKNOWN:return ul.UNKNOWN;case xf.DEADLINE_EXCEEDED:return ul.DEADLINE_EXCEEDED;case xf.RESOURCE_EXHAUSTED:return ul.RESOURCE_EXHAUSTED;case xf.INTERNAL:return ul.INTERNAL;case xf.UNAVAILABLE:return ul.UNAVAILABLE;case xf.UNAUTHENTICATED:return ul.UNAUTHENTICATED;case xf.INVALID_ARGUMENT:return ul.INVALID_ARGUMENT;case xf.NOT_FOUND:return ul.NOT_FOUND;case xf.ALREADY_EXISTS:return ul.ALREADY_EXISTS;case xf.PERMISSION_DENIED:return ul.PERMISSION_DENIED;case xf.FAILED_PRECONDITION:return ul.FAILED_PRECONDITION;case xf.ABORTED:return ul.ABORTED;case xf.OUT_OF_RANGE:return ul.OUT_OF_RANGE;case xf.UNIMPLEMENTED:return ul.UNIMPLEMENTED;case xf.DATA_LOSS:return ul.DATA_LOSS;default:return ol()}}(Sf=xf||(xf={}))[Sf.OK=0]="OK",Sf[Sf.CANCELLED=1]="CANCELLED",Sf[Sf.UNKNOWN=2]="UNKNOWN",Sf[Sf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Sf[Sf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Sf[Sf.NOT_FOUND=5]="NOT_FOUND",Sf[Sf.ALREADY_EXISTS=6]="ALREADY_EXISTS",Sf[Sf.PERMISSION_DENIED=7]="PERMISSION_DENIED",Sf[Sf.UNAUTHENTICATED=16]="UNAUTHENTICATED",Sf[Sf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Sf[Sf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Sf[Sf.ABORTED=10]="ABORTED",Sf[Sf.OUT_OF_RANGE=11]="OUT_OF_RANGE",Sf[Sf.UNIMPLEMENTED=12]="UNIMPLEMENTED",Sf[Sf.INTERNAL=13]="INTERNAL",Sf[Sf.UNAVAILABLE=14]="UNAVAILABLE",Sf[Sf.DATA_LOSS=15]="DATA_LOSS";let Ef=null;function Tf(){return new TextEncoder}const Cf=new Mo([4294967295,4294967295],0);function Nf(e){const t=Tf().encode(e),n=new Vo;return n.update(t),new Uint8Array(n.digest())}function If(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Mo([n,r],0),new Mo([i,s],0)]}class jf{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Af(`Invalid padding: ${t}`);if(n<0)throw new Af(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Af(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Af(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Mo.fromNumber(this.Ee)}Ae(e,t,n){let r=e.add(t.multiply(Mo.fromNumber(n)));return 1===r.compare(Cf)&&(r=new Mo([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ee)return!1;const t=Nf(e),[n,r]=If(t);for(let i=0;i<this.hashCount;i++){const e=this.Ae(n,r,i);if(!this.Re(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new jf(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Ee)return;const t=Nf(e),[n,r]=If(t);for(let i=0;i<this.hashCount;i++){const e=this.Ae(n,r,i);this.Ve(e)}}Ve(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Af extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Pf{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Rf.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Pf(Nl.min(),r,new Nu(Sl),Td(),Od())}}class Rf{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Rf(n,t,Od(),Od(),Od())}}class Df{constructor(e,t,n,r){this.me=e,this.removedTargetIds=t,this.key=n,this.fe=r}}class Of{constructor(e,t){this.targetId=e,this.ge=t}}class Lf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Lu.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Mf{constructor(){this.pe=0,this.ye=Uf(),this.we=Lu.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return 0!==this.pe}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Od(),t=Od(),n=Od();return this.ye.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ol()}})),new Rf(this.we,this.be,e,t,n)}Me(){this.Se=!1,this.ye=Uf()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,ll(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class Vf{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Td(),this.$e=Ff(),this.Ke=Ff(),this.Ue=new Nu(Sl)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,(t=>{const n=this.He(t);switch(e.state){case 0:this.Je(t)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(t);break;case 3:this.Je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),n.Ce(e.resumeToken));break;default:ol()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach(((e,n)=>{this.Je(n)&&t(n)}))}Ze(e){const t=e.targetId,n=e.ge.count,r=this.Xe(t);if(r){const i=r.target;if(rd(i))if(0===n){const e=new Dl(i.path);this.ze(t,e,Nh.newNoDocument(e,Nl.min()))}else ll(1===n);else{const r=this.et(t);if(r!==n){const n=this.tt(e),i=n?this.nt(n,e,r):1;if(0!==i){this.Ye(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,e)}null==Ef||Ef.rt(function(e,t,n,r,i){var s,a,o,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(o=null===(a=null==d?void 0:d.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.ge,this.ke.it(),n,i))}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=Uu(n).toUint8Array()}catch(e){if(e instanceof Ou)return sl("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new jf(s,r,i)}catch(e){return sl(e instanceof Af?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Ee?null:a}nt(e,t,n){return t.ge.count===n-this.st(e,t.targetId)?0:2}st(e,t){const n=this.ke.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.ke.it(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.ze(t,n,null),r++)})),r}ot(e){const t=new Map;this.qe.forEach(((n,r)=>{const i=this.Xe(r);if(i){if(n.current&&rd(i.target)){const t=new Dl(i.target.path);this._t(t).has(r)||this.ut(r,t)||this.ze(r,t,Nh.newNoDocument(t,e))}n.ve&&(t.set(r,n.Fe()),n.Me())}}));let n=Od();this.Ke.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Xe(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.Qe.forEach(((t,n)=>n.setReadTime(e)));const r=new Pf(e,t,this.Ue,this.Qe,n);return this.Qe=Td(),this.$e=Ff(),this.Ke=Ff(),this.Ue=new Nu(Sl),r}Ge(e,t){if(!this.Je(e))return;const n=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,n),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,n){if(!this.Je(e))return;const r=this.He(e);this.ut(e,t)?r.xe(t,1):r.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),n&&(this.Qe=this.Qe.insert(t,n))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Mf,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Au(Sl),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Au(Sl),this.$e=this.$e.insert(e,t)),t}Je(e){const t=null!==this.Xe(e);return t||rl("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Mf),this.ke.getRemoteKeysForTarget(e).forEach((t=>{this.ze(e,t,null)}))}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Ff(){return new Nu(Dl.comparator)}function Uf(){return new Nu(Dl.comparator)}const zf={asc:"ASCENDING",desc:"DESCENDING"},Bf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$f={and:"AND",or:"OR"};class Hf{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function qf(e,t){return e.useProto3Json||hc(t)?t:{value:t}}function Kf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Wf(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Gf(e,t){return Kf(e,t.toTimestamp())}function Qf(e){return ll(!!e),Nl.fromTimestamp(function(e){const t=Vu(e);return new Cl(t.seconds,t.nanos)}(e))}function Yf(e,t){return Xf(e,t).canonicalString()}function Xf(e,t){const n=function(e){return new Al(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Jf(e){const t=Al.fromString(e);return ll(wp(t)),t}function Zf(e,t){return Yf(e.databaseId,t.path)}function ep(e,t){const n=Jf(t);if(n.get(1)!==e.databaseId.projectId)throw new hl(ul.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new hl(ul.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Dl(ip(n))}function tp(e,t){return Yf(e.databaseId,t)}function np(e){const t=Jf(e);return 4===t.length?Al.emptyPath():ip(t)}function rp(e){return new Al(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ip(e){return ll(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function sp(e,t,n){return{name:Zf(e,t),fields:n.value.mapValue.fields}}function ap(e,t,n){const r=ep(e,t.name),i=Qf(t.updateTime),s=t.createTime?Qf(t.createTime):Nl.min(),a=new Th({mapValue:{fields:t.fields}}),o=Nh.newFoundDocument(r,i,s,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function op(e,t){let n;if(t instanceof uf)n={update:sp(e,t.key,t.value)};else if(t instanceof mf)n={delete:Zf(e,t.key)};else if(t instanceof hf)n={update:sp(e,t.key,t.data),updateMask:bp(t.fieldMask)};else{if(!(t instanceof gf))return ol();n={verify:Zf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof qd)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Kd)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Gd)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Yd)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw ol()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Gf(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ol()}(e,t.precondition)),n}function lp(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?tf.updateTime(Qf(e.updateTime)):void 0!==e.exists?tf.exists(e.exists):tf.none()}(t.currentDocument):tf.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)ll("REQUEST_TIME"===t.setToServerValue),n=new qd;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Kd(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Gd(e)}else"increment"in t?n=new Yd(e,t.increment):ol();const r=Rl.fromServerFormat(t.fieldPath);return new Zd(r,n)}(e,t))):[];if(t.update){t.update.name;const i=ep(e,t.update.name),s=new Th({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Du(t.map((e=>Rl.fromServerFormat(e))))}(t.updateMask);return new hf(i,s,e,n,r)}return new uf(i,s,n,r)}if(t.delete){const r=ep(e,t.delete);return new mf(r,n)}if(t.verify){const r=ep(e,t.verify);return new gf(r,n)}return ol()}function cp(e,t){return{documents:[tp(e,t.path)]}}function up(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=tp(e,i);const s=function(e){if(0!==e.length)return yp(Lh.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:gp(e.field),direction:fp(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=qf(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ht:n,parent:i}}function hp(e){let t=np(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ll(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=dp(e);return t instanceof Lh&&Fh(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new Ph(vp(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,hc(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Ih(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Ih(n,t)}(n.endAt)),ld(t,i,a,s,o,"F",l,c)}function dp(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=vp(e.unaryFilter.field);return Oh.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=vp(e.unaryFilter.field);return Oh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=vp(e.unaryFilter.field);return Oh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=vp(e.unaryFilter.field);return Oh.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ol()}}(e):void 0!==e.fieldFilter?function(e){return Oh.create(vp(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ol()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Lh.create(e.compositeFilter.filters.map((e=>dp(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return ol()}}(e.compositeFilter.op))}(e):ol()}function fp(e){return zf[e]}function pp(e){return Bf[e]}function mp(e){return $f[e]}function gp(e){return{fieldPath:e.canonicalString()}}function vp(e){return Rl.fromServerFormat(e.fieldPath)}function yp(e){return e instanceof Oh?function(e){if("=="===e.op){if(gh(e.value))return{unaryFilter:{field:gp(e.field),op:"IS_NAN"}};if(mh(e.value))return{unaryFilter:{field:gp(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(gh(e.value))return{unaryFilter:{field:gp(e.field),op:"IS_NOT_NAN"}};if(mh(e.value))return{unaryFilter:{field:gp(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gp(e.field),op:pp(e.op),value:e.value}}}(e):e instanceof Lh?function(e){const t=e.getFilters().map((e=>yp(e)));return 1===t.length?t[0]:{compositeFilter:{op:mp(e.op),filters:t}}}(e):ol()}function bp(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function wp(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class xp{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Nl.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Nl.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Lu.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new xp(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new xp(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Sp{constructor(e){this.Tt=e}}function kp(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:_p(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Zf(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Kf(e,t.version.toTimestamp()),createTime:Kf(e,t.createTime.toTimestamp())}}(e.Tt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Ep(t.version)};else{if(!t.isUnknownDocument())return ol();r.unknownDocument={path:n.path.toArray(),version:Ep(t.version)}}return r}function _p(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Ep(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Tp(e){const t=new Cl(e.seconds,e.nanoseconds);return Nl.fromTimestamp(t)}function Cp(e,t){const n=(t.baseMutations||[]).map((t=>lp(e.Tt,t)));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map((t=>lp(e.Tt,t))),i=Cl.fromMillis(t.localWriteTimeMs);return new vf(t.batchId,i,n,r)}function Np(e){const t=Tp(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Tp(e.lastLimboFreeSnapshotVersion):Nl.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return ll(1===e.documents.length),fd(cd(np(e.documents[0])))}(e.query):function(e){return fd(hp(e))}(e.query),new xp(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Lu.fromBase64String(e.resumeToken))}function Ip(e,t){const n=Ep(t.snapshotVersion),r=Ep(t.lastLimboFreeSnapshotVersion);let i;i=rd(t.target)?cp(e.Tt,t.target):up(e.Tt,t.target).ht;const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:td(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function jp(e){const t=hp({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?gd(t,t.limit,"L"):t}function Ap(e,t){return new bf(t.largestBatchId,lp(e.Tt,t.overlayMutation))}function Pp(e,t){const n=t.path.lastSegment();return[e,mc(t.path.popLast()),n]}function Rp(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:Ep(r.readTime),documentKey:mc(r.documentKey.path),largestBatchId:r.largestBatchId}}class Dp{getBundleMetadata(e,t){return Op(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:Tp(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return Op(e).put(function(e){return{bundleId:e.id,createTime:Ep(Qf(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return Lp(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:jp(e.bundledQuery),readTime:Tp(e.readTime)}}(e)}))}saveNamedQuery(e,t){return Lp(e).put(function(e){return{name:e.name,readTime:Ep(Qf(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Op(e){return _u(e,Xc)}function Lp(e){return _u(e,Jc)}class Mp{constructor(e,t){this.serializer=e,this.userId=t}static It(e,t){const n=t.uid||"";return new Mp(e,n)}getOverlay(e,t){return Vp(e).get(Pp(this.userId,t)).next((e=>e?Ap(this.serializer,e):null))}getOverlays(e,t){const n=jd();return Gl.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const s=new bf(t,i);r.push(this.Et(e,s))})),Gl.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(mc(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(Vp(e).J(hu,r))})),Gl.waitFor(i)}getOverlaysForCollection(e,t,n){const r=jd(),i=mc(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Vp(e).G(hu,s).next((e=>{for(const t of e){const e=Ap(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=jd();let s;const a=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Vp(e).Z({index:fu,range:a},((e,t,n)=>{const a=Ap(this.serializer,t);i.size()<r||a.largestBatchId===s?(i.set(a.getKey(),a),s=a.largestBatchId):n.done()})).next((()=>i))}Et(e,t){return Vp(e).put(function(e,t,n){const[r,i,s]=Pp(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:op(e.Tt,n.mutation)}}(this.serializer,this.userId,t))}}function Vp(e){return _u(e,cu)}class Fp{dt(e){return _u(e,mu)}getSessionToken(e){return this.dt(e).get("sessionToken").next((e=>{const t=null==e?void 0:e.value;return t?Lu.fromUint8Array(t):Lu.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.dt(e).put({name:"sessionToken",value:t.toUint8Array()})}}class Up{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(Fu(e.integerValue));else if("doubleValue"in e){const n=Fu(e.doubleValue);isNaN(n)?this.ft(t,13):(this.ft(t,15),dc(n)?t.gt(0):t.gt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.ft(t,20),"string"==typeof n&&(n=Vu(n)),t.yt(`${n.seconds||""}`),t.gt(n.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.bt(t);else if("bytesValue"in e)this.ft(t,30),t.St(Uu(e.bytesValue)),this.bt(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ft(t,45),t.gt(n.latitude||0),t.gt(n.longitude||0)}else"mapValue"in e?wh(e)?this.ft(t,Number.MAX_SAFE_INTEGER):yh(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.bt(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.bt(t)):ol()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){const n=e.fields||{};this.ft(t,55);for(const r of Object.keys(n))this.wt(r,t),this.Rt(n[r],t)}vt(e,t){var n,r;const i=e.fields||{};this.ft(t,53);const s=th,a=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.ft(t,15),t.gt(Fu(a)),this.wt(s,t),this.Rt(i[s],t)}Ft(e,t){const n=e.values||[];this.ft(t,50);for(const r of n)this.Rt(r,t)}Dt(e,t){this.ft(t,37),Dl.fromName(e).path.forEach((e=>{this.ft(t,60),this.Mt(e,t)}))}ft(e,t){e.gt(t)}bt(e){e.gt(2)}}Up.xt=new Up;const zp=255;function Bp(e){if(0===e)return 8;let t=0;return e>>4||(t+=4,e<<=4),e>>6||(t+=2,e<<=2),e>>7||(t+=1),t}function $p(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=Bp(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}class Hp{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ot(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Nt(n.value),n=t.next();this.Bt()}Lt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.kt(n.value),n=t.next();this.qt()}Qt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Nt(e);else if(e<2048)this.Nt(960|e>>>6),this.Nt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Nt(480|e>>>12),this.Nt(128|63&e>>>6),this.Nt(128|63&e);else{const e=t.codePointAt(0);this.Nt(240|e>>>18),this.Nt(128|63&e>>>12),this.Nt(128|63&e>>>6),this.Nt(128|63&e)}}this.Bt()}$t(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.kt(e);else if(e<2048)this.kt(960|e>>>6),this.kt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.kt(480|e>>>12),this.kt(128|63&e>>>6),this.kt(128|63&e);else{const e=t.codePointAt(0);this.kt(240|e>>>18),this.kt(128|63&e>>>12),this.kt(128|63&e>>>6),this.kt(128|63&e)}}this.qt()}Kt(e){const t=this.Ut(e),n=$p(t);this.Wt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Gt(e){const t=this.Ut(e),n=$p(t);this.Wt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}zt(){this.jt(zp),this.jt(255)}Ht(){this.Jt(zp),this.Jt(255)}reset(){this.position=0}seed(e){this.Wt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Yt(){return this.buffer.slice(0,this.position)}Ut(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=!!(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Nt(e){const t=255&e;0===t?(this.jt(0),this.jt(255)):t===zp?(this.jt(zp),this.jt(0)):this.jt(t)}kt(e){const t=255&e;0===t?(this.Jt(0),this.Jt(255)):t===zp?(this.Jt(zp),this.Jt(0)):this.Jt(e)}Bt(){this.jt(0),this.jt(1)}qt(){this.Jt(0),this.Jt(1)}jt(e){this.Wt(1),this.buffer[this.position++]=e}Jt(e){this.Wt(1),this.buffer[this.position++]=~e}Wt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class qp{constructor(e){this.Zt=e}St(e){this.Zt.Ot(e)}yt(e){this.Zt.Qt(e)}gt(e){this.Zt.Kt(e)}Vt(){this.Zt.zt()}}class Kp{constructor(e){this.Zt=e}St(e){this.Zt.Lt(e)}yt(e){this.Zt.$t(e)}gt(e){this.Zt.Gt(e)}Vt(){this.Zt.Ht()}}class Wp{constructor(){this.Zt=new Hp,this.Xt=new qp(this.Zt),this.en=new Kp(this.Zt)}seed(e){this.Zt.seed(e)}tn(e){return 0===e?this.Xt:this.en}Yt(){return this.Zt.Yt()}reset(){this.Zt.reset()}}class Gp{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}nn(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Gp(this.indexId,this.documentKey,this.arrayValue,n)}}function Qp(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=Yp(e.arrayValue,t.arrayValue),0!==n?n:(n=Yp(e.directionalValue,t.directionalValue),0!==n?n:Dl.comparator(e.documentKey,t.documentKey)))}function Yp(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class Xp{constructor(e){this.rn=new Au(((e,t)=>Rl.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.sn=e.orderBy,this._n=[];for(const t of e.filters){const e=t;e.isInequality()?this.rn=this.rn.add(e):this._n.push(e)}}get an(){return this.rn.size>1}un(e){if(ll(e.collectionGroup===this.collectionId),this.an)return!1;const t=Ml(e);if(void 0!==t&&!this.cn(t))return!1;const n=Vl(e);let r=new Set,i=0,s=0;for(;i<n.length&&this.cn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.rn.size>0){const e=this.rn.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.ln(e,t)||!this.hn(this.sn[s++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(s>=this.sn.length||!this.hn(this.sn[s++],e))return!1}return!0}Pn(){if(this.an)return null;let e=new Au(Rl.comparator);const t=[];for(const n of this._n)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new Fl(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new Fl(n.field,0))}for(const n of this.sn)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new Fl(n.field,"asc"===n.dir?0:1)));return new Ll(Ll.UNKNOWN_ID,this.collectionId,t,Ul.empty())}cn(e){for(const t of this._n)if(this.ln(t,e))return!0;return!1}ln(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}hn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Jp(e){var t,n;if(ll(e instanceof Oh||e instanceof Lh),e instanceof Oh){if(e instanceof Yh){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>Oh.create(e.field,"==",t))))||[];return Lh.create(r,"or")}return e}const r=e.filters.map((e=>Jp(e)));return Lh.create(r,e.op)}function Zp(e){if(0===e.getFilters().length)return[];const t=rm(Jp(e));return ll(nm(t)),em(t)||tm(t)?[t]:t.getFilters()}function em(e){return e instanceof Oh}function tm(e){return e instanceof Lh&&Fh(e)}function nm(e){return em(e)||tm(e)||function(e){if(e instanceof Lh&&Vh(e)){for(const t of e.getFilters())if(!em(t)&&!tm(t))return!1;return!0}return!1}(e)}function rm(e){if(ll(e instanceof Oh||e instanceof Lh),e instanceof Oh)return e;if(1===e.filters.length)return rm(e.filters[0]);const t=e.filters.map((e=>rm(e)));let n=Lh.create(t,e.op);return n=am(n),nm(n)?n:(ll(n instanceof Lh),ll(Mh(n)),ll(n.filters.length>1),n.filters.reduce(((e,t)=>im(e,t))))}function im(e,t){let n;return ll(e instanceof Oh||e instanceof Lh),ll(t instanceof Oh||t instanceof Lh),n=e instanceof Oh?t instanceof Oh?function(e,t){return Lh.create([e,t],"and")}(e,t):sm(e,t):t instanceof Oh?sm(t,e):function(e,t){if(ll(e.filters.length>0&&t.filters.length>0),Mh(e)&&Mh(t))return $h(e,t.getFilters());const n=Vh(e)?e:t,r=Vh(e)?t:e,i=n.filters.map((e=>im(e,r)));return Lh.create(i,"or")}(e,t),am(n)}function sm(e,t){if(Mh(t))return $h(t,e.getFilters());{const n=t.filters.map((t=>im(e,t)));return Lh.create(n,"or")}}function am(e){if(ll(e instanceof Oh||e instanceof Lh),e instanceof Oh)return e;const t=e.getFilters();if(1===t.length)return am(t[0]);if(Uh(e))return e;const n=t.map((e=>am(e))),r=[];return n.forEach((t=>{t instanceof Oh?r.push(t):t instanceof Lh&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:Lh.create(r,e.op)}class om{constructor(){this.Tn=new lm}addToCollectionParentIndex(e,t){return this.Tn.add(t),Gl.resolve()}getCollectionParents(e,t){return Gl.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return Gl.resolve()}deleteFieldIndex(e,t){return Gl.resolve()}deleteAllFieldIndexes(e){return Gl.resolve()}createTargetIndexes(e,t){return Gl.resolve()}getDocumentsMatchingTarget(e,t){return Gl.resolve(null)}getIndexType(e,t){return Gl.resolve(0)}getFieldIndexes(e,t){return Gl.resolve([])}getNextCollectionGroupToUpdate(e){return Gl.resolve(null)}getMinOffset(e,t){return Gl.resolve($l.min())}getMinOffsetFromCollectionGroup(e,t){return Gl.resolve($l.min())}updateCollectionGroup(e,t,n){return Gl.resolve()}updateIndexEntries(e,t){return Gl.resolve()}}class lm{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Au(Al.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Au(Al.comparator)).toArray()}}const cm="IndexedDbIndexManager",um=new Uint8Array(0);class hm{constructor(e,t){this.databaseId=t,this.In=new lm,this.En=new _d((e=>td(e)),((e,t)=>nd(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.In.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.In.add(t)}));const i={collectionId:n,parent:mc(r)};return dm(e).put(i)}return Gl.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[_l(t),""],!1,!0);return dm(e).G(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(yc(r.parent))}return n}))}addFieldIndex(e,t){const n=pm(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=mm(e);return i.next((e=>{n.put(Rp(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=pm(e),r=mm(e),i=fm(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=pm(e),n=fm(e),r=mm(e);return t.J().next((()=>n.J())).next((()=>r.J()))}createTargetIndexes(e,t){return Gl.forEach(this.dn(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new Xp(t).Pn();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=fm(e);let r=!0;const i=new Map;return Gl.forEach(this.dn(t),(t=>this.An(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=Od();const r=[];return Gl.forEach(i,((i,s)=>{rl(cm,`Using index ${function(e){return`id=${e.indexId}|cg=${e.collectionGroup}|f=${e.fields.map((e=>`${e.fieldPath}:${e.kind}`)).join(",")}`}(i)} to execute ${td(t)}`);const a=function(e,t){const n=Ml(t);if(void 0===n)return null;for(const r of id(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),o=function(e,t){const n=new Map;for(const r of Vl(t))for(const t of id(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),l=function(e,t){const n=[];let r=!0;for(const i of Vl(t)){const t=0===i.kind?sd(e,i.fieldPath,e.startAt):ad(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new Ih(n,r)}(s,i),c=function(e,t){const n=[];let r=!0;for(const i of Vl(t)){const t=0===i.kind?ad(e,i.fieldPath,e.endAt):sd(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new Ih(n,r)}(s,i),u=this.Rn(i,s,l),h=this.Rn(i,s,c),d=this.Vn(i,s,o),f=this.mn(i.indexId,a,u,l.inclusive,h,c.inclusive,d);return Gl.forEach(f,(i=>n.H(i,t.limit).next((t=>{t.forEach((t=>{const n=Dl.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return Gl.resolve(null)}))}dn(e){let t=this.En.get(e);return t||(t=0===e.filters.length?[e]:Zp(Lh.create(e.filters,"and")).map((t=>ed(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.En.set(e,t),t)}mn(e,t,n,r,i,s,a){const o=(null!=t?t.length:1)*Math.max(n.length,i.length),l=o/(null!=t?t.length:1),c=[];for(let u=0;u<o;++u){const o=t?this.fn(t[u/l]):um,h=this.gn(e,o,n[u%l],r),d=this.pn(e,o,i[u%l],s),f=a.map((t=>this.gn(e,o,t,!0)));c.push(...this.createRange(h,d,f))}return c}gn(e,t,n,r){const i=new Gp(e,Dl.empty(),t,n);return r?i:i.nn()}pn(e,t,n,r){const i=new Gp(e,Dl.empty(),t,n);return r?i.nn():i}An(e,t){const n=new Xp(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.un(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.dn(t);return Gl.forEach(r,(t=>this.An(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new Au(Rl.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}yn(e,t){const n=new Wp;for(const r of Vl(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.tn(r.kind);Up.xt.At(e,i)}return n.Yt()}fn(e){const t=new Wp;return Up.xt.At(e,t.tn(0)),t.Yt()}wn(e,t){const n=new Wp;return Up.xt.At(dh(this.databaseId,t),n.tn(function(e){const t=Vl(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Yt()}Vn(e,t,n){if(null===n)return[];let r=[];r.push(new Wp);let i=0;for(const s of Vl(e)){const e=n[i++];for(const n of r)if(this.bn(t,s.fieldPath)&&ph(e))r=this.Sn(r,s,e);else{const t=n.tn(s.kind);Up.xt.At(e,t)}}return this.Dn(r)}Rn(e,t,n){return this.Vn(e,t,n.position)}Dn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Yt();return t}Sn(e,t,n){const r=[...e],i=[];for(const s of n.arrayValue.values||[])for(const e of r){const n=new Wp;n.seed(e.Yt()),Up.xt.At(s,n.tn(t.kind)),i.push(n)}return i}bn(e,t){return!!e.filters.find((e=>e instanceof Oh&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=pm(e),r=mm(e);return(t?n.G(eu,IDBKeyRange.bound(t,t)):n.G()).next((e=>{const t=[];return Gl.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new Ul(t.sequenceNumber,new $l(Tp(t.readTime),new Dl(yc(t.documentKey)),t.largestBatchId)):Ul.empty(),r=e.fields.map((e=>{let[t,n]=e;return new Fl(Rl.fromServerFormat(t),n)}));return new Ll(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Sl(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=pm(e),i=mm(e);return this.vn(e).next((e=>r.G(eu,IDBKeyRange.bound(t,t)).next((t=>Gl.forEach(t,(t=>i.put(Rp(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return Gl.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?Gl.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),Gl.forEach(i,(n=>this.Cn(e,t,n).next((t=>{const i=this.Fn(r,n);return t.isEqual(i)?Gl.resolve():this.Mn(e,r,n,t,i)})))))))}))}xn(e,t,n,r){return fm(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.wn(n,t.key),documentKey:t.key.path.toArray()})}On(e,t,n,r){return fm(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.wn(n,t.key),t.key.path.toArray()])}Cn(e,t,n){const r=fm(e);let i=new Au(Qp);return r.Z({index:ou,range:IDBKeyRange.only([n.indexId,this.uid,this.wn(n,t)])},((e,r)=>{i=i.add(new Gp(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}Fn(e,t){let n=new Au(Qp);const r=this.yn(t,e);if(null==r)return n;const i=Ml(t);if(null!=i){const s=e.data.field(i.fieldPath);if(ph(s))for(const i of s.arrayValue.values||[])n=n.add(new Gp(t.indexId,e.key,this.fn(i),r))}else n=n.add(new Gp(t.indexId,e.key,um,r));return n}Mn(e,t,n,r,i){rl(cm,"Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),a=t.getIterator();let o=Ru(s),l=Ru(a);for(;o||l;){let e=!1,t=!1;if(o&&l){const r=n(o,l);r<0?t=!0:r>0&&(e=!0)}else null!=o?t=!0:e=!0;e?(r(l),l=Ru(a)):t?(i(o),o=Ru(s)):(o=Ru(s),l=Ru(a))}}(r,i,Qp,(r=>{s.push(this.xn(e,t,n,r))}),(r=>{s.push(this.On(e,t,n,r))})),Gl.waitFor(s)}vn(e){let t=1;return mm(e).Z({index:ru,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>Qp(e,t))).filter(((e,t,n)=>!t||0!==Qp(e,n[t-1])));const r=[];r.push(e);for(const s of n){const n=Qp(s,e),i=Qp(s,t);if(0===n)r[0]=e.nn();else if(n>0&&i<0)r.push(s),r.push(s.nn());else if(i>0)break}r.push(t);const i=[];for(let s=0;s<r.length;s+=2){if(this.Nn(r[s],r[s+1]))return[];const e=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,um,[]],t=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,um,[]];i.push(IDBKeyRange.bound(e,t))}return i}Nn(e,t){return Qp(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(gm)}getMinOffset(e,t){return Gl.mapArray(this.dn(t),(t=>this.An(e,t).next((e=>e||ol())))).next(gm)}}function dm(e){return _u(e,Gc)}function fm(e){return _u(e,su)}function pm(e){return _u(e,Zc)}function mm(e){return _u(e,tu)}function gm(e){ll(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;Hl(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new $l(t.readTime,t.documentKey,n)}const vm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ym=41943040;class bm{static withCacheSize(e){return new bm(e,bm.DEFAULT_COLLECTION_PERCENTILE,bm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}function wm(e,t,n){const r=e.store(kc),i=e.store(jc),s=[],a=IDBKeyRange.only(n.batchId);let o=0;const l=r.Z({range:a},((e,t,n)=>(o++,n.delete())));s.push(l.next((()=>{ll(1===o)})));const c=[];for(const u of n.mutations){const e=Nc(t,u.key.path,n.batchId);s.push(i.delete(e)),c.push(u.key)}return Gl.waitFor(s).next((()=>c))}function xm(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ol();t=e.noDocument}return JSON.stringify(t).length}bm.DEFAULT_COLLECTION_PERCENTILE=10,bm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bm.DEFAULT=new bm(ym,bm.DEFAULT_COLLECTION_PERCENTILE,bm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bm.DISABLED=new bm(-1,0,0);class Sm{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Bn={}}static It(e,t,n,r){ll(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Sm(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _m(e).Z({index:Ec,range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=Em(e),s=_m(e);return s.add({}).next((a=>{ll("number"==typeof a);const o=new vf(a,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>op(e.Tt,t))),i=n.mutations.map((t=>op(e.Tt,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,o),c=[];let u=new Au(((e,t)=>Sl(e.canonicalString(),t.canonicalString())));for(const e of r){const t=Nc(this.userId,e.key.path,a);u=u.add(e.key.path.popLast()),c.push(s.put(l)),c.push(i.put(t,Ic))}return u.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Bn[a]=o.keys()})),Gl.waitFor(c).next((()=>o))}))}lookupMutationBatch(e,t){return _m(e).get(t).next((e=>e?(ll(e.userId===this.userId),Cp(this.serializer,e)):null))}Ln(e,t){return this.Bn[t]?Gl.resolve(this.Bn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Bn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return _m(e).Z({index:Ec,range:r},((e,t,r)=>{t.userId===this.userId&&(ll(t.batchId>=n),i=Cp(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=uc;return _m(e).Z({index:Ec,range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,uc],[this.userId,Number.POSITIVE_INFINITY]);return _m(e).G(Ec,t).next((e=>e.map((e=>Cp(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Cc(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Em(e).Z({range:r},((n,r,s)=>{const[a,o,l]=n,c=yc(o);if(a===this.userId&&t.path.isEqual(c))return _m(e).get(l).next((e=>{if(!e)throw ol();ll(e.userId===this.userId),i.push(Cp(this.serializer,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Au(Sl);const r=[];return t.forEach((t=>{const i=Cc(this.userId,t.path),s=IDBKeyRange.lowerBound(i),a=Em(e).Z({range:s},((e,r,i)=>{const[s,a,o]=e,l=yc(a);s===this.userId&&t.path.isEqual(l)?n=n.add(o):i.done()}));r.push(a)})),Gl.waitFor(r).next((()=>this.kn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Cc(this.userId,n),s=IDBKeyRange.lowerBound(i);let a=new Au(Sl);return Em(e).Z({range:s},((e,t,i)=>{const[s,o,l]=e,c=yc(o);s===this.userId&&n.isPrefixOf(c)?c.length===r&&(a=a.add(l)):i.done()})).next((()=>this.kn(e,a)))}kn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(_m(e).get(t).next((e=>{if(null===e)throw ol();ll(e.userId===this.userId),n.push(Cp(this.serializer,e))})))})),Gl.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return wm(e.ue,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.qn(t.batchId)})),Gl.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}qn(e){delete this.Bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Gl.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return Em(e).Z({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=yc(e[1]);r.push(t)}else n.done()})).next((()=>{ll(0===r.length)}))}))}containsKey(e,t){return km(e,this.userId,t)}Qn(e){return Tm(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:uc,lastStreamToken:""}))}}function km(e,t,n){const r=Cc(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let a=!1;return Em(e).Z({range:s,Y:!0},((e,n,r)=>{const[s,o,l]=e;s===t&&o===i&&(a=!0),r.done()})).next((()=>a))}function _m(e){return _u(e,kc)}function Em(e){return _u(e,jc)}function Tm(e){return _u(e,Sc)}class Cm{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Cm(0)}static Un(){return new Cm(-1)}}class Nm{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Wn(e).next((t=>{const n=new Cm(t.highestTargetId);return t.highestTargetId=n.next(),this.Gn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Wn(e).next((e=>Nl.fromTimestamp(new Cl(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Wn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Wn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Gn(e,r))))}addTargetData(e,t){return this.zn(e,t).next((()=>this.Wn(e).next((n=>(n.targetCount+=1,this.jn(t,n),this.Gn(e,n))))))}updateTargetData(e,t){return this.zn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Im(e).delete(t.targetId))).next((()=>this.Wn(e))).next((t=>(ll(t.targetCount>0),t.targetCount-=1,this.Gn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return Im(e).Z(((s,a)=>{const o=Np(a);o.sequenceNumber<=t&&null===n.get(o.targetId)&&(r++,i.push(this.removeTargetData(e,o)))})).next((()=>Gl.waitFor(i))).next((()=>r))}forEachTarget(e,t){return Im(e).Z(((e,n)=>{const r=Np(n);t(r)}))}Wn(e){return jm(e).get(Kc).next((e=>(ll(null!==e),e)))}Gn(e,t){return jm(e).put(Kc,t)}zn(e,t){return Im(e).put(Ip(this.serializer,t))}jn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Wn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=td(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Im(e).Z({range:r,index:Uc},((e,n,r)=>{const s=Np(n);nd(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=Am(e);return t.forEach((t=>{const s=mc(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))})),Gl.waitFor(r)}removeMatchingKeys(e,t,n){const r=Am(e);return Gl.forEach(t,(t=>{const i=mc(t.path);return Gl.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=Am(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Am(e);let i=Od();return r.Z({range:n,Y:!0},((e,t,n)=>{const r=yc(e[1]),s=new Dl(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=mc(t.path),r=IDBKeyRange.bound([n],[_l(n)],!1,!0);let i=0;return Am(e).Z({index:Hc,Y:!0,range:r},((e,t,n)=>{let[r,s]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}lt(e,t){return Im(e).get(t).next((e=>e?Np(e):null))}}function Im(e){return _u(e,Fc)}function jm(e){return _u(e,Wc)}function Am(e){return _u(e,Bc)}const Pm="LruGarbageCollector",Rm=1048576;function Dm(e,t){let[n,r]=e,[i,s]=t;const a=Sl(n,i);return 0===a?Sl(r,s):a}class Om{constructor(e){this.Hn=e,this.buffer=new Au(Dm),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Dm(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Lm{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Xn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return null!==this.Xn}er(e){rl(Pm,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){tc(e)?rl(Pm,"Ignoring IndexedDB error during garbage collection: ",e):await Wl(e)}await this.er(3e5)}))}}class Mm{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Gl.resolve(cc.ae);const n=new Om(t);return this.tr.forEachTarget(e,(e=>n.Zn(e.sequenceNumber))).next((()=>this.tr.rr(e,(e=>n.Zn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.tr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(rl("LruGarbageCollector","Garbage collection skipped; disabled"),Gl.resolve(vm)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(rl("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vm):this.ir(e,t)))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let n,r,i,s,a,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(rl("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),nl()<=qn.DEBUG&&rl("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-c}ms\n\tDetermined least recently used ${r} in `+(a-s)+"ms\n"+`\tRemoved ${i} targets in `+(o-a)+"ms\n"+`\tRemoved ${e} documents in `+(l-o)+"ms\n"+`Total Duration: ${l-c}ms`),Gl.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function Vm(e,t){return new Mm(e,t)}class Fm{constructor(e,t){this.db=e,this.garbageCollector=Vm(this,t)}nr(e){const t=this.sr(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}sr(e){let t=0;return this.rr(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}rr(e,t){return this._r(e,((e,n)=>t(n)))}addReference(e,t,n){return Um(e,n)}removeReference(e,t,n){return Um(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Um(e,t)}ar(e,t){return function(e,t){let n=!1;return Tm(e).X((r=>km(e,r,t).next((e=>(e&&(n=!0),Gl.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this._r(e,((s,a)=>{if(a<=t){const t=this.ar(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,Nl.min()),Am(e).delete(function(e){return[0,mc(e.path)]}(s)))))}));r.push(t)}})).next((()=>Gl.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Um(e,t)}_r(e,t){const n=Am(e);let r,i=cc.ae;return n.Z({index:Hc},((e,n)=>{let[s,a]=e,{path:o,sequenceNumber:l}=n;0===s?(i!==cc.ae&&t(new Dl(yc(r)),i),i=l,r=o):i=cc.ae})).next((()=>{i!==cc.ae&&t(new Dl(yc(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Um(e,t){return Am(e).put(function(e,t){return{targetId:0,path:mc(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class zm{constructor(){this.changes=new _d((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Nh.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Gl.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Bm{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return Km(e).put(n)}removeEntry(e,t,n){return Km(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],_p(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.ur(e,n))))}getEntry(e,t){let n=Nh.newInvalidDocument(t);return Km(e).Z({index:Rc,range:IDBKeyRange.only(Wm(t))},((e,r)=>{n=this.cr(t,r)})).next((()=>n))}lr(e,t){let n={size:0,document:Nh.newInvalidDocument(t)};return Km(e).Z({index:Rc,range:IDBKeyRange.only(Wm(t))},((e,r)=>{n={document:this.cr(t,r),size:xm(r)}})).next((()=>n))}getEntries(e,t){let n=Td();return this.hr(e,t,((e,t)=>{const r=this.cr(e,t);n=n.insert(e,r)})).next((()=>n))}Pr(e,t){let n=Td(),r=new Nu(Dl.comparator);return this.hr(e,t,((e,t)=>{const i=this.cr(e,t);n=n.insert(e,i),r=r.insert(e,xm(t))})).next((()=>({documents:n,Tr:r})))}hr(e,t,n){if(t.isEmpty())return Gl.resolve();let r=new Au(Qm);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(Wm(r.first()),Wm(r.last())),s=r.getIterator();let a=s.getNext();return Km(e).Z({index:Rc,range:i},((e,t,r)=>{const i=Dl.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;a&&Qm(a,i)<0;)n(a,null),a=s.getNext();a&&a.isEqual(i)&&(n(a,t),a=s.hasNext()?s.getNext():null),a?r.W(Wm(a)):r.done()})).next((()=>{for(;a;)n(a,null),a=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const s=t.path,a=[s.popLast().toArray(),s.lastSegment(),_p(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],o=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Km(e).G(IDBKeyRange.bound(a,o,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=Td();for(const i of e){const e=this.cr(Dl.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(wd(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=Td();const s=Gm(t,n),a=Gm(t,$l.max());return Km(e).Z({index:Oc,range:IDBKeyRange.bound(s,a,!0)},((e,t,n)=>{const s=this.cr(Dl.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new Hm(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return qm(e).get(Vc).next((e=>(ll(!!e),e)))}ur(e,t){return qm(e).put(Vc,t)}cr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=ap(e.Tt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=Dl.fromSegments(t.noDocument.path),r=Tp(t.noDocument.readTime);n=Nh.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return ol();{const e=Dl.fromSegments(t.unknownDocument.path),r=Tp(t.unknownDocument.version);n=Nh.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new Cl(e[0],e[1]);return Nl.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(Nl.min()))return e}return Nh.newInvalidDocument(e)}}function $m(e){return new Bm(e)}class Hm extends zm{constructor(e,t){super(),this.Ir=e,this.trackRemovals=t,this.Er=new _d((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new Au(((e,t)=>Sl(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const a=this.Er.get(i);if(t.push(this.Ir.removeEntry(e,i,a.readTime)),s.isValidDocument()){const o=kp(this.Ir.serializer,s);r=r.add(i.path.popLast());const l=xm(o);n+=l-a.size,t.push(this.Ir.addEntry(e,i,o))}else if(n-=a.size,this.trackRemovals){const n=kp(this.Ir.serializer,s.convertToNoDocument(Nl.min()));t.push(this.Ir.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.Ir.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.Ir.updateMetadata(e,n)),Gl.waitFor(t)}getFromCache(e,t){return this.Ir.lr(e,t).next((e=>(this.Er.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.Ir.Pr(e,t).next((e=>{let{documents:t,Tr:n}=e;return n.forEach(((e,n)=>{this.Er.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function qm(e){return _u(e,Mc)}function Km(e){return _u(e,Ac)}function Wm(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Gm(e,t){const n=t.documentKey.path.toArray();return[e,_p(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Qm(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Sl(n[s],r[s]),i)return i;return i=Sl(n.length,r.length),i||(i=Sl(n[n.length-2],r[r.length-2]),i||Sl(n[n.length-1],r[r.length-1]))}class Ym{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Xm{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&of(n.mutation,e,Du.empty(),Cl.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Od()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Od();const r=jd();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Nd();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=jd();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Od())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Td();const s=Pd(),a=Pd();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof hf)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),of(a.mutation,t,a.mutation.getFieldMask(),Cl.now())):s.set(t.key,Du.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new Ym(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=Pd();let r=new Nu(((e,t)=>e-t)),i=Od();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||Du.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||Od()).add(e);r=r.insert(i.batchId,o)}))})).next((()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=Ad();l.forEach((e=>{if(!i.has(e)){const r=sf(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Gl.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Dl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):hd(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Gl.resolve(jd());let a=Ol,o=i;return s.next((t=>Gl.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Gl.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,o,t,Od()))).next((e=>({batchId:a,changes:Id(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Dl(t)).next((e=>{let t=Nd();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Nd();return this.indexManager.getCollectionParents(e,i).next((a=>Gl.forEach(a,(a=>{const o=function(e,t){return new od(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Nh.newInvalidDocument(r)))}));let n=Nd();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&of(s.mutation,r,Du.empty(),Cl.now()),wd(t,r)&&(n=n.insert(e,r))})),n}))}}class Jm{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return Gl.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Qf(e.createTime)}}(t)),Gl.resolve()}getNamedQuery(e,t){return Gl.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(e){return{name:e.name,query:jp(e.bundledQuery),readTime:Qf(e.readTime)}}(t)),Gl.resolve()}}class Zm{constructor(){this.overlays=new Nu(Dl.comparator),this.Rr=new Map}getOverlay(e,t){return Gl.resolve(this.overlays.get(t))}getOverlays(e,t){const n=jd();return Gl.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.Et(e,t,r)})),Gl.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Rr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Rr.delete(n)),Gl.resolve()}getOverlaysForCollection(e,t,n){const r=jd(),i=t.length+1,s=new Dl(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Gl.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Nu(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=jd(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=jd(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return Gl.resolve(a)}Et(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Rr.get(r.largestBatchId).delete(n.key);this.Rr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new bf(t,n));let i=this.Rr.get(t);void 0===i&&(i=Od(),this.Rr.set(t,i)),this.Rr.set(t,i.add(n.key))}}class eg{constructor(){this.sessionToken=Lu.EMPTY_BYTE_STRING}getSessionToken(e){return Gl.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Gl.resolve()}}class tg{constructor(){this.Vr=new Au(ng.mr),this.gr=new Au(ng.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const n=new ng(e,t);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.wr(new ng(e,t))}br(e,t){e.forEach((e=>this.removeReference(e,t)))}Sr(e){const t=new Dl(new Al([])),n=new ng(t,e),r=new ng(t,e+1),i=[];return this.gr.forEachInRange([n,r],(e=>{this.wr(e),i.push(e.key)})),i}Dr(){this.Vr.forEach((e=>this.wr(e)))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Dl(new Al([])),n=new ng(t,e),r=new ng(t,e+1);let i=Od();return this.gr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new ng(e,0),n=this.Vr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class ng{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Dl.comparator(e.key,t.key)||Sl(e.Cr,t.Cr)}static pr(e,t){return Sl(e.Cr,t.Cr)||Dl.comparator(e.key,t.key)}}class rg{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Au(ng.mr)}checkEmpty(e){return Gl.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new vf(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.Mr=this.Mr.add(new ng(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Gl.resolve(s)}lookupMutationBatch(e,t){return Gl.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Nr(n),i=r<0?0:r;return Gl.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Gl.resolve(0===this.mutationQueue.length?uc:this.Fr-1)}getAllMutationBatches(e){return Gl.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new ng(t,0),r=new ng(t,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([n,r],(e=>{const t=this.Or(e.Cr);i.push(t)})),Gl.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Au(Sl);return t.forEach((e=>{const t=new ng(e,0),r=new ng(e,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([t,r],(e=>{n=n.add(e.Cr)}))})),Gl.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Dl.isDocumentKey(i)||(i=i.child(""));const s=new ng(new Dl(i),0);let a=new Au(Sl);return this.Mr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Cr)),!0)}),s),Gl.resolve(this.Br(a))}Br(e){const t=[];return e.forEach((e=>{const n=this.Or(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){ll(0===this.Lr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Mr;return Gl.forEach(t.mutations,(r=>{const i=new ng(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Mr=n}))}qn(e){}containsKey(e,t){const n=new ng(t,0),r=this.Mr.firstAfterOrEqual(n);return Gl.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Gl.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ig{constructor(e){this.kr=e,this.docs=new Nu(Dl.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.kr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Gl.resolve(n?n.document.mutableCopy():Nh.newInvalidDocument(t))}getEntries(e,t){let n=Td();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Nh.newInvalidDocument(e))})),Gl.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Td();const s=t.path,a=new Dl(s.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Hl(Bl(a),n)<=0||(r.has(a.key)||wd(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Gl.resolve(i)}getAllFromCollectionGroup(e,t,n,r){ol()}qr(e,t){return Gl.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new sg(this)}getSize(e){return Gl.resolve(this.size)}}class sg extends zm{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Ir.addEntry(e,r)):this.Ir.removeEntry(n)})),Gl.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}class ag{constructor(e){this.persistence=e,this.Qr=new _d((e=>td(e)),nd),this.lastRemoteSnapshotVersion=Nl.min(),this.highestTargetId=0,this.$r=0,this.Kr=new tg,this.targetCount=0,this.Ur=Cm.Kn()}forEachTarget(e,t){return this.Qr.forEach(((e,n)=>t(n))),Gl.resolve()}getLastRemoteSnapshotVersion(e){return Gl.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Gl.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Gl.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$r&&(this.$r=t),Gl.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Cm(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,Gl.resolve()}updateTargetData(e,t){return this.zn(t),Gl.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,Gl.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Qr.forEach(((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Qr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),Gl.waitFor(i).next((()=>r))}getTargetCount(e){return Gl.resolve(this.targetCount)}getTargetData(e,t){const n=this.Qr.get(t)||null;return Gl.resolve(n)}addMatchingKeys(e,t,n){return this.Kr.yr(t,n),Gl.resolve()}removeMatchingKeys(e,t,n){this.Kr.br(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Gl.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),Gl.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Kr.vr(t);return Gl.resolve(n)}containsKey(e,t){return Gl.resolve(this.Kr.containsKey(t))}}class og{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new cc(0),this.zr=!1,this.zr=!0,this.jr=new eg,this.referenceDelegate=e(this),this.Hr=new ag(this),this.indexManager=new om,this.remoteDocumentCache=function(e){return new ig(e)}((e=>this.referenceDelegate.Jr(e))),this.serializer=new Sp(t),this.Yr=new Jm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Zm,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Wr[e.toKey()];return n||(n=new rg(t,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,n){rl("MemoryPersistence","Starting transaction:",e);const r=new lg(this.Gr.next());return this.referenceDelegate.Zr(),n(r).next((e=>this.referenceDelegate.Xr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}ei(e,t){return Gl.or(Object.values(this.Wr).map((n=>()=>n.containsKey(e,t))))}}class lg extends Kl{constructor(e){super(),this.currentSequenceNumber=e}}class cg{constructor(e){this.persistence=e,this.ti=new tg,this.ni=null}static ri(e){return new cg(e)}get ii(){if(this.ni)return this.ni;throw ol()}addReference(e,t,n){return this.ti.addReference(n,t),this.ii.delete(n.toString()),Gl.resolve()}removeReference(e,t,n){return this.ti.removeReference(n,t),this.ii.add(n.toString()),Gl.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),Gl.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach((e=>this.ii.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.ii.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Gl.forEach(this.ii,(n=>{const r=Dl.fromPath(n);return this.si(e,r).next((e=>{e||t.removeEntry(r,Nl.min())}))})).next((()=>(this.ni=null,t.apply(e))))}updateLimboDocument(e,t){return this.si(e,t).next((e=>{e?this.ii.delete(t.toString()):this.ii.add(t.toString())}))}Jr(e){return 0}si(e,t){return Gl.or([()=>Gl.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class ug{constructor(e,t){this.persistence=e,this.oi=new _d((e=>mc(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=Vm(this,t)}static ri(e,t){return new ug(e,t)}Zr(){}Xr(e){return Gl.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}sr(e){let t=0;return this.rr(e,(e=>{t++})).next((()=>t))}rr(e,t){return Gl.forEach(this.oi,((n,r)=>this.ar(e,n,r).next((e=>e?Gl.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.qr(e,(r=>this.ar(e,r,t).next((e=>{e||(n++,i.removeEntry(r,Nl.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),Gl.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),Gl.resolve()}removeReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),Gl.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),Gl.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=hh(e.data.value)),t}ar(e,t,n){return Gl.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.oi.get(t);return Gl.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class hg{constructor(e){this.serializer=e}B(e,t,n,r){const i=new Yl("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(wc)}(e),function(e){e.createObjectStore(Sc,{keyPath:"userId"});e.createObjectStore(kc,{keyPath:_c,autoIncrement:!0}).createIndex(Ec,Tc,{unique:!0}),e.createObjectStore(jc)}(e),dg(e),function(e){e.createObjectStore(bc)}(e));let s=Gl.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Bc),e.deleteObjectStore(Fc),e.deleteObjectStore(Wc)}(e),dg(e)),s=s.next((()=>function(e){const t=e.store(Wc),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Nl.min().toTimestamp(),targetCount:0};return t.put(Kc,n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store(kc).G().next((n=>{e.deleteObjectStore(kc),e.createObjectStore(kc,{keyPath:_c,autoIncrement:!0}).createIndex(Ec,Tc,{unique:!0});const r=t.store(kc),i=n.map((e=>r.put(e)));return Gl.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore(Yc,{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this._i(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore(Mc)}(e),this.ai(i))))),n<7&&r>=7&&(s=s.next((()=>this.ui(i)))),n<8&&r>=8&&(s=s.next((()=>this.ci(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(s=s.next((()=>this.li(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore(Xc,{keyPath:"bundleId"})}(e),function(e){e.createObjectStore(Jc,{keyPath:"name"})}(e)}))),n<12&&r>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore(cu,{keyPath:uu});t.createIndex(hu,du,{unique:!1}),t.createIndex(fu,pu,{unique:!1})}(e)}))),n<13&&r>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore(Ac,{keyPath:Pc});t.createIndex(Rc,Dc),t.createIndex(Oc,Lc)}(e))).next((()=>this.hi(e,i))).next((()=>e.deleteObjectStore(bc)))),n<14&&r>=14&&(s=s.next((()=>this.Pi(e,i)))),n<15&&r>=15&&(s=s.next((()=>function(e){e.createObjectStore(Zc,{keyPath:"indexId",autoIncrement:!0}).createIndex(eu,"collectionGroup",{unique:!1});e.createObjectStore(tu,{keyPath:nu}).createIndex(ru,iu,{unique:!1});e.createObjectStore(su,{keyPath:au}).createIndex(ou,lu,{unique:!1})}(e)))),n<16&&r>=16&&(s=s.next((()=>{t.objectStore(tu).clear()})).next((()=>{t.objectStore(su).clear()}))),n<17&&r>=17&&(s=s.next((()=>{!function(e){e.createObjectStore(mu,{keyPath:"name"})}(e)}))),s}ai(e){let t=0;return e.store(bc).Z(((e,n)=>{t+=xm(n)})).next((()=>{const n={byteSize:t};return e.store(Mc).put(Vc,n)}))}_i(e){const t=e.store(Sc),n=e.store(kc);return t.G().next((t=>Gl.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,uc],[t.userId,t.lastAcknowledgedBatchId]);return n.G(Ec,r).next((n=>Gl.forEach(n,(n=>{ll(n.userId===t.userId);const r=Cp(this.serializer,n);return wm(e,t.userId,r).next((()=>{}))}))))}))))}ui(e){const t=e.store(Bc),n=e.store(bc);return e.store(Wc).get(Kc).next((e=>{const r=[];return n.Z(((n,i)=>{const s=new Al(n),a=function(e){return[0,mc(e)]}(s);r.push(t.get(a).next((n=>n?Gl.resolve():(n=>t.put({targetId:0,path:mc(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>Gl.waitFor(r)))}))}ci(e,t){e.createObjectStore(Gc,{keyPath:Qc});const n=t.store(Gc),r=new lm,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:mc(r)})}};return t.store(bc).Z({Y:!0},((e,t)=>{const n=new Al(e);return i(n.popLast())})).next((()=>t.store(jc).Z({Y:!0},((e,t)=>{let[n,r,s]=e;const a=yc(r);return i(a.popLast())}))))}li(e){const t=e.store(Fc);return t.Z(((e,n)=>{const r=Np(n),i=Ip(this.serializer,r);return t.put(i)}))}hi(e,t){const n=t.store(bc),r=[];return n.Z(((e,n)=>{const i=t.store(Ac),s=function(e){return e.document?new Dl(Al.fromString(e.document.name).popFirst(5)):e.noDocument?Dl.fromSegments(e.noDocument.path):e.unknownDocument?Dl.fromSegments(e.unknownDocument.path):ol()}(n).path.toArray(),a={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(a))})).next((()=>Gl.waitFor(r)))}Pi(e,t){const n=t.store(kc),r=$m(this.serializer),i=new og(cg.ri,this.serializer.Tt);return n.G().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:Od();Cp(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),Gl.forEach(n,((e,n)=>{const s=new Zo(n),a=Mp.It(this.serializer,s),o=i.getIndexManager(s),l=Sm.It(s,this.serializer,o,i.referenceDelegate);return new Xm(r,l,a,o).recalculateAndSaveOverlaysForDocumentKeys(new ku(t,cc.ae),e).next()}))}))}}function dg(e){e.createObjectStore(Bc,{keyPath:$c}).createIndex(Hc,qc,{unique:!0}),e.createObjectStore(Fc,{keyPath:"targetId"}).createIndex(Uc,zc,{unique:!0}),e.createObjectStore(Wc)}const fg="IndexedDbPersistence",pg=18e5,mg=5e3,gg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",vg="main";class yg{constructor(e,t,n,r,i,s,a,o,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:17;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Ti=i,this.window=s,this.document=a,this.Ii=l,this.Ei=c,this.di=u,this.Gr=null,this.zr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ai=null,this.inForeground=!1,this.Ri=null,this.Vi=null,this.mi=Number.NEGATIVE_INFINITY,this.fi=e=>Promise.resolve(),!yg.D())throw new hl(ul.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Fm(this,r),this.gi=t+vg,this.serializer=new Sp(o),this.pi=new Xl(this.gi,this.di,new hg(this.serializer)),this.jr=new Fp,this.Hr=new Nm(this.referenceDelegate,this.serializer),this.remoteDocumentCache=$m(this.serializer),this.Yr=new Dp,this.window&&this.window.localStorage?this.yi=this.window.localStorage:(this.yi=null,!1===c&&il(fg,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new hl(ul.FAILED_PRECONDITION,gg);return this.bi(),this.Si(),this.Di(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Hr.getHighestSequenceNumber(e)))})).then((e=>{this.Gr=new cc(e,this.Ii)})).then((()=>{this.zr=!0})).catch((e=>(this.pi&&this.pi.close(),Promise.reject(e))))}Ci(e){return this.fi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.pi.k((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ti.enqueueAndForget((async()=>{this.started&&await this.wi()})))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>wg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Fi(e).next((e=>{e||(this.isPrimary=!1,this.Ti.enqueueRetryable((()=>this.fi(!1))))}))})).next((()=>this.Mi(e))).next((t=>this.isPrimary&&!t?this.xi(e).next((()=>!1)):!!t&&this.Oi(e).next((()=>!0)))))).catch((e=>{if(tc(e))return rl(fg,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return rl(fg,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Ti.enqueueRetryable((()=>this.fi(e))),this.isPrimary=e}))}Fi(e){return bg(e).get(xc).next((e=>Gl.resolve(this.Ni(e))))}Bi(e){return wg(e).delete(this.clientId)}async Li(){if(this.isPrimary&&!this.ki(this.mi,pg)){this.mi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=_u(e,Yc);return t.G().next((e=>{const n=this.qi(e,pg),r=e.filter((e=>-1===n.indexOf(e)));return Gl.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.yi)for(const t of e)this.yi.removeItem(this.Qi(t.clientId))}}Di(){this.Vi=this.Ti.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.wi().then((()=>this.Li())).then((()=>this.Di()))))}Ni(e){return!!e&&e.ownerId===this.clientId}Mi(e){return this.Ei?Gl.resolve(!0):bg(e).get(xc).next((t=>{if(null!==t&&this.ki(t.leaseTimestampMs,mg)&&!this.$i(t.ownerId)){if(this.Ni(t)&&this.networkEnabled)return!0;if(!this.Ni(t)){if(!t.allowTabSynchronization)throw new hl(ul.FAILED_PRECONDITION,gg);return!1}}return!(!this.networkEnabled||!this.inForeground)||wg(e).G().next((e=>void 0===this.qi(e,mg).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&rl(fg,`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.zr=!1,this.Ki(),this.Vi&&(this.Vi.cancel(),this.Vi=null),this.Ui(),this.Wi(),await this.pi.runTransaction("shutdown","readwrite",[wc,Yc],(e=>{const t=new ku(e,cc.ae);return this.xi(t).next((()=>this.Bi(t)))})),this.pi.close(),this.Gi()}qi(e,t){return e.filter((e=>this.ki(e.updateTimeMs,t)&&!this.$i(e.clientId)))}zi(){return this.runTransaction("getActiveClients","readonly",(e=>wg(e).G().next((e=>this.qi(e,pg).map((e=>e.clientId))))))}get started(){return this.zr}getGlobalsCache(){return this.jr}getMutationQueue(e,t){return Sm.It(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new hm(e,this.serializer.Tt.databaseId)}getDocumentOverlayCache(e){return Mp.It(this.serializer,e)}getBundleCache(){return this.Yr}runTransaction(e,t,n){rl(fg,"Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 17===e?Su:16===e?xu:15===e?wu:14===e?bu:13===e?yu:12===e?vu:11===e?gu:void ol()}(this.di);let s;return this.pi.runTransaction(e,r,i,(r=>(s=new ku(r,this.Gr?this.Gr.next():cc.ae),"readwrite-primary"===t?this.Fi(s).next((e=>!!e||this.Mi(s))).next((t=>{if(!t)throw il(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ti.enqueueRetryable((()=>this.fi(!1))),new hl(ul.FAILED_PRECONDITION,ql);return n(s)})).next((e=>this.Oi(s).next((()=>e)))):this.ji(s).next((()=>n(s)))))).then((e=>(s.raiseOnCommittedEvent(),e)))}ji(e){return bg(e).get(xc).next((e=>{if(null!==e&&this.ki(e.leaseTimestampMs,mg)&&!this.$i(e.ownerId)&&!this.Ni(e)&&!(this.Ei||this.allowTabSynchronization&&e.allowTabSynchronization))throw new hl(ul.FAILED_PRECONDITION,gg)}))}Oi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return bg(e).put(xc,t)}static D(){return Xl.D()}xi(e){const t=bg(e);return t.get(xc).next((e=>this.Ni(e)?(rl(fg,"Releasing primary lease."),t.delete(xc)):Gl.resolve()))}ki(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(il(`Detected an update time that is in the future: ${e} > ${n}`),!1))}bi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ri=()=>{this.Ti.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.wi())))},this.document.addEventListener("visibilitychange",this.Ri),this.inForeground="visible"===this.document.visibilityState)}Ui(){this.Ri&&(this.document.removeEventListener("visibilitychange",this.Ri),this.Ri=null)}Si(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ai=()=>{this.Ki();const e=/(?:Version|Mobile)\/1[456]/;Cn()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Ti.enterRestrictedMode(!0),this.Ti.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Ai))}Wi(){this.Ai&&(this.window.removeEventListener("pagehide",this.Ai),this.Ai=null)}$i(e){var t;try{const n=null!==(null===(t=this.yi)||void 0===t?void 0:t.getItem(this.Qi(e)));return rl(fg,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return il(fg,"Failed to get zombied client id.",e),!1}}Ki(){if(this.yi)try{this.yi.setItem(this.Qi(this.clientId),String(Date.now()))}catch(Rx){il("Failed to set zombie client id.",Rx)}}Gi(){if(this.yi)try{this.yi.removeItem(this.Qi(this.clientId))}catch(Rx){}}Qi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function bg(e){return _u(e,wc)}function wg(e){return _u(e,Yc)}function xg(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Sg{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Hi=n,this.Ji=r}static Yi(e,t){let n=Od(),r=Od();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Sg(e,t.fromCache,n,r)}}class kg{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class _g{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=Cn()?8:Jl(Tn())>0?6:4}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.rs(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ss(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new kg;return this._s(e,t,n).next((r=>{if(i.result=r,this.Xi)return this.us(e,t,n,r.size)}))})).next((()=>i.result))}us(e,t,n,r){return n.documentReadCount<this.es?(nl()<=qn.DEBUG&&rl("QueryEngine","SDK will not create cache indexes for query:",bd(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Gl.resolve()):(nl()<=qn.DEBUG&&rl("QueryEngine","Query:",bd(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ts*r?(nl()<=qn.DEBUG&&rl("QueryEngine","The SDK decides to create cache indexes for query:",bd(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fd(t))):Gl.resolve())}rs(e,t){if(ud(t))return Gl.resolve(null);let n=fd(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=gd(t,null,"F"),n=fd(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Od(...r);return this.ns.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.cs(t,r);return this.ls(t,s,i,n.readTime)?this.rs(e,gd(t,null,"F")):this.hs(e,s,t,n)}))))})))))}ss(e,t,n,r){return ud(t)||r.isEqual(Nl.min())?Gl.resolve(null):this.ns.getDocuments(e,n).next((i=>{const s=this.cs(t,i);return this.ls(t,s,n,r)?Gl.resolve(null):(nl()<=qn.DEBUG&&rl("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),bd(t)),this.hs(e,s,t,zl(r,Ol)).next((e=>e)))}))}cs(e,t){let n=new Au(Sd(e));return t.forEach(((t,r)=>{wd(e,r)&&(n=n.add(r))})),n}ls(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}_s(e,t,n){return nl()<=qn.DEBUG&&rl("QueryEngine","Using full collection scan to execute query:",bd(t)),this.ns.getDocumentsMatchingQuery(e,t,$l.min(),n)}hs(e,t,n,r){return this.ns.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const Eg="LocalStore";class Tg{constructor(e,t,n,r){this.persistence=e,this.Ps=t,this.serializer=r,this.Ts=new Nu(Sl),this.Is=new _d((e=>td(e)),nd),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Xm(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ts)))}}function Cg(e,t,n,r){return new Tg(e,t,n,r)}async function Ng(e,t){const n=cl(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.As(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let a=Od();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({Rs:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Ig(e){const t=cl(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Hr.getLastRemoteSnapshotVersion(e)))}function jg(e,t,n){let r=Od(),i=Od();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Td();return n.forEach(((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Nl.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):rl(Eg,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),{Vs:r,fs:i}}))}function Ag(e,t){const n=cl(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=uc),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Pg(e,t){const n=cl(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Hr.getTargetData(e,t).next((i=>i?(r=i,Gl.resolve(r)):n.Hr.allocateTargetId(e).next((i=>(r=new xp(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Hr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(e.targetId,e),n.Is.set(t,e.targetId)),e}))}async function Rg(e,t,n){const r=cl(e),i=r.Ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!tc(e))throw e;rl(Eg,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ts=r.Ts.remove(t),r.Is.delete(i.target)}function Dg(e,t,n){const r=cl(e);let i=Nl.min(),s=Od();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=cl(e),i=r.Is.get(n);return void 0!==i?Gl.resolve(r.Ts.get(i)):r.Hr.getTargetData(t,n)}(r,e,fd(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.Ps.getDocumentsMatchingQuery(e,t,n?i:Nl.min(),n?s:Od()))).next((e=>(Og(r,xd(t),e),{documents:e,gs:s})))))}function Og(e,t,n){let r=e.Es.get(t)||Nl.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Es.set(t,r)}class Lg{constructor(){this.activeTargetIds=Md()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Mg{constructor(){this.ho=new Lg,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,n){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Lg,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Vg{To(e){}shutdown(){}}const Fg="ConnectivityMonitor";class Ug{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){rl(Fg,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){rl(Fg,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let zg=null;function Bg(){return null===zg?zg=268435456+Math.round(2147483648*Math.random()):zg++,"0x"+zg.toString(16)}const $g="RestConnection",Hg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qg{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${n}/databases/${r}`,this.wo=this.databaseId.database===Qu?`project_id=${n}`:`project_id=${n}&database_id=${r}`}bo(e,t,n,r,i){const s=Bg(),a=this.So(e,t.toUriEncodedString());rl($g,`Sending RPC '${e}' ${s}:`,a,n);const o={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(o,r,i),this.vo(e,a,o,n).then((t=>(rl($g,`Received RPC '${e}' ${s}: `,t),t)),(t=>{throw sl($g,`RPC '${e}' ${s} failed with error: `,t,"url: ",a,"request:",n),t}))}Co(e,t,n,r,i,s){return this.bo(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+el,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}So(e,t){const n=Hg[e];return`${this.po}/v1/${t}:${n}`}terminate(){}}class Kg{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}const Wg="WebChannelConnection";class Gg extends qg{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,n,r){const i=Bg();return new Promise(((s,a)=>{const o=new zo;o.setWithCredentials(!0),o.listenOnce($o.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Ho.NO_ERROR:const t=o.getResponseJson();rl(Wg,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case Ho.TIMEOUT:rl(Wg,`RPC '${e}' ${i} timed out`),a(new hl(ul.DEADLINE_EXCEEDED,"Request time out"));break;case Ho.HTTP_ERROR:const n=o.getStatus();if(rl(Wg,`RPC '${e}' ${i} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(ul).indexOf(t)>=0?t:ul.UNKNOWN}(t.status);a(new hl(e,t.message))}else a(new hl(ul.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new hl(ul.UNAVAILABLE,"Connection failed."));break;default:ol()}}finally{rl(Wg,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);rl(Wg,`RPC '${e}' ${i} sending request:`,r),o.send(t,"POST",l,n,15)}))}Wo(e,t,n){const r=Bg(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Go(),a=Wo(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Do(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");rl(Wg,`Creating RPC '${e}' stream ${r}: ${c}`,o);const u=s.createWebChannel(c,o);let h=!1,d=!1;const f=new Kg({Fo:t=>{d?rl(Wg,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(h||(rl(Wg,`Opening RPC '${e}' stream ${r} transport.`),u.open(),h=!0),rl(Wg,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Mo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Bo.EventType.OPEN,(()=>{d||(rl(Wg,`RPC '${e}' stream ${r} transport opened.`),f.Qo())})),p(u,Bo.EventType.CLOSE,(()=>{d||(d=!0,rl(Wg,`RPC '${e}' stream ${r} transport closed`),f.Ko())})),p(u,Bo.EventType.ERROR,(t=>{d||(d=!0,sl(Wg,`RPC '${e}' stream ${r} transport errored:`,t),f.Ko(new hl(ul.UNAVAILABLE,"The operation could not be completed")))})),p(u,Bo.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];ll(!!i);const s=i,a=(null==s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){rl(Wg,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=xf[e];if(void 0!==t)return _f(t)}(t),i=a.message;void 0===n&&(n=ul.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),d=!0,f.Ko(new hl(n,i)),u.close()}else rl(Wg,`RPC '${e}' stream ${r} received:`,i),f.Uo(i)}})),p(a,Ko.STAT_EVENT,(t=>{t.stat===qo.PROXY?rl(Wg,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===qo.NOPROXY&&rl(Wg,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.$o()}),0),f}}function Qg(){return"undefined"!=typeof window?window:null}function Yg(){return"undefined"!=typeof document?document:null}function Xg(e){return new Hf(e,!0)}class Jg{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Ti=e,this.timerId=t,this.Go=n,this.zo=r,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),r=Math.max(0,t-n);r>0&&rl("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,(()=>(this.Yo=Date.now(),e()))),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){null!==this.Jo&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){null!==this.Jo&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}const Zg="PersistentStream";class ev{constructor(e,t,n,r,i,s,a,o){this.Ti=e,this.n_=n,this.r_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Jg(e,t)}u_(){return 1===this.state||5===this.state||this.c_()}c_(){return 2===this.state||3===this.state}start(){this.__=0,4!==this.state?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&null===this.s_&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,(()=>this.T_())))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,4!==e?this.a_.reset():t&&t.code===ul.RESOURCE_EXHAUSTED?(il(t.toString()),il("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ul.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.i_===t&&this.V_(n,r)}),(t=>{e((()=>{const e=new hl(ul.UNKNOWN,"Fetching auth token failed: "+t.message);return this.m_(e)}))}))}V_(e,t){const n=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo((()=>{n((()=>this.listener.xo()))})),this.stream.No((()=>{n((()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,(()=>(this.c_()&&(this.state=3),Promise.resolve()))),this.listener.No())))})),this.stream.Lo((e=>{n((()=>this.m_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.__?this.g_(e):this.onNext(e)))}))}l_(){this.state=5,this.a_.Xo((async()=>{this.state=0,this.start()}))}m_(e){return rl(Zg,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget((()=>this.i_===e?t():(rl(Zg,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class tv extends ev{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ol()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(ll(void 0===t||"string"==typeof t),Lu.fromBase64String(t||"")):(ll(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Lu.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?ul.UNKNOWN:_f(e.code);return new hl(t,e.message||"")}(a);n=new Lf(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=ep(e,r.document.name),s=Qf(r.document.updateTime),a=r.document.createTime?Qf(r.document.createTime):Nl.min(),o=new Th({mapValue:{fields:r.document.fields}}),l=Nh.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Df(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=ep(e,r.document),s=r.readTime?Qf(r.readTime):Nl.min(),a=Nh.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Df([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=ep(e,r.document),s=r.removedTargetIds||[];n=new Df([],s,i,null)}else{if(!("filter"in t))return ol();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new wf(r,i),a=e.targetId;n=new Of(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Nl.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Nl.min():t.readTime?Qf(t.readTime):Nl.min()}(e);return this.listener.p_(t,n)}y_(e){const t={};t.database=rp(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=rd(r)?{documents:cp(e,r)}:{query:up(e,r).ht},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Wf(e,t.resumeToken);const r=qf(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Nl.min())>0){n.readTime=Kf(e,t.snapshotVersion.toTimestamp());const r=qf(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ol()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.I_(t)}w_(e){const t={};t.database=rp(this.serializer),t.removeTarget=e,this.I_(t)}}class nv extends ev{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return ll(!!e.streamToken),this.lastStreamToken=e.streamToken,ll(!e.writeResults||0===e.writeResults.length),this.listener.D_()}onNext(e){ll(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=function(e,t){return e&&e.length>0?(ll(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Qf(e.updateTime):Qf(t);return n.isEqual(Nl.min())&&(n=Qf(t)),new ef(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Qf(e.commitTime);return this.listener.v_(n,t)}C_(){const e={};e.database=rp(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>op(this.serializer,e)))};this.I_(t)}}class rv{}class iv extends rv{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new hl(ul.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,n,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,a]=i;return this.connection.bo(e,Xf(t,n),r,s,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===ul.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new hl(ul.UNKNOWN,e.toString())}))}Co(e,t,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[a,o]=s;return this.connection.Co(e,Xf(t,n),r,a,o,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===ul.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new hl(ul.UNKNOWN,e.toString())}))}terminate(){this.F_=!0,this.connection.terminate()}}class sv{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){0===this.x_&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve()))))}q_(e){"Online"===this.state?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,"Online"===e&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(il(t),this.N_=!1):rl("OnlineStateTracker",t)}Q_(){null!==this.O_&&(this.O_.cancel(),this.O_=null)}}const av="RemoteStore";class ov{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To((e=>{n.enqueueAndForget((async()=>{gv(this)&&(rl(av,"Restarting streams for network reachability change."),await async function(e){const t=cl(e);t.W_.add(4),await cv(t),t.j_.set("Unknown"),t.W_.delete(4),await lv(t)}(this))}))})),this.j_=new sv(n,r)}}async function lv(e){if(gv(e))for(const t of e.G_)await t(!0)}async function cv(e){for(const t of e.G_)await t(!1)}function uv(e,t){const n=cl(e);n.U_.has(t.targetId)||(n.U_.set(t.targetId,t),mv(n)?pv(n):Ov(n).c_()&&dv(n,t))}function hv(e,t){const n=cl(e),r=Ov(n);n.U_.delete(t),r.c_()&&fv(n,t),0===n.U_.size&&(r.c_()?r.P_():gv(n)&&n.j_.set("Unknown"))}function dv(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Nl.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ov(e).y_(t)}function fv(e,t){e.H_.Ne(t),Ov(e).w_(t)}function pv(e){e.H_=new Vf({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.U_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),Ov(e).start(),e.j_.B_()}function mv(e){return gv(e)&&!Ov(e).u_()&&e.U_.size>0}function gv(e){return 0===cl(e).W_.size}function vv(e){e.H_=void 0}async function yv(e){e.j_.set("Online")}async function bv(e){e.U_.forEach(((t,n)=>{dv(e,t)}))}async function wv(e,t){vv(e),mv(e)?(e.j_.q_(t),pv(e)):e.j_.set("Unknown")}async function xv(e,t,n){if(e.j_.set("Online"),t instanceof Lf&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.U_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.U_.delete(r),e.H_.removeTarget(r))}(e,t)}catch(n){rl(av,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Sv(e,n)}else if(t instanceof Df?e.H_.We(t):t instanceof Of?e.H_.Ze(t):e.H_.je(t),!n.isEqual(Nl.min()))try{const t=await Ig(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.H_.ot(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.U_.get(r);i&&e.U_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.U_.get(t);if(!r)return;e.U_.set(t,r.withResumeToken(Lu.EMPTY_BYTE_STRING,r.snapshotVersion)),fv(e,t);const i=new xp(r.target,t,n,r.sequenceNumber);dv(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){rl(av,"Failed to raise snapshot:",t),await Sv(e,t)}}async function Sv(e,t,n){if(!tc(t))throw t;e.W_.add(1),await cv(e),e.j_.set("Offline"),n||(n=()=>Ig(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{rl(av,"Retrying IndexedDB access"),await n(),e.W_.delete(1),await lv(e)}))}function kv(e,t){return t().catch((n=>Sv(e,n,t)))}async function _v(e){const t=cl(e),n=Lv(t);let r=t.K_.length>0?t.K_[t.K_.length-1].batchId:uc;for(;Ev(t);)try{const e=await Ag(t.localStore,r);if(null===e){0===t.K_.length&&n.P_();break}r=e.batchId,Tv(t,e)}catch(e){await Sv(t,e)}Cv(t)&&Nv(t)}function Ev(e){return gv(e)&&e.K_.length<10}function Tv(e,t){e.K_.push(t);const n=Lv(e);n.c_()&&n.b_&&n.S_(t.mutations)}function Cv(e){return gv(e)&&!Lv(e).u_()&&e.K_.length>0}function Nv(e){Lv(e).start()}async function Iv(e){Lv(e).C_()}async function jv(e){const t=Lv(e);for(const n of e.K_)t.S_(n.mutations)}async function Av(e,t,n){const r=e.K_.shift(),i=yf.from(r,t,n);await kv(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await _v(e)}async function Pv(e,t){t&&Lv(e).b_&&await async function(e,t){if(function(e){return kf(e)&&e!==ul.ABORTED}(t.code)){const n=e.K_.shift();Lv(e).h_(),await kv(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await _v(e)}}(e,t),Cv(e)&&Nv(e)}async function Rv(e,t){const n=cl(e);n.asyncQueue.verifyOperationInProgress(),rl(av,"RemoteStore received new credentials");const r=gv(n);n.W_.add(3),await cv(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await lv(n)}async function Dv(e,t){const n=cl(e);t?(n.W_.delete(2),await lv(n)):t||(n.W_.add(2),await cv(n),n.j_.set("Unknown"))}function Ov(e){return e.J_||(e.J_=function(e,t,n){const r=cl(e);return r.M_(),new tv(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:yv.bind(null,e),No:bv.bind(null,e),Lo:wv.bind(null,e),p_:xv.bind(null,e)}),e.G_.push((async t=>{t?(e.J_.h_(),mv(e)?pv(e):e.j_.set("Unknown")):(await e.J_.stop(),vv(e))}))),e.J_}function Lv(e){return e.Y_||(e.Y_=function(e,t,n){const r=cl(e);return r.M_(),new nv(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:()=>Promise.resolve(),No:Iv.bind(null,e),Lo:Pv.bind(null,e),D_:jv.bind(null,e),v_:Av.bind(null,e)}),e.G_.push((async t=>{t?(e.Y_.h_(),await _v(e)):(await e.Y_.stop(),e.K_.length>0&&(rl(av,`Stopping write stream with ${e.K_.length} pending writes`),e.K_=[]))}))),e.Y_}class Mv{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new dl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new Mv(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new hl(ul.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vv(e,t){if(il("AsyncQueue",`${t}: ${e}`),tc(e))return new hl(ul.UNAVAILABLE,`${t}: ${e}`);throw e}class Fv{static emptySet(e){return new Fv(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Dl.comparator(t.key,n.key):(e,t)=>Dl.comparator(e.key,t.key),this.keyedMap=Nd(),this.sortedSet=new Nu(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Fv))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Fv;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Uv{constructor(){this.Z_=new Nu(Dl.comparator)}track(e){const t=e.doc.key,n=this.Z_.get(t);n?0!==e.type&&3===n.type?this.Z_=this.Z_.insert(t,e):3===e.type&&1!==n.type?this.Z_=this.Z_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Z_=this.Z_.remove(t):1===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):ol():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class zv{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new zv(e,t,Fv.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Bv{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some((e=>e.ra()))}}class $v{constructor(){this.queries=Hv(),this.onlineState="Unknown",this.ia=new Set}terminate(){!function(e,t){const n=cl(e),r=n.queries;n.queries=Hv(),r.forEach(((e,n)=>{for(const r of n.ta)r.onError(t)}))}(this,new hl(ul.ABORTED,"Firestore shutting down"))}}function Hv(){return new _d((e=>yd(e)),vd)}async function qv(e,t){const n=cl(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.na()&&t.ra()&&(r=2):(s=new Bv,r=t.ra()?0:1);try{switch(r){case 0:s.ea=await n.onListen(i,!0);break;case 1:s.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Vv(e,`Initialization of query '${bd(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,s),s.ta.push(t),t.sa(n.onlineState),s.ea&&t.oa(s.ea)&&Qv(n)}async function Kv(e,t){const n=cl(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.ta.indexOf(t);e>=0&&(s.ta.splice(e,1),0===s.ta.length?i=t.ra()?0:1:!s.na()&&t.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Wv(e,t){const n=cl(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.ta)e.oa(i)&&(r=!0);t.ea=i}}r&&Qv(n)}function Gv(e,t,n){const r=cl(e),i=r.queries.get(t);if(i)for(const s of i.ta)s.onError(n);r.queries.delete(t)}function Qv(e){e.ia.forEach((e=>{e.next()}))}var Yv,Xv;(Xv=Yv||(Yv={}))._a="default",Xv.Cache="cache";class Jv{constructor(e,t,n){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new zv(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache)return!0;if(!this.ra())return!0;const n="Offline"!==t;return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Pa(e){e=zv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Yv.Cache}}class Zv{constructor(e){this.key=e}}class ey{constructor(e){this.key=e}}class ty{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Od(),this.mutatedKeys=Od(),this.ya=Sd(e),this.wa=new Fv(this.ya)}get ba(){return this.fa}Sa(e,t){const n=t?t.Da:new Uv,r=t?t.wa:this.wa;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=wd(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.va(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.ya(u,o)>0||l&&this.ya(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{wa:s,Da:n,ls:a,mutatedKeys:i}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const s=e.Da.X_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ol()}};return n(e)-n(t)}(e.type,t.type)||this.ya(e.doc,t.doc))),this.Ca(n),r=null!=r&&r;const a=t&&!r?this.Fa():[],o=0===this.pa.size&&this.current&&!r?1:0,l=o!==this.ga;return this.ga=o,0!==s.length||l?{snapshot:new zv(this.query,e.wa,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Uv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach((e=>this.fa=this.fa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.fa=this.fa.delete(e))),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Od(),this.wa.forEach((e=>{this.xa(e.key)&&(this.pa=this.pa.add(e.key))}));const t=[];return e.forEach((e=>{this.pa.has(e)||t.push(new ey(e))})),this.pa.forEach((n=>{e.has(n)||t.push(new Zv(n))})),t}Oa(e){this.fa=e.gs,this.pa=Od();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return zv.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,0===this.ga,this.hasCachedResults)}}const ny="SyncEngine";class ry{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class iy{constructor(e){this.key=e,this.Ba=!1}}class sy{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new _d((e=>yd(e)),vd),this.qa=new Map,this.Qa=new Set,this.$a=new Nu(Dl.comparator),this.Ka=new Map,this.Ua=new tg,this.Wa={},this.Ga=new Map,this.za=Cm.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return!0===this.ja}}async function ay(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Cy(e);let i;const s=r.ka.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await ly(r,t,n,!0),i}async function oy(e,t){const n=Cy(e);await ly(n,t,!0,!1)}async function ly(e,t,n,r){const i=await Pg(e.localStore,fd(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await cy(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&uv(e.remoteStore,i),o}async function cy(e,t,n,r,i){e.Ha=(t,n,r)=>async function(e,t,n,r){let i=t.view.Sa(n);i.ls&&(i=await Dg(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.Sa(n,i)})));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return xy(e,t.targetId,o.Ma),o.snapshot}(e,t,n,r);const s=await Dg(e.localStore,t,!0),a=new ty(t,s.gs),o=a.Sa(s.documents),l=Rf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);xy(e,n,c.Ma);const u=new ry(t,n,a);return e.ka.set(t,u),e.qa.has(n)?e.qa.get(n).push(t):e.qa.set(n,[t]),c.snapshot}async function uy(e,t,n){const r=cl(e),i=r.ka.get(t),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter((e=>!vd(e,t)))),void r.ka.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Rg(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&hv(r.remoteStore,i.targetId),by(r,i.targetId)})).catch(Wl)):(by(r,i.targetId),await Rg(r.localStore,i.targetId,!0))}async function hy(e,t){const n=cl(e),r=n.ka.get(t),i=n.qa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),hv(n.remoteStore,r.targetId))}async function dy(e,t){const n=cl(e);try{const e=await function(e,t){const n=cl(e),r=t.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const a=[];t.targetChanges.forEach(((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Hr.removeMatchingKeys(e,s.removedDocuments,o).next((()=>n.Hr.addMatchingKeys(e,s.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Lu.EMPTY_BYTE_STRING,Nl.min()).withLastLimboFreeSnapshotVersion(Nl.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,s)&&a.push(n.Hr.updateTargetData(e,c))}));let o=Td(),l=Od();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(jg(e,s,t.documentUpdates).next((e=>{o=e.Vs,l=e.fs}))),!r.isEqual(Nl.min())){const t=n.Hr.getLastRemoteSnapshotVersion(e).next((t=>n.Hr.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return Gl.waitFor(a).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.Ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ka.get(t);r&&(ll(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Ba=!0:e.modifiedDocuments.size>0?ll(r.Ba):e.removedDocuments.size>0&&(ll(r.Ba),r.Ba=!1))})),await _y(n,e,t)}catch(e){await Wl(e)}}function fy(e,t,n){const r=cl(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ka.forEach(((n,r)=>{const i=r.view.sa(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=cl(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.ta)i.sa(t)&&(r=!0)})),r&&Qv(n)}(r.eventManager,t),e.length&&r.La.p_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function py(e,t,n){const r=cl(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ka.get(t),s=i&&i.key;if(s){let e=new Nu(Dl.comparator);e=e.insert(s,Nh.newNoDocument(s,Nl.min()));const n=Od().add(s),i=new Pf(Nl.min(),new Map,new Nu(Sl),e,n);await dy(r,i),r.$a=r.$a.remove(s),r.Ka.delete(t),ky(r)}else await Rg(r.localStore,t,!1).then((()=>by(r,t,n))).catch(Wl)}async function my(e,t){const n=cl(e),r=t.batch.batchId;try{const e=await function(e,t){const n=cl(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ds.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=Gl.resolve();return s.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);ll(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Od();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);yy(n,r,null),vy(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _y(n,e)}catch(e){await Wl(e)}}async function gy(e,t,n){const r=cl(e);try{const e=await function(e,t){const n=cl(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(ll(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);yy(r,t,n),vy(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await _y(r,e)}catch(n){await Wl(n)}}function vy(e,t){(e.Ga.get(t)||[]).forEach((e=>{e.resolve()})),e.Ga.delete(t)}function yy(e,t,n){const r=cl(e);let i=r.Wa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Wa[r.currentUser.toKey()]=i}}function by(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.qa.get(t))e.ka.delete(r),n&&e.La.Ja(r,n);e.qa.delete(t),e.isPrimaryClient&&e.Ua.Sr(t).forEach((t=>{e.Ua.containsKey(t)||wy(e,t)}))}function wy(e,t){e.Qa.delete(t.path.canonicalString());const n=e.$a.get(t);null!==n&&(hv(e.remoteStore,n),e.$a=e.$a.remove(t),e.Ka.delete(n),ky(e))}function xy(e,t,n){for(const r of n)r instanceof Zv?(e.Ua.addReference(r.key,t),Sy(e,r)):r instanceof ey?(rl(ny,"Document no longer in limbo: "+r.key),e.Ua.removeReference(r.key,t),e.Ua.containsKey(r.key)||wy(e,r.key)):ol()}function Sy(e,t){const n=t.key,r=n.path.canonicalString();e.$a.get(n)||e.Qa.has(r)||(rl(ny,"New document in limbo: "+n),e.Qa.add(r),ky(e))}function ky(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const n=new Dl(Al.fromString(t)),r=e.za.next();e.Ka.set(r,new iy(n)),e.$a=e.$a.insert(n,r),uv(e.remoteStore,new xp(fd(cd(n.path)),r,"TargetPurposeLimboResolution",cc.ae))}}async function _y(e,t,n){const r=cl(e),i=[],s=[],a=[];r.ka.isEmpty()||(r.ka.forEach(((e,o)=>{a.push(r.Ha(o,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Sg.Yi(o.targetId,e);s.push(t)}})))})),await Promise.all(a),r.La.p_(i),await async function(e,t){const n=cl(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Gl.forEach(t,(t=>Gl.forEach(t.Hi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Gl.forEach(t.Ji,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!tc(e))throw e;rl(Eg,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ts=n.Ts.insert(e,i)}}}(r.localStore,s))}async function Ey(e,t){const n=cl(e);if(!n.currentUser.isEqual(t)){rl(ny,"User change. New user:",t.toKey());const e=await Ng(n.localStore,t);n.currentUser=t,function(e,t){e.Ga.forEach((e=>{e.forEach((e=>{e.reject(new hl(ul.CANCELLED,t))}))})),e.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await _y(n,e.Rs)}}function Ty(e,t){const n=cl(e),r=n.Ka.get(t);if(r&&r.Ba)return Od().add(r.key);{let e=Od();const r=n.qa.get(t);if(!r)return e;for(const t of r){const r=n.ka.get(t);e=e.unionWith(r.view.ba)}return e}}function Cy(e){const t=cl(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=dy.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ty.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=py.bind(null,t),t.La.p_=Wv.bind(null,t.eventManager),t.La.Ja=Gv.bind(null,t.eventManager),t}function Ny(e){const t=cl(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=my.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=gy.bind(null,t),t}class Iy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xg(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return Cg(this.persistence,new _g,e.initialUser,this.serializer)}Xa(e){return new og(cg.ri,this.serializer)}Za(e){return new Mg}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Iy.provider={build:()=>new Iy};class jy extends Iy{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){ll(this.persistence.referenceDelegate instanceof ug);const n=this.persistence.referenceDelegate.garbageCollector;return new Lm(n,e.asyncQueue,t)}Xa(e){const t=void 0!==this.cacheSizeBytes?bm.withCacheSize(this.cacheSizeBytes):bm.DEFAULT;return new og((e=>ug.ri(e,t)),this.serializer)}}class Ay extends Iy{constructor(e,t,n){super(),this.ru=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ru.initialize(this,e),await Ny(this.ru.syncEngine),await _v(this.ru.remoteStore),await this.persistence.Ci((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}eu(e){return Cg(this.persistence,new _g,e.initialUser,this.serializer)}tu(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new Lm(n,e.asyncQueue,t)}nu(e,t){const n=new lc(t,this.persistence);return new oc(e.asyncQueue,n)}Xa(e){const t=xg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?bm.withCacheSize(this.cacheSizeBytes):bm.DEFAULT;return new yg(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Qg(),Yg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Za(e){return new Mg}}class Py{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>fy(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ey.bind(null,this.syncEngine),await Dv(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new $v}createDatastore(e){const t=Xg(e.databaseInfo.databaseId),n=function(e){return new Gg(e)}(e.databaseInfo);return function(e,t,n,r){return new iv(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new ov(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>fy(this.syncEngine,e,0)),Ug.D()?new Ug:new Vg)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new sy(e,t,n,r,i,s);return a&&(o.ja=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=cl(e);rl(av,"RemoteStore shutting down."),t.W_.add(5),await cv(t),t.z_.shutdown(),t.j_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Py.provider={build:()=>new Py};class Ry{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):il("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Dy="FirestoreClient";class Oy{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Zo.UNAUTHENTICATED,this.clientId=xl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{rl(Dy,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(rl(Dy,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new dl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Vv(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Ly(e,t){e.asyncQueue.verifyOperationInProgress(),rl(Dy,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Ng(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function My(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Vy(e);rl(Dy,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Rv(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Rv(t.remoteStore,n))),e._onlineComponents=t}async function Vy(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){rl(Dy,"Using user provided OfflineComponentProvider");try{await Ly(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===ul.FAILED_PRECONDITION||e.code===ul.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;sl("Error using user provided cache. Falling back to memory cache: "+n),await Ly(e,new Iy)}}else rl(Dy,"Using default OfflineComponentProvider"),await Ly(e,new jy(void 0));return e._offlineComponents}async function Fy(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(rl(Dy,"Using user provided OnlineComponentProvider"),await My(e,e._uninitializedComponentsProvider._online)):(rl(Dy,"Using default OnlineComponentProvider"),await My(e,new Py))),e._onlineComponents}function Uy(e){return Fy(e).then((e=>e.syncEngine))}async function zy(e){const t=await Fy(e),n=t.eventManager;return n.onListen=ay.bind(null,t.syncEngine),n.onUnlisten=uy.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=oy.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=hy.bind(null,t.syncEngine),n}function By(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new dl;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Ry({next:o=>{s.su(),t.enqueueAndForget((()=>Kv(e,a)));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new hl(ul.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new hl(ul.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new Jv(cd(n.path),s,{includeMetadataChanges:!0,Ta:!0});return qv(e,a)}(await zy(e),e.asyncQueue,t,n,r))),r.promise}function $y(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new dl;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Ry({next:n=>{s.su(),t.enqueueAndForget((()=>Kv(e,a))),n.fromCache&&"server"===r.source?i.reject(new hl(ul.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new Jv(n,s,{includeMetadataChanges:!0,Ta:!0});return qv(e,a)}(await zy(e),e.asyncQueue,t,n,r))),r.promise}function Hy(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const qy=new Map;function Ky(e,t,n){if(!n)throw new hl(ul.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Wy(e){if(!Dl.isDocumentKey(e))throw new hl(ul.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Gy(e){if(Dl.isDocumentKey(e))throw new hl(ul.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Qy(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":ol()}function Yy(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new hl(ul.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qy(e);throw new hl(ul.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}const Xy="firestore.googleapis.com",Jy=!0;class Zy{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new hl(ul.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Xy,this.ssl=Jy}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Jy;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=ym;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Rm)throw new hl(ul.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new hl(ul.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Hy(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new hl(ul.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new hl(ul.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new hl(ul.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class eb{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new hl(ul.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new hl(ul.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zy(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new pl;switch(e.type){case"firstParty":return new vl(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new hl(ul.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=qy.get(e);t&&(rl("ComponentProvider","Removing Datastore"),qy.delete(e),t.terminate())}(this),Promise.resolve()}}class tb{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new tb(this.firestore,e,this._query)}}class nb{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rb(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nb(this.firestore,e,this._key)}}class rb extends tb{constructor(e,t,n){super(e,t,cd(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nb(this.firestore,null,new Dl(e))}withConverter(e){return new rb(this.firestore,e,this._path)}}function ib(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Fn(e),Ky("collection","path",t),e instanceof eb){const n=Al.fromString(t,...r);return Gy(n),new rb(e,null,n)}{if(!(e instanceof nb||e instanceof rb))throw new hl(ul.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Al.fromString(t,...r));return Gy(n),new rb(e.firestore,null,n)}}function sb(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Fn(e),1===arguments.length&&(t=xl.newId()),Ky("doc","path",t),e instanceof eb){const n=Al.fromString(t,...r);return Wy(n),new nb(e,null,new Dl(n))}{if(!(e instanceof nb||e instanceof rb))throw new hl(ul.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Al.fromString(t,...r));return Wy(n),new nb(e.firestore,e instanceof rb?e.converter:null,new Dl(n))}}const ab="AsyncQueue";class ob{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Jg(this,"async_queue_retry"),this.bu=()=>{const e=Yg();e&&rl(ab,"Visibility state changed to "+e.visibilityState),this.a_.t_()},this.Su=e;const t=Yg();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Yg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise((()=>{}));const t=new dl;return this.vu((()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Vu.push(e),this.Cu())))}async Cu(){if(0!==this.Vu.length){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(Rx){if(!tc(Rx))throw Rx;rl(ab,"Operation failed with retryable error: "+Rx)}this.Vu.length>0&&this.a_.Xo((()=>this.Cu()))}}vu(e){const t=this.Su.then((()=>(this.pu=!0,e().catch((e=>{this.gu=e,this.pu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw il("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.pu=!1,e))))));return this.Su=t,t}enqueueAfterDelay(e,t,n){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const r=Mv.createAndSchedule(this,e,t,n,(e=>this.Fu(e)));return this.fu.push(r),r}Du(){this.gu&&ol()}verifyOperationInProgress(){}async Mu(){let e;do{e=this.Su,await e}while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then((()=>{this.fu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.fu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Mu()}))}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function lb(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class cb extends eb{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new ob,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ob(e),this._firestoreClient=void 0,await e}}}function ub(e){if(e._terminated)throw new hl(ul.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||hb(e),e._firestoreClient}function hb(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Gu(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Hy(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Oy(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class db{constructor(e){this._byteString=e}static fromBase64String(e){try{return new db(Lu.fromBase64String(e))}catch(e){throw new hl(ul.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new db(Lu.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class fb{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new hl(ul.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rl(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class pb{constructor(e){this._methodName=e}}class mb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new hl(ul.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new hl(ul.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Sl(this._lat,e._lat)||Sl(this._long,e._long)}}class gb{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const vb=/^__.*__$/;class yb{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new hf(e,this.data,this.fieldMask,t,this.fieldTransforms):new uf(e,this.data,t,this.fieldTransforms)}}class bb{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new hf(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function wb(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ol()}}class xb{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new xb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.$u(e),r}Ku(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.Bu(),r}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Lb(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(0===e.length)throw this.Wu("Document fields must not be empty");if(wb(this.Lu)&&vb.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Sb{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Xg(e)}ju(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new xb({Lu:e,methodName:t,zu:n,path:Rl.emptyPath(),Qu:!1,Gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kb(e){const t=e._freezeSettings(),n=Xg(e._databaseId);return new Sb(e._databaseId,!!t.ignoreUndefinedProperties,n)}function _b(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.ju(s.merge||s.mergeFields?2:0,t,n,i);Pb("Data must be an object, but it was:",a,r);const o=jb(r,a);let l,c;if(s.merge)l=new Du(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Rb(t,r,n);if(!a.contains(i))throw new hl(ul.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Mb(e,i)||e.push(i)}l=new Du(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new yb(new Th(o),l,c)}class Eb extends pb{_toFieldTransform(e){if(2!==e.Lu)throw 1===e.Lu?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Eb}}function Tb(e,t,n,r){const i=e.ju(1,t,n);Pb("Data must be an object, but it was:",i,r);const s=[],a=Th.empty();Tu(r,((e,r)=>{const o=Ob(t,e,n);r=Fn(r);const l=i.Ku(o);if(r instanceof Eb)s.push(o);else{const e=Ib(r,l);null!=e&&(s.push(o),a.set(o,e))}}));const o=new Du(s);return new bb(a,o,i.fieldTransforms)}function Cb(e,t,n,r,i,s){const a=e.ju(1,t,n),o=[Rb(t,r,n)],l=[i];if(s.length%2!=0)throw new hl(ul.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)o.push(Rb(t,s[d])),l.push(s[d+1]);const c=[],u=Th.empty();for(let d=o.length-1;d>=0;--d)if(!Mb(c,o[d])){const e=o[d];let t=l[d];t=Fn(t);const n=a.Ku(e);if(t instanceof Eb)c.push(e);else{const r=Ib(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new Du(c);return new bb(u,h,a.fieldTransforms)}function Nb(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Ib(n,e.ju(r?4:3,t))}function Ib(e,t){if(Ab(e=Fn(e)))return Pb("Unsupported field value:",t,e),jb(e,t);if(e instanceof pb)return function(e,t){if(!wb(t.Lu))throw t.Wu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Wu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&4!==t.Lu)throw t.Wu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Ib(i,t.Uu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Fn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ud(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Cl.fromDate(e);return{timestampValue:Kf(t.serializer,n)}}if(e instanceof Cl){const n=new Cl(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Kf(t.serializer,n)}}if(e instanceof mb)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof db)return{bytesValue:Wf(t.serializer,e._byteString)};if(e instanceof nb){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Wu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Yf(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof gb)return function(e,t){return{mapValue:{fields:{[Xu]:{stringValue:eh},[th]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Wu("VectorValues must only contain numeric values.");return Vd(t.serializer,e)}))}}}}}}(e,t);throw t.Wu(`Unsupported field value: ${Qy(e)}`)}(e,t)}function jb(e,t){const n={};return Cu(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Tu(e,((e,r)=>{const i=Ib(r,t.qu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Ab(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Cl||e instanceof mb||e instanceof db||e instanceof nb||e instanceof pb||e instanceof gb)}function Pb(e,t,n){if(!Ab(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Qy(n);throw"an object"===r?t.Wu(e+" a custom object"):t.Wu(e+" "+r)}}function Rb(e,t,n){if((t=Fn(t))instanceof fb)return t._internalPath;if("string"==typeof t)return Ob(e,t);throw Lb("Field path arguments must be of type string or ",e,!1,void 0,n)}const Db=new RegExp("[~\\*/\\[\\]]");function Ob(e,t,n){if(t.search(Db)>=0)throw Lb(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new fb(...t.split("."))._internalPath}catch(r){throw Lb(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Lb(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new hl(ul.INVALID_ARGUMENT,o+e+l)}function Mb(e,t){return e.some((e=>e.isEqual(t)))}class Vb{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new nb(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Fb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ub("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Fb extends Vb{data(){return super.data()}}function Ub(e,t){return"string"==typeof t?Ob(e,t):t instanceof fb?t._internalPath:t._delegate._internalPath}function zb(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new hl(ul.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bb{}class $b extends Bb{}function Hb(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof Bb&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof Wb)).length,n=e.filter((e=>e instanceof qb)).length;if(t>1||t>0&&n>0)throw new hl(ul.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class qb extends $b{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new qb(e,t,n)}_apply(e){const t=this._parse(e);return Yb(e._query,t),new tb(e.firestore,e.converter,md(e._query,t))}_parse(e){const t=kb(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new hl(ul.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){Qb(a,s);const t=[];for(const n of a)t.push(Gb(r,e,n));o={arrayValue:{values:t}}}else o=Gb(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Qb(a,s),o=Nb(n,t,a,"in"===s||"not-in"===s);return Oh.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Kb(e,t,n){const r=t,i=Ub("where",e);return qb._create(i,r,n)}class Wb extends Bb{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Wb(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Lh.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Yb(n,i),n=md(n,i)}(e._query,t),new tb(e.firestore,e.converter,md(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Gb(e,t,n){if("string"==typeof(n=Fn(n))){if(""===n)throw new hl(ul.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hd(t)&&-1!==n.indexOf("/"))throw new hl(ul.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Al.fromString(n));if(!Dl.isDocumentKey(r))throw new hl(ul.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return dh(e,new Dl(r))}if(n instanceof nb)return dh(e,n._key);throw new hl(ul.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qy(n)}.`)}function Qb(e,t){if(!Array.isArray(e)||0===e.length)throw new hl(ul.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Yb(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new hl(ul.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new hl(ul.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Xb{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(rh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fu(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Uu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ol()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Tu(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[th].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>Fu(e.doubleValue)));return new gb(i)}convertGeoPoint(e){return new mb(Fu(e.latitude),Fu(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Ku(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Wu(e));default:return null}}convertTimestamp(e){const t=Vu(e);return new Cl(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Al.fromString(e);ll(wp(n));const r=new Yu(n.get(1),n.get(3)),i=new Dl(n.popFirst(5));return r.isEqual(t)||il(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function Jb(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Zb{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ew extends Vb{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new tw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Ub("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class tw extends ew{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class nw{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Zb(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new tw(this._firestore,this._userDataWriter,n.key,n,new Zb(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new hl(ul.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new tw(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Zb(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new tw(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Zb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:rw(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function rw(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ol()}}class iw extends Xb{constructor(e){super(),this.firestore=e}convertBytes(e){return new db(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new nb(this.firestore,null,t)}}function sw(e){e=Yy(e,tb);const t=Yy(e.firestore,cb),n=ub(t),r=new iw(t);return zb(e._query),$y(n,e._query).then((n=>new nw(t,r,e,n)))}function aw(e,t,n){e=Yy(e,nb);const r=Yy(e.firestore,cb),i=Jb(e.converter,t,n);return cw(r,[_b(kb(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,tf.none())])}function ow(e,t,n){e=Yy(e,nb);const r=Yy(e.firestore,cb),i=kb(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=Fn(t))||t instanceof fb?Cb(i,"updateDoc",e._key,t,n,o):Tb(i,"updateDoc",e._key,t),cw(r,[s.toMutation(e._key,tf.exists(!0))])}function lw(e,t){const n=Yy(e.firestore,cb),r=sb(e),i=Jb(e.converter,t);return cw(n,[_b(kb(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,tf.exists(!1))]).then((()=>r))}function cw(e,t){return function(e,t){const n=new dl;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Ny(e);try{const e=await function(e,t){const n=cl(e),r=Cl.now(),i=t.reduce(((e,t)=>e.add(t.key)),Od());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=Td(),l=Od();return n.ds.getEntries(e,i).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((i=>{s=i;const a=[];for(const e of t){const t=lf(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new hf(e.key,t,Ch(t.value.mapValue),tf.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:Id(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Wa[e.currentUser.toKey()];r||(r=new Nu(Sl)),r=r.insert(t,n),e.Wa[e.currentUser.toKey()]=r}(r,e.batchId,n),await _y(r,e.changes),await _v(r.remoteStore)}catch(e){const t=Vv(e,"Failed to persist write");n.reject(t)}}(await Uy(e),t,n))),n.promise}(ub(e),t)}function uw(e,t,n){const r=n.docs.get(t._key),i=new iw(e);return new ew(e,i,t._key,r,new Zb(n.hasPendingWrites,n.fromCache),t.converter)}class hw{constructor(e){let t;this.kind="persistent",(null==e?void 0:e.tabManager)?(e.tabManager._initialize(e),t=e.tabManager):(t=function(e){return new dw(null==e?void 0:e.forceOwnership)}(void 0),t._initialize(e)),this._onlineComponentProvider=t._onlineComponentProvider,this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}}class dw{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=Py.provider,this._offlineComponentProvider={build:t=>new Ay(t,null==e?void 0:e.cacheSizeBytes,this.forceOwnership)}}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){el=e}(ei),Qr(new Un("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new cb(new ml(e.getProvider("auth-internal")),new bl(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new hl(ul.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yu(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),ri(Xo,Jo,e),ri(Xo,Jo,"esm2017")}();const fw="firebasestorage.googleapis.com",pw="storageBucket";class mw extends In{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(yw(e),`Firebase Storage: ${t} (${yw(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mw.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return yw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var gw,vw;function yw(e){return"storage/"+e}function bw(){return new mw(gw.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function ww(){return new mw(gw.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function xw(){return new mw(gw.CANCELED,"User canceled the upload/download.")}function Sw(){return new mw(gw.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function kw(e){return new mw(gw.INVALID_ARGUMENT,e)}function _w(){return new mw(gw.APP_DELETED,"The Firebase app was deleted.")}function Ew(e,t){return new mw(gw.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Tw(e){throw new mw(gw.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(gw||(gw={}));class Cw{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Cw.makeFromUrl(e,t)}catch(Rx){return new Cw(e,"")}if(""===n.path)return n;throw r=e,new mw(gw.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${a}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp(`^https?://${t===fw?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new Cw(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new mw(gw.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Nw{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function Iw(e){return"string"===typeof e||e instanceof String}function jw(e){return Aw()&&e instanceof Blob}function Aw(){return"undefined"!==typeof Blob}function Pw(e,t,n,r){if(r<t)throw kw(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw kw(`Invalid value for '${e}'. Expected ${n} or less.`)}function Rw(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function Dw(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function Ow(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(vw||(vw={}));class Lw{constructor(e,t,n,r,i,s,a,o,l,c,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new Mw(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===vw.NO_ERROR,i=n.getStatus();if(!t||Ow(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===vw.ABORT;return void e(!1,new Mw(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new Mw(s,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(Rx){r(Rx)}else if(null!==i){const e=bw();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?_w():xw())}else{r(ww())}};this.canceled_?t(0,new Mw(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function d(){s&&clearTimeout(s)}function f(e){if(c)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void u.call(null,e,...n);if(l()||a)return d(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===o?(o=2,s=0):s=1e3*(r+Math.random()),h(s)}let p=!1;function m(e){p||(p=!0,d(),c||(null!==i?(e||(o=2),clearTimeout(i),h(0)):e||(o=1)))}return h(0),s=setTimeout((()=>{a=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Mw{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Vw(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Fw(){const e=Vw();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(Aw())return new Blob(n);throw new mw(gw.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function Uw(e){if("undefined"===typeof atob)throw t="base-64",new mw(gw.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`);var t;return atob(e)}const zw="raw",Bw="base64",$w="base64url",Hw="data_url";class qw{constructor(e,t){this.data=e,this.contentType=t||null}}function Kw(e,t){switch(e){case zw:return new qw(Ww(t));case Bw:case $w:return new qw(Gw(e,t));case Hw:return new qw(function(e){const t=new Qw(e);return t.base64?Gw(Bw,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(Rx){throw Ew(Hw,"Malformed data URL.")}return Ww(t)}(t.rest)}(t),new Qw(t).contentType)}throw bw()}function Ww(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Gw(e,t){switch(e){case Bw:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw Ew(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case $w:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw Ew(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Uw(t)}catch(Rx){if(Rx.message.includes("polyfill"))throw Rx;throw Ew(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Qw{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Ew(Hw,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class Yw{constructor(e,t){let n=0,r="";jw(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(jw(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new Yw(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Yw(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Aw()){const e=t.map((e=>e instanceof Yw?e.data_:e));return new Yw(Fw.apply(null,e))}{const e=t.map((e=>Iw(e)?Kw(zw,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new Yw(r,!0)}}uploadData(){return this.data_}}function Xw(e){let t;try{t=JSON.parse(e)}catch(Rx){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Jw(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Zw(e,t){return t}class ex{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Zw}}let tx=null;function nx(){if(tx)return tx;const e=[];e.push(new ex("bucket")),e.push(new ex("generation")),e.push(new ex("metageneration")),e.push(new ex("name","fullPath",!0));const t=new ex("name");t.xform=function(e,t){return function(e){return!Iw(e)||e.length<2?e:Jw(e)}(t)},e.push(t);const n=new ex("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new ex("timeCreated")),e.push(new ex("updated")),e.push(new ex("md5Hash",null,!0)),e.push(new ex("cacheControl",null,!0)),e.push(new ex("contentDisposition",null,!0)),e.push(new ex("contentEncoding",null,!0)),e.push(new ex("contentLanguage",null,!0)),e.push(new ex("contentType",null,!0)),e.push(new ex("metadata","customMetadata",!0)),tx=e,tx}function rx(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new Cw(n,r);return t._makeStorageReference(i)}})}(r,e),r}function ix(e,t,n){const r=Xw(t);if(null===r)return null;return rx(e,r,n)}function sx(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class ax{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ox(e){if(!e)throw bw()}function lx(e,t){return function(n,r){const i=ix(e,r,t);return ox(null!==i),i}}function cx(e,t){return function(n,r){const i=ix(e,r,t);return ox(null!==i),function(e,t,n,r){const i=Xw(t);if(null===i)return null;if(!Iw(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const a=encodeURIComponent;return s.split(",").map((t=>{const i=e.bucket,s=e.fullPath;return Rw("/b/"+a(i)+"/o/"+a(s),n,r)+Dw({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function ux(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new mw(gw.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new mw(gw.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new mw(gw.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new mw(gw.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function hx(e){const t=ux(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new mw(gw.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function dx(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function fx(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};const o=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+o;const l=dx(t,r,i),c="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+sx(l,n)+"\r\n--"+o+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+o+"--",h=Yw.getBlob(c,r,u);if(null===h)throw Sw();const d={name:l.fullPath},f=Rw(s,e.host,e._protocol),p=e.maxUploadRetryTime,m=new ax(f,"POST",lx(e,n),p);return m.urlParams=d,m.headers=a,m.body=h.uploadData(),m.errorHandler=ux(t),m}class px{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=vw.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=vw.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=vw.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw Tw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Tw("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Tw("cannot .getStatus() before sending");try{return this.xhr_.status}catch(Rx){return-1}}getResponse(){if(!this.sent_)throw Tw("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Tw("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class mx extends px{initXhr(){this.xhr_.responseType="text"}}function gx(){return new mx}class vx{constructor(e,t){this._service=e,this._location=t instanceof Cw?t:Cw.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new vx(e,t)}get root(){const e=new Cw(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Jw(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Cw(this._location.bucket,e);return new vx(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new mw(gw.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function yx(e,t,n){e._throwIfRoot("uploadBytes");const r=fx(e.storage,e._location,nx(),new Yw(t,!0),n);return e.storage.makeRequestWithTokens(r,gx).then((t=>({metadata:t,ref:e})))}function bx(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=Rw(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new ax(r,"GET",cx(e,n),i);return s.errorHandler=hx(t),s}(e.storage,e._location,nx());return e.storage.makeRequestWithTokens(t,gx).then((e=>{if(null===e)throw new mw(gw.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function wx(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Cw(e._location.bucket,n);return new vx(e.storage,r)}function xx(e,t){if(e instanceof Ex){const n=e;if(null==n._bucket)throw new mw(gw.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+pw+"' property when initializing the app?");const r=new vx(n,n._bucket);return null!=t?xx(r,t):r}return void 0!==t?wx(e,t):e}function Sx(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Ex)return new vx(e,t);throw kw("To use ref(service, url), the first argument must be a Storage instance.")}return xx(e,t)}function kx(e,t){const n=null===t||void 0===t?void 0:t[pw];return null==n?null:Cw.makeFromBucketSpec(n,e)}function _x(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[yn(JSON.stringify({alg:"none",type:"JWT"})),yn(JSON.stringify(s)),""].join(".")}(i,e.app.options.projectId))}class Ex{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=fw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Cw.makeFromBucketSpec(r,this._host):kx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Cw.makeFromBucketSpec(this._url,e):this._bucket=kx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Pw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Pw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if(Xr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new vx(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Nw(_w());{const s=function(e,t,n,r,i,s){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const o=Dw(e.urlParams),l=e.url+o,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new Lw(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Tx="@firebase/storage",Cx="0.13.7",Nx="storage";function Ix(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new Ex(r,i,s,n,ei)}Qr(new Un(Nx,Ix,"PUBLIC").setMultipleInstances(!0)),ri(Tx,Cx,""),ri(Tx,Cx,"esm2017");const jx=ti({apiKey:"AIzaSyAz8ySbJhiwwaKjEoptC1Ouv_o_TV8Y21U",authDomain:"e-service-82a5c.firebaseapp.com",databaseURL:"https://e-service-82a5c-default-rtdb.firebaseio.com",projectId:"e-service-82a5c",storageBucket:"e-service-82a5c.firebasestorage.app",messagingSenderId:"833159150238",appId:"1:833159150238:web:7a9f8cdb4dc62cdc59198f",measurementId:"G-RY54C8YHNX"}),Ax=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ni();const t=Yr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Yr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Pn(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;wi(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Io,persistence:[Va,xa,ka]}),r=_n("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Ro)return;const r=null===t||void 0===t?void 0:t.token;Do!==r&&(Do=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){Fn(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){Fn(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const s=Sn("auth");return s&&zs(n,`http://${s}`),n}(jx),Px=function(e,t,n){n||(n=Qu);const r=Yr(e,"firestore");if(r.isInitialized(n)){const e=r.getImmediate({identifier:n});if(Pn(r.getOptions(n),t))return e;throw new hl(ul.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(void 0!==t.cacheSizeBytes&&void 0!==t.localCache)throw new hl(ul.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(void 0!==t.cacheSizeBytes&&-1!==t.cacheSizeBytes&&t.cacheSizeBytes<Rm)throw new hl(ul.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:t,instanceIdentifier:n})}(jx,{localCache:new hw(Rx)});var Rx;const Dx=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ni(),t=arguments.length>1?arguments[1]:void 0;e=Fn(e);const n=Yr(e,Nx).getImmediate({identifier:t}),r=(e=>{const t=Sn(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};_x(e,t,n,r)}(n,...r),n}(jx);var Ox=n(579);const Lx=()=>{const[t,n]=(0,e.useState)(!1),[r,i]=(0,e.useState)(!1),[s,a]=(0,e.useState)(!1),[o,l]=(0,e.useState)(!1),c=J();(0,e.useEffect)((()=>{const e=Ax.onAuthStateChanged((e=>{e?(l(!0),"99220041116@klu.ac.in"===e.email?(a(!0),document.querySelector(".navbar").classList.add("admin-mode")):(a(!1),document.querySelector(".navbar").classList.remove("admin-mode"))):(l(!1),a(!1),document.querySelector(".navbar").classList.remove("admin-mode"))}));return()=>e()}),[]);const u=()=>n(!t);return(0,Ox.jsxs)("nav",{className:"navbar",children:[(0,Ox.jsx)("div",{className:"logo",children:(0,Ox.jsx)(Je,{to:"/Home",children:"MyStore"})}),(0,Ox.jsx)("div",{className:"mobile-menu-icon",onClick:()=>i(!r),children:r?(0,Ox.jsx)(on,{}):(0,Ox.jsx)(vt,{})}),(0,Ox.jsxs)("ul",{className:"nav-links "+(r?"active":""),children:[(0,Ox.jsxs)("li",{className:"search-bar",children:[(0,Ox.jsx)(Xt,{className:"search-icon"}),(0,Ox.jsx)("input",{type:"text",placeholder:"Search for products or brands"})]}),o?(0,Ox.jsxs)("li",{className:"dropdown",children:[(0,Ox.jsxs)("div",{className:"nav-link",onClick:u,style:{cursor:"pointer"},children:[(0,Ox.jsx)(fn,{})," My Account"]}),t&&(0,Ox.jsxs)("ul",{className:"dropdown-menu",children:[(0,Ox.jsx)("li",{children:(0,Ox.jsxs)(Je,{to:"/profile",children:[(0,Ox.jsx)(fn,{})," My Profile"]})}),(0,Ox.jsx)("li",{children:(0,Ox.jsxs)(Je,{to:"/orders",children:[(0,Ox.jsx)(bt,{})," Orders"]})}),(0,Ox.jsx)("li",{children:(0,Ox.jsxs)(Je,{to:"/wishlist",children:[(0,Ox.jsx)(Lt,{})," Wishlist"]})}),(0,Ox.jsx)("li",{className:"divider"}),(0,Ox.jsx)("li",{children:(0,Ox.jsxs)("button",{onClick:async()=>{try{await Ax.signOut(),l(!1),n(!1),c("/signup/Login")}catch(e){console.error("Error signing out:",e)}},className:"logout-button",children:[(0,Ox.jsx)(tn,{})," Logout"]})})]})]}):(0,Ox.jsxs)("li",{className:"dropdown",children:[(0,Ox.jsxs)("div",{className:"nav-link",onClick:u,style:{cursor:"pointer"},children:[(0,Ox.jsx)(en,{})," Login"]}),t&&(0,Ox.jsxs)("ul",{className:"dropdown-menu",children:[(0,Ox.jsxs)("li",{className:"signup-option",children:[(0,Ox.jsx)("span",{children:"New User?"}),(0,Ox.jsxs)(Je,{to:"/signup/Login",onClick:()=>n(!1),children:[(0,Ox.jsx)(Qt,{})," Sign Up"]})]}),(0,Ox.jsx)("li",{className:"divider"}),(0,Ox.jsx)("li",{children:(0,Ox.jsxs)(Je,{to:"/profile",onClick:()=>n(!1),children:[(0,Ox.jsx)(fn,{})," My Profile"]})}),(0,Ox.jsx)("li",{children:(0,Ox.jsxs)(Je,{to:"/e-service",onClick:()=>n(!1),children:[(0,Ox.jsx)(cn,{})," E-Service Plus Zone"]})}),(0,Ox.jsx)("li",{children:(0,Ox.jsxs)(Je,{to:"/orders",onClick:()=>n(!1),children:[(0,Ox.jsx)(bt,{})," Orders"]})}),(0,Ox.jsx)("li",{children:(0,Ox.jsxs)(Je,{to:"/wishlist",onClick:()=>n(!1),children:[(0,Ox.jsx)(Lt,{})," Wishlist"]})}),(0,Ox.jsx)("li",{children:(0,Ox.jsxs)(Je,{to:"/rewards",onClick:()=>n(!1),children:[(0,Ox.jsx)(Rt,{})," Rewards"]})}),(0,Ox.jsx)("li",{children:(0,Ox.jsxs)(Je,{to:"/gift-cards",onClick:()=>n(!1),children:[(0,Ox.jsx)(Rt,{})," Gift Cards"]})})]})]}),(0,Ox.jsx)("li",{children:(0,Ox.jsxs)(Je,{to:"/repair-services",className:"nav-link",children:[(0,Ox.jsx)(cn,{})," Services"]})}),!s&&(0,Ox.jsxs)(Ox.Fragment,{children:[(0,Ox.jsx)("li",{className:"cart-link",children:(0,Ox.jsxs)(Je,{to:"/cart",className:"nav-link",children:[(0,Ox.jsx)(Zt,{})," Cart ",(0,Ox.jsx)("span",{className:"cart-badge",children:"3"})]})}),(0,Ox.jsx)("li",{className:"service-agent-link",children:(0,Ox.jsxs)(Je,{to:"/service-agent-registration",className:"nav-link",children:[(0,Ox.jsx)(Vt,{})," Be ServiceAgent"]})})]}),s&&(0,Ox.jsx)("li",{children:(0,Ox.jsxs)(Je,{to:"/admin",className:"nav-link admin-link",children:[(0,Ox.jsx)(fn,{})," Admin"]})})]})]})},Mx=()=>{const t=J(),n=[{id:1,image:"https://i1.wp.com/www.infiniticomputerrepair.co.uk/wp-content/uploads/2015/07/IMG_00952.jpg"},{id:2,image:"https://images.samsung.com/is/image/samsung/assets/ph/720x450-Right-Care-Deal-Hero.jpg?$FB_TYPE_B_JPG$"},{id:3,image:"https://cdn.grabon.in/gograbon/images/web-images/uploads/1621488513434/today-electronics-offers.jpg"},{id:4,image:"https://cdn.create.vista.com/downloads/ab5459cd-ea50-4be2-91bf-cd7df49a45a9_1024.jpeg"}],[r,i]=(0,e.useState)(0),[s,a]=(0,e.useState)(null);(0,e.useEffect)((()=>{const e=setInterval((()=>{i((e=>(e+1)%n.length))}),3e3);return()=>clearInterval(e)}),[n.length]);const o=()=>{a(null)};return(0,Ox.jsxs)("div",{className:"home-container",children:[(0,Ox.jsx)("div",{className:"appliances-single-container",children:[{id:1,name:"Mobile",image:"https://tse2.mm.bing.net/th?id=OIP.0H_GXDBmj8t95s1KzMU5GAHaL5&pid=Api&P=0&h=180",brands:["Samsung","Apple","OnePlus","Xiaomi","Oppo"]},{id:2,name:"AC",image:"https://os-wordpress-media.s3.ap-south-1.amazonaws.com/blog/wp-content/uploads/2020/11/24212247/Air-Conditioner-Buying-Guide.jpg",brands:["LG","Samsung","Voltas","Daikin","Hitachi"]},{id:3,name:"TV",image:"https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6470/6470245cv12d.jpg",brands:["Sony","Samsung","LG","Panasonic","TCL"]},{id:4,name:"Refrigerator",image:"https://fouanistore.com/storage/data/products_gallery/62fcabd092a9d.png",brands:["Whirlpool","LG","Samsung","Haier","Godrej"]},{id:5,name:"Washing Machine",image:"https://www.lg.com/in/images/washing-machines/md07540887/gallery/FHM1408BDL-Washing-Machines-Right-View-MZ-04-v1.jpg",brands:["LG","Samsung","Whirlpool","Bosch","IFB"]},{id:6,name:"Microwave",image:"https://pisces.bbystatic.com/image2/BestBuy_US/images/products/3546/3546009cv13d.jpg",brands:["Samsung","LG","IFB","Whirlpool","Panasonic"]},{id:7,name:"Agriculture Appliances",image:"https://5.imimg.com/data5/SELLER/Default/2023/12/367332276/YQ/JX/PO/9604282/cri-submersible-pumps-500x500.jpeg",brands:["Mahindra","John Deere","Kubota","Tafe","Escorts"]}].map((e=>(0,Ox.jsxs)("div",{className:"appliance-item",onMouseLeave:o,children:[(0,Ox.jsxs)("div",{className:"appliance-header "+(s===e.id?"open":""),onClick:()=>(e=>{a(s===e?null:e)})(e.id),children:[(0,Ox.jsx)("img",{src:e.image,alt:e.name}),(0,Ox.jsxs)("p",{children:[e.name," ",(0,Ox.jsx)("span",{className:"dropdown-icon",children:"\u25bc"})]})]}),s===e.id&&(0,Ox.jsx)("div",{className:"brands-dropdown",children:e.brands.map(((n,r)=>(0,Ox.jsx)("div",{className:"brand-item",onClick:()=>((e,n)=>{t("/products",{state:{category:e,brand:n}})})(e.name,n),children:n},r)))})]},e.id)))}),(0,Ox.jsxs)("div",{className:"banner-container",children:[(0,Ox.jsx)("div",{className:"banner-slider",style:{transform:`translateX(-${100*r}%)`},children:n.map((e=>(0,Ox.jsx)("div",{className:"banner-slide",children:(0,Ox.jsx)("img",{src:e.image,alt:`Banner ${e.id}`})},e.id)))}),(0,Ox.jsx)("div",{className:"banner-dots",children:n.map(((e,t)=>(0,Ox.jsx)("span",{className:"dot "+(t===r?"active":""),onClick:()=>i(t)},t)))})]})]})},Vx=["https://img.freepik.com/free-vector/illustrated-people-renovating-living-room_23-2148677770.jpg?t=st=1740929434~exp=1740933034~hmac=181a0eafff23ec28d6528d995b9443b10a1eda90c620e9d10d7ec9af47772249&w=1800","https://img.freepik.com/free-photo/professional-male-manual-worker-wearing-protective-eyewear-head-mask-gloves-holding-drilling-machine-fixing-something-his-colleague-female-with-dirty-face-having-happy-expression_273609-7940.jpg?t=st=1740926983~exp=1740930583~hmac=10349d7ddb4f0ada2cc374d9e6466616ba9bb8375507770b37f6efbaf9b27d27&w=1800","https://img.freepik.com/premium-photo/home-appliance-with-ribbons-discounts_252025-696.jpg?w=1480"],Fx=()=>{const[t,n]=(0,e.useState)(0);return(0,e.useEffect)((()=>{const e=setInterval((()=>{n((e=>(e+1)%Vx.length))}),5e3);return()=>clearInterval(e)}),[]),(0,Ox.jsx)("div",{className:"image-slider",children:Vx.map(((e,n)=>(0,Ox.jsx)("img",{src:e,alt:`Slide ${n+1}`,className:n===t?"active":""},n)))})};function Ux(e){return mt({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r\n\tc0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r\n\tc0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r\n\tC34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r\n\tc-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"},child:[]},{tag:"path",attr:{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r\n\tc0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"},child:[]}]})(e)}const zx=()=>{const[t,n]=(0,e.useState)(!1),[r,i]=(0,e.useState)(""),[s,a]=(0,e.useState)(""),[o,l]=(0,e.useState)(""),[c,u]=(0,e.useState)(""),[h,d]=(0,e.useState)(""),[f,p]=(0,e.useState)("US"),[m,g]=(0,e.useState)(""),v=J();return(0,Ox.jsxs)("div",{className:"login-signup-container",children:[(0,Ox.jsxs)("div",{className:"login-details",children:[(0,Ox.jsx)("h1",{children:t?"Create an Account":"Welcome Back!"}),(0,Ox.jsx)("p",{children:t?"Sign up to get started":"Login or Signup to continue"}),(0,Ox.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),t){if(s.length<6)return void g("Password must be at least 6 characters long.");if(s!==o)return void g("Passwords do not match.");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r))return void g("Please enter a valid email address.");try{await async function(e,t,n){if(Xr(e.app))return Promise.reject(ki(e));const r=Is(e),i=Fs(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",oa,"EMAIL_PASSWORD_PROVIDER"),s=await i.catch((t=>{throw"auth/password-does-not-meet-requirements"===t.code&&ga(e),t})),a=await la._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}(Ax,r,s),alert("Account created successfully!"),v("/Home")}catch(m){g(m.message)}}else try{await function(e,t,n){return Xr(e.app)?Promise.reject(ki(e)):ma(Fn(e),ea.credential(t,n)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&ga(e),t}))}(Ax,r,s),alert("Logged in successfully!"),v("/Home")}catch(m){g(m.message)}},children:[t&&(0,Ox.jsxs)("div",{className:"input-group",children:[(0,Ox.jsx)(fn,{className:"input-icon"}),(0,Ox.jsx)("input",{type:"text",placeholder:"Enter Name",value:c,onChange:e=>u(e.target.value),required:!0})]}),(0,Ox.jsxs)("div",{className:"input-group",children:[(0,Ox.jsx)(It,{className:"input-icon"}),(0,Ox.jsx)("input",{type:"email",placeholder:"Enter Email",value:r,onChange:e=>i(e.target.value),required:!0})]}),t&&(0,Ox.jsxs)("div",{className:"input-group",children:[(0,Ox.jsxs)("div",{className:"country-code",children:[(0,Ox.jsx)(Dt,{className:"input-icon"}),(0,Ox.jsxs)("select",{value:f,onChange:e=>p(e.target.value),children:[(0,Ox.jsx)("option",{value:"US",children:"US (+1)"}),(0,Ox.jsx)("option",{value:"IN",children:"IN (+91)"}),(0,Ox.jsx)("option",{value:"GB",children:"GB (+44)"})]})]}),(0,Ox.jsx)(Wt,{className:"input-icon"}),(0,Ox.jsx)("input",{type:"text",placeholder:"Enter Phone Number",value:h,onChange:e=>d(e.target.value),required:!0})]}),(0,Ox.jsxs)("div",{className:"input-group",children:[(0,Ox.jsx)(zt,{className:"input-icon"}),(0,Ox.jsx)("input",{type:"password",placeholder:"Enter Password",value:s,onChange:e=>a(e.target.value),required:!0})]}),t&&(0,Ox.jsxs)("div",{className:"input-group",children:[(0,Ox.jsx)(zt,{className:"input-icon"}),(0,Ox.jsx)("input",{type:"password",placeholder:"Re-enter Password",value:o,onChange:e=>l(e.target.value),required:!0})]}),(0,Ox.jsx)("button",{type:"submit",children:t?"Sign Up":"Login"}),m&&(0,Ox.jsx)("p",{className:"error",children:m})]}),(0,Ox.jsx)("div",{className:"or-divider",children:"OR"}),(0,Ox.jsxs)("button",{className:"google-login-button",onClick:async()=>{try{const e=new ia;await async function(e,t,n){if(Xr(e.app))return Promise.reject(xi(e,"operation-not-supported-in-this-environment"));const r=Is(e);_i(e,t,ta);const i=Ha(r,n);return new Xa(r,"signInViaPopup",t,i).executeNotNull()}(Ax,e),alert("Logged in with Google successfully!"),v("/Home")}catch(m){g(m.message)}},children:[(0,Ox.jsx)(Ux,{className:"google-icon"})," ",t?"Sign up with Google":"Login with Google"]}),(0,Ox.jsx)("p",{className:"toggle-link",children:t?(0,Ox.jsxs)(Ox.Fragment,{children:["Already have an account?"," ",(0,Ox.jsx)("span",{onClick:()=>n(!1),children:"Login here"})]}):(0,Ox.jsxs)(Ox.Fragment,{children:["New user?"," ",(0,Ox.jsx)("span",{onClick:()=>n(!0),children:"Sign up here"})]})})]}),(0,Ox.jsx)("div",{className:"image-section",children:(0,Ox.jsx)(Fx,{})})]})},Bx=()=>{var t,n,r,i,s,a,o;const l=(null===(t=Q().state)||void 0===t?void 0:t.product)||{},[c,u]=(0,e.useState)((null===l||void 0===l||null===(n=l.images)||void 0===n?void 0:n[0])||""),[h,d]=(0,e.useState)(!1);if(!l||0===Object.keys(l).length)return(0,Ox.jsx)("div",{children:"Product not found or loading..."});return(0,Ox.jsxs)("div",{className:"product-detail-container",children:[(0,Ox.jsxs)("div",{className:"image-gallery",children:[(0,Ox.jsx)("div",{className:"main-media",children:h?(0,Ox.jsx)("iframe",{src:c.replace("watch?v=","embed/"),title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):(0,Ox.jsx)("img",{src:c,alt:l.name})}),(0,Ox.jsxs)("div",{className:"thumbnail-list",children:[null===(r=l.images)||void 0===r?void 0:r.map(((e,t)=>(0,Ox.jsx)("img",{src:e,alt:`${l.name} ${t+1}`,className:"thumbnail "+(c===e?"active":""),onClick:()=>(e=>{u(e),d(!1)})(e)},t))),l.youtubeVideo&&(0,Ox.jsx)("div",{className:"thumbnail "+(h?"active":""),onClick:()=>{u(l.youtubeVideo),d(!0)},children:(0,Ox.jsx)("img",{src:"https://img.icons8.com/color/48/000000/youtube-play.png",alt:"YouTube Video"})})]}),(0,Ox.jsxs)("div",{className:"action-buttons",children:[(0,Ox.jsx)("button",{className:"add-to-cart",children:"Add to Cart"}),(0,Ox.jsx)("button",{className:"order-now",children:"Order Now"})]})]}),(0,Ox.jsxs)("div",{className:"product-details",children:[(0,Ox.jsx)("h1",{children:l.name||"Product Name Not Available"}),(0,Ox.jsxs)("div",{className:"rating-section",children:[(0,Ox.jsx)("span",{className:"rating",children:"4.2606 \u2605"}),(0,Ox.jsx)("span",{className:"reviews",children:"4.2606 Ratings & 55 Reviews"})]}),(0,Ox.jsxs)("div",{className:"price-section",children:[(0,Ox.jsx)("h2",{children:"\u20b93,333/month"}),(0,Ox.jsx)("p",{children:"3 months No Cost EMI Plan with Bajaj Finserv"}),(0,Ox.jsx)("p",{className:"discount",children:"Extra \u20b94000 off"}),(0,Ox.jsxs)("div",{className:"price",children:[(0,Ox.jsx)("span",{className:"current-price",children:"\u20b99,999"}),(0,Ox.jsx)("span",{className:"original-price",children:"\u20b913,999"}),(0,Ox.jsx)("span",{className:"discount-percent",children:"28% off"})]})]}),(0,Ox.jsxs)("div",{className:"offers-section",children:[(0,Ox.jsx)("h3",{children:"Available offers"}),(0,Ox.jsxs)("ul",{children:[(0,Ox.jsxs)("li",{children:[(0,Ox.jsx)("span",{className:"icon",children:"\ud83c\udfe6"}),(0,Ox.jsx)("span",{children:"Bank Offer 5% Unlimited Cashback on Flipkart Axis Bank Credit Card T&C"})]}),(0,Ox.jsxs)("li",{children:[(0,Ox.jsx)("span",{className:"icon",children:"\ud83c\udf89"}),(0,Ox.jsx)("span",{children:"Special Price Get extra \u20b94000 off (price inclusive of cashback/coupon) T&C"})]}),(0,Ox.jsxs)("li",{children:[(0,Ox.jsx)("span",{className:"icon",children:"\ud83d\udcb3"}),(0,Ox.jsx)("span",{children:"No cost EMI \u20b93,333/month. Standard EMI also available View Plans"})]}),(0,Ox.jsxs)("li",{children:[(0,Ox.jsx)("span",{className:"icon",children:"\ud83d\uded2"}),(0,Ox.jsx)("span",{children:"Buy More, Save More Buy worth \u20b95000 save \u20b9500 See all products T&C"})]})]})]}),(0,Ox.jsxs)("div",{className:"warranty-section",children:[(0,Ox.jsx)("img",{src:"https://tse4.mm.bing.net/th?id=OIP.lVAQglzLlNbBFiYOUrzmCwHaCc&pid=Api&P=0&h=180",alt:"Product Logo",className:"product-logo"}),(0,Ox.jsx)("p",{children:"1 Year Manufacturer Warranty for Device and 6 Months for In-Box Accessories"})]}),(0,Ox.jsxs)("div",{className:"color-ram-section",children:[(0,Ox.jsxs)("div",{className:"color-section",children:[(0,Ox.jsx)("h4",{children:"Color"}),(0,Ox.jsx)("div",{className:"color-images",children:null===(i=l.colorImages)||void 0===i?void 0:i.map(((e,t)=>(0,Ox.jsx)("img",{src:e,alt:`Color ${t+1}`},t)))})]}),(0,Ox.jsxs)("div",{className:"ram-section",children:[(0,Ox.jsx)("h4",{children:"RAM"}),(0,Ox.jsxs)("div",{className:"ram-buttons",children:[(0,Ox.jsx)("button",{children:"4 GB"}),(0,Ox.jsx)("button",{children:"6 GB"}),(0,Ox.jsx)("button",{children:"8 GB"})]})]})]}),(0,Ox.jsxs)("div",{className:"highlights-section",children:[(0,Ox.jsx)("h3",{children:"Highlights"}),(0,Ox.jsx)("ul",{children:null===(s=l.highlights)||void 0===s?void 0:s.map(((e,t)=>(0,Ox.jsx)("li",{children:e},t)))})]}),(0,Ox.jsxs)("div",{className:"protection-section",children:[(0,Ox.jsx)("h3",{children:"Protect your product"}),(0,Ox.jsxs)("div",{className:"protection-option",children:[(0,Ox.jsx)("input",{type:"checkbox",id:"protection"}),(0,Ox.jsxs)("label",{htmlFor:"protection",children:[(0,Ox.jsx)("img",{src:l.protectionImage,alt:"Protection"}),(0,Ox.jsxs)("div",{children:[(0,Ox.jsx)("h4",{children:"Complete Mobile Protection Powered By OneAssist"}),(0,Ox.jsx)("p",{children:"Get brand authorised repairs for all phone damages with free pickup and drop. If we can't repair it, we will replace it!"}),(0,Ox.jsx)("button",{onClick:()=>alert("Know More clicked"),children:"Know More"}),(0,Ox.jsx)("p",{children:"Enjoy complete peace of mind for your new mobile!"}),(0,Ox.jsxs)("p",{className:"protection-price",children:["\u20b9399 ",(0,Ox.jsx)("span",{className:"original-price",children:"\u20b9599"})," ",(0,Ox.jsx)("span",{className:"discount-percent",children:"33% off"})]})]})]})]})]}),(0,Ox.jsxs)("div",{className:"specifications-section",children:[(0,Ox.jsx)("h3",{children:"Specifications"}),(0,Ox.jsxs)("div",{className:"spec-group",children:[(0,Ox.jsx)("h4",{children:"General"}),(0,Ox.jsx)("table",{children:(0,Ox.jsxs)("tbody",{children:[(0,Ox.jsxs)("tr",{children:[(0,Ox.jsx)("td",{children:"Display Size"}),(0,Ox.jsx)("td",{children:"17.02 cm (6.7 inch)"})]}),(0,Ox.jsxs)("tr",{children:[(0,Ox.jsx)("td",{children:"Resolution"}),(0,Ox.jsx)("td",{children:"1600 x 720 Pixels"})]}),(0,Ox.jsxs)("tr",{children:[(0,Ox.jsx)("td",{children:"Resolution Type"}),(0,Ox.jsx)("td",{children:"HD+"})]}),(0,Ox.jsxs)("tr",{children:[(0,Ox.jsx)("td",{children:"GPU"}),(0,Ox.jsx)("td",{children:"ARM Mali G57"})]}),(0,Ox.jsxs)("tr",{children:[(0,Ox.jsx)("td",{children:"Display Type"}),(0,Ox.jsx)("td",{children:"PLS LCD"})]}),(0,Ox.jsxs)("tr",{children:[(0,Ox.jsx)("td",{children:"HD Game Support"}),(0,Ox.jsx)("td",{children:"Yes"})]}),(0,Ox.jsxs)("tr",{children:[(0,Ox.jsx)("td",{children:"Display Colors"}),(0,Ox.jsx)("td",{children:"16 Million"})]}),(0,Ox.jsxs)("tr",{children:[(0,Ox.jsx)("td",{children:"Other Display Features"}),(0,Ox.jsx)("td",{children:"Refresh Rate: 90Hz"})]})]})})]})]}),(0,Ox.jsxs)("div",{className:"ratings-reviews-section",children:[(0,Ox.jsx)("h3",{children:"Ratings & Reviews"}),(0,Ox.jsxs)("div",{className:"ratings-summary",children:[(0,Ox.jsxs)("div",{className:"rating-range",children:[(0,Ox.jsx)("span",{children:"5\u2605"}),(0,Ox.jsx)("div",{className:"range-bar",children:(0,Ox.jsx)("div",{className:"range-fill",style:{width:"70%"}})}),(0,Ox.jsx)("span",{children:"381"})]}),(0,Ox.jsxs)("div",{className:"rating-range",children:[(0,Ox.jsx)("span",{children:"4\u2605"}),(0,Ox.jsx)("div",{className:"range-bar",children:(0,Ox.jsx)("div",{className:"range-fill",style:{width:"50%"}})}),(0,Ox.jsx)("span",{children:"106"})]}),(0,Ox.jsxs)("div",{className:"rating-range",children:[(0,Ox.jsx)("span",{children:"3\u2605"}),(0,Ox.jsx)("div",{className:"range-bar",children:(0,Ox.jsx)("div",{className:"range-fill",style:{width:"30%"}})}),(0,Ox.jsx)("span",{children:"3"})]}),(0,Ox.jsxs)("div",{className:"rating-range",children:[(0,Ox.jsx)("span",{children:"2\u2605"}),(0,Ox.jsx)("div",{className:"range-bar",children:(0,Ox.jsx)("div",{className:"range-fill",style:{width:"10%"}})}),(0,Ox.jsx)("span",{children:"77"})]}),(0,Ox.jsxs)("div",{className:"rating-range",children:[(0,Ox.jsx)("span",{children:"1\u2605"}),(0,Ox.jsx)("div",{className:"range-bar",children:(0,Ox.jsx)("div",{className:"range-fill",style:{width:"5%"}})}),(0,Ox.jsx)("span",{children:"77"})]})]}),(0,Ox.jsxs)("div",{className:"unpacking-images",children:[(0,Ox.jsx)("h4",{children:"Unpacking Images"}),(0,Ox.jsx)("div",{className:"images",children:null===(a=l.unpackingImages)||void 0===a?void 0:a.map(((e,t)=>(0,Ox.jsx)("img",{src:e,alt:`Unpacking ${t+1}`},t)))})]}),(0,Ox.jsxs)("div",{className:"user-feedback",children:[(0,Ox.jsx)("h4",{children:"User Feedback"}),null===(o=l.feedback)||void 0===o?void 0:o.map(((e,t)=>(0,Ox.jsxs)("div",{className:"review",children:[(0,Ox.jsxs)("div",{className:"review-header",children:[(0,Ox.jsx)("span",{className:"rating",children:"\u2605".repeat(e.rating)}),(0,Ox.jsx)("span",{className:"user",children:e.user}),(0,Ox.jsx)("span",{className:"date",children:e.date})]}),(0,Ox.jsx)("p",{children:e.text}),(0,Ox.jsxs)("div",{className:"review-actions",children:[(0,Ox.jsx)("button",{children:"Like"}),(0,Ox.jsx)("button",{children:"Dislike"})]})]},t)))]})]})]})]})},$x=()=>{var t;const n=Q(),r=J(),i=(null===(t=n.state)||void 0===t?void 0:t.category)||"Mobile",s={Mobile:[{id:1,name:"Samsung Galaxy S21",price:699,brand:"Samsung",features:["5G","128GB Storage","AMOLED Display"],image:"https://fdn2.gsmarena.com/vv/pics/samsung/samsung-galaxy-s21-5g-0.jpg",images:["https://fdn2.gsmarena.com/vv/pics/samsung/samsung-galaxy-s21-5g-3.jpg","https://fdn.gsmarena.com/imgroot/reviews/21/samsung-galaxy-s21/lifestyle/-1024w2/gsmarena_004.jpg"],youtubeVideo:"https://youtu.be/PWkoGQXQEmQ",feedback:[{text:"Great phone!",rating:5}]}]},[a,o]=(0,e.useState)([0,1e4]),[l,c]=(0,e.useState)([]),[u,h]=(0,e.useState)([]),d=s[i].filter((e=>{const t=e.price>=a[0]&&e.price<=a[1],n=0===l.length||l.includes(e.brand),r=0===u.length||u.every((t=>e.features.includes(t)));return t&&n&&r}));return(0,Ox.jsxs)("div",{className:"product-listing-container",children:[(0,Ox.jsxs)("div",{className:"filters-section",children:[(0,Ox.jsx)("h3",{children:"Filters"}),(0,Ox.jsxs)("div",{className:"filter-group",children:[(0,Ox.jsx)("h4",{children:"Price Range"}),(0,Ox.jsx)("input",{type:"range",min:"0",max:"10000",value:a[1],onChange:e=>o([0,parseInt(e.target.value)])}),(0,Ox.jsxs)("p",{children:["$",a[0]," - $",a[1]]})]}),(0,Ox.jsxs)("div",{className:"filter-group",children:[(0,Ox.jsx)("h4",{children:"Brand"}),[...new Set(s[i].map((e=>e.brand)))].map((e=>(0,Ox.jsxs)("label",{children:[(0,Ox.jsx)("input",{type:"checkbox",checked:l.includes(e),onChange:()=>(e=>{c((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]))})(e)}),e]},e)))]}),(0,Ox.jsxs)("div",{className:"filter-group",children:[(0,Ox.jsx)("h4",{children:"Features"}),[...new Set(s[i].flatMap((e=>e.features)))].map((e=>(0,Ox.jsxs)("label",{children:[(0,Ox.jsx)("input",{type:"checkbox",checked:u.includes(e),onChange:()=>(e=>{h((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]))})(e)}),e]},e)))]})]}),(0,Ox.jsxs)("div",{className:"products-section",children:[(0,Ox.jsx)("h2",{children:i}),(0,Ox.jsx)("div",{className:"products-grid",children:d.map((e=>(0,Ox.jsxs)("div",{className:"product-card",onClick:()=>(e=>{r("/product-detail",{state:{product:e}})})(e),children:[(0,Ox.jsx)("img",{src:e.image,alt:e.name}),(0,Ox.jsx)("h3",{children:e.name}),(0,Ox.jsxs)("p",{children:["Brand: ",e.brand]}),(0,Ox.jsxs)("p",{children:["Price: \u20b9",e.price.toLocaleString("en-IN")]}),(0,Ox.jsxs)("p",{children:["Features: ",e.features.join(", ")]})]},e.id)))})]})]})};function Hx(e,t){-1===e.indexOf(t)&&e.push(t)}function qx(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Kx=e=>e;let Wx=Kx,Gx=Kx;const Qx=!1,Yx=!1;function Xx(e){let t;return()=>(void 0===t&&(t=e()),t)}const Jx=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r};class Zx{constructor(){this.subscriptions=[]}add(e){return Hx(this.subscriptions,e),()=>qx(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const eS=e=>1e3*e,tS=e=>e/1e3;function nS(e,t){return t?e*(1e3/t):0}new Set;function rS(e){if("undefined"===typeof Proxy)return e;const t=new Map;return new Proxy((function(){return e(...arguments)}),{get:(n,r)=>"create"===r?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}function iS(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}function sS(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach(((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()})),t}function aS(e,t,n,r){if("function"===typeof t){const[i,s]=sS(r);t=t(void 0!==n?n:e.custom,i,s)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[i,s]=sS(r);t=t(void 0!==n?n:e.custom,i,s)}return t}function oS(e,t,n){const r=e.getProps();return aS(r,t,void 0!==n?n:r.custom,e)}const lS=Xx((()=>void 0!==window.ScrollTimeline));class cS{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map((e=>"finished"in e?e.finished:e)))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e,t){const n=this.animations.map((n=>lS()&&n.attachTimeline?n.attachTimeline(e):"function"===typeof t?t(n):void 0));return()=>{n.forEach(((e,t)=>{e&&e(),this.animations[t].stop()}))}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach((t=>t[e]()))}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class uS extends cS{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function hS(e,t){return e?e[t]||e.default||e:void 0}const dS=2e4;function fS(e){let t=0;let n=e.next(t);for(;!n.done&&t<dS;)t+=50,n=e.next(t);return t>=dS?1/0:t}function pS(e){return"function"===typeof e}function mS(e,t){e.timeline=t,e.onfinish=null}const gS=e=>Array.isArray(e)&&"number"===typeof e[0],vS={linearEasing:void 0};function yS(e,t){const n=Xx(e);return()=>{var e;return null!==(e=vS[t])&&void 0!==e?e:n()}}const bS=yS((()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(Rx){return!1}return!0}),"linearEasing"),wS=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=e(Jx(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function xS(e){return Boolean("function"===typeof e&&bS()||!e||"string"===typeof e&&(e in kS||bS())||gS(e)||Array.isArray(e)&&e.every(xS))}const SS=e=>{let[t,n,r,i]=e;return`cubic-bezier(${t}, ${n}, ${r}, ${i})`},kS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:SS([0,.65,.55,1]),circOut:SS([.55,0,1,.45]),backIn:SS([.31,.01,.66,-.59]),backOut:SS([.33,1.53,.69,.99])};function _S(e,t){return e?"function"===typeof e&&bS()?wS(e,t):gS(e)?SS(e):Array.isArray(e)?e.map((e=>_S(e,t)||kS.easeOut)):kS[e]:void 0}const ES=["read","resolveKeyframes","update","preRender","render","postRender"],TS={value:null,addProjectionMetrics:null};function CS(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=ES.reduce(((e,n)=>(e[n]=function(e,t){let n=new Set,r=new Set,i=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function c(t){a.has(t)&&(u.schedule(t),e()),l++,t(o)}const u={schedule:function(e){const t=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i?n:r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&a.add(e),t.has(e)||t.add(e),e},cancel:e=>{r.delete(e),a.delete(e)},process:e=>{o=e,i?s=!0:(i=!0,[n,r]=[r,n],n.forEach(c),t&&TS.value&&TS.value.frameloop[t].push(l),l=0,n.clear(),i=!1,s&&(s=!1,u.process(e)))}};return u}(s,t?n:void 0),e)),{}),{read:o,resolveKeyframes:l,update:c,preRender:u,render:h,postRender:d}=a,f=()=>{const s=Yx?i.timestamp:performance.now();n=!1,Yx||(i.delta=r?1e3/60:Math.max(Math.min(s-i.timestamp,40),1)),i.timestamp=s,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),u.process(i),h.process(i),d.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(f))},p=ES.reduce(((t,s)=>{const o=a[s];return t[s]=function(t){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||e(f)),o.schedule(t,s,a)},t}),{});return{schedule:p,cancel:e=>{for(let t=0;t<ES.length;t++)a[ES[t]].cancel(e)},state:i,steps:a}}const{schedule:NS,cancel:IS,state:jS,steps:AS}=CS("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:Kx,!0),{schedule:PS,cancel:RS}=CS(queueMicrotask,!1);let DS;function OS(){DS=void 0}const LS={now:()=>(void 0===DS&&LS.set(jS.isProcessing||Yx?jS.timestamp:performance.now()),DS),set:e=>{DS=e,queueMicrotask(OS)}},MS={x:!1,y:!1};function VS(){return MS.x||MS.y}function FS(e,t){const n=function(e,t,n){var r;if(e instanceof EventTarget)return[e];if("string"===typeof e){let i=document;t&&(i=t.current);const s=null!==(r=null===n||void 0===n?void 0:n[e])&&void 0!==r?r:i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}(e),r=new AbortController;return[n,{passive:!0,...t,signal:r.signal},()=>r.abort()]}function US(e){return!("touch"===e.pointerType||VS())}function zS(e,t){const n=`${t}PointerCapture`;if(e.target instanceof Element&&n in e.target&&void 0!==e.pointerId)try{e.target[n](e.pointerId)}catch(Rx){}}const BS=(e,t)=>!!t&&(e===t||BS(e,t.parentElement)),$S=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary,HS=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const qS=new WeakSet;function KS(e){return t=>{"Enter"===t.key&&e(t)}}function WS(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function GS(e){return $S(e)&&!VS()}function QS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,i,s]=FS(e,n),a=e=>{const n=e.currentTarget;if(!n||!GS(e)||qS.has(n))return;qS.add(n),zS(e,"set");const r=t(n,e),s=(e,t)=>{n.removeEventListener("pointerup",a),n.removeEventListener("pointercancel",o),zS(e,"release"),GS(e)&&qS.has(n)&&(qS.delete(n),"function"===typeof r&&r(e,{success:t}))},a=e=>{const t=!!e.isTrusted&&(r=e,i=n instanceof Element?n.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight},r.clientX<i.left||r.clientX>i.right||r.clientY<i.top||r.clientY>i.bottom);var r,i;s(e,!t&&(!(n instanceof Element)||BS(n,e.target)))},o=e=>{s(e,!1)};n.addEventListener("pointerup",a,i),n.addEventListener("pointercancel",o,i),n.addEventListener("lostpointercapture",o,i)};return r.forEach((e=>{let t=!1;var r;(e=n.useGlobalTarget?window:e)instanceof HTMLElement&&(t=!0,r=e,HS.has(r.tagName)||-1!==r.tabIndex||null!==e.getAttribute("tabindex")||(e.tabIndex=0)),e.addEventListener("pointerdown",a,i),t&&e.addEventListener("focus",(e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=KS((()=>{if(qS.has(n))return;WS(n,"down");const e=KS((()=>{WS(n,"up")}));n.addEventListener("keyup",e,t),n.addEventListener("blur",(()=>WS(n,"cancel")),t)}));n.addEventListener("keydown",r,t),n.addEventListener("blur",(()=>n.removeEventListener("keydown",r)),t)})(e,i)),i)})),s}const YS={layout:0,mainThread:0,waapi:0};const XS={current:void 0};class JS{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.version="12.6.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=LS.now();t.updatedAt!==r&&t.setPrevFrameValue(),t.prev=t.current,t.setCurrent(e),t.current!==t.prev&&t.events.change&&t.events.change.notify(t.current),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){var t;this.current=e,this.updatedAt=LS.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Zx);const n=this.events[e].add(t);return"change"===e?()=>{n(),NS.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return XS.current&&XS.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=LS.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return nS(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ZS(e,t){return new JS(e,t)}const ek=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],tk=new Set(ek),nk=new Set(["width","height","top","left","right","bottom",...ek]),rk=e=>Array.isArray(e),ik=e=>rk(e)?e[e.length-1]||0:e;function sk(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ZS(n))}const ak=e=>Boolean(e&&e.getVelocity);function ok(e,t){const n=e.getValue("willChange");if(r=n,Boolean(ak(r)&&r.add))return n.add(t);var r}const lk=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ck="data-"+lk("framerAppearId");function uk(e){return e.props[ck]}const hk=!1,dk=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function fk(e,t,n,r){if(e===t&&n===r)return Kx;const i=t=>function(e,t,n,r,i){let s,a,o=0;do{a=t+(n-t)/2,s=dk(a,r,i)-e,s>0?n=a:t=a}while(Math.abs(s)>1e-7&&++o<12);return a}(t,0,1,e,n);return e=>0===e||1===e?e:dk(i(e),t,r)}const pk=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,mk=e=>t=>1-e(1-t),gk=fk(.33,1.53,.69,.99),vk=mk(gk),yk=pk(vk),bk=e=>(e*=2)<1?.5*vk(e):.5*(2-Math.pow(2,-10*(e-1))),wk=e=>1-Math.sin(Math.acos(e)),xk=mk(wk),Sk=pk(wk),kk=e=>/^0[^.\s]+$/u.test(e);const _k=(e,t,n)=>n>t?t:n<e?e:n,Ek={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},Tk={...Ek,transform:e=>_k(0,1,e)},Ck={...Ek,default:1},Nk=e=>Math.round(1e5*e)/1e5,Ik=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;const jk=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ak=(e,t)=>n=>Boolean("string"===typeof n&&jk.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),Pk=(e,t,n)=>r=>{if("string"!==typeof r)return r;const[i,s,a,o]=r.match(Ik);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(a),alpha:void 0!==o?parseFloat(o):1}},Rk={...Ek,transform:e=>Math.round((e=>_k(0,255,e))(e))},Dk={test:Ak("rgb","red"),parse:Pk("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:i=1}=e;return"rgba("+Rk.transform(t)+", "+Rk.transform(n)+", "+Rk.transform(r)+", "+Nk(Tk.transform(i))+")"}};const Ok={test:Ak("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:Dk.transform},Lk=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),Mk=Lk("deg"),Vk=Lk("%"),Fk=Lk("px"),Uk=Lk("vh"),zk=Lk("vw"),Bk={...Vk,parse:e=>Vk.parse(e)/100,transform:e=>Vk.transform(100*e)},$k={test:Ak("hsl","hue"),parse:Pk("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:i=1}=e;return"hsla("+Math.round(t)+", "+Vk.transform(Nk(n))+", "+Vk.transform(Nk(r))+", "+Nk(Tk.transform(i))+")"}},Hk={test:e=>Dk.test(e)||Ok.test(e)||$k.test(e),parse:e=>Dk.test(e)?Dk.parse(e):$k.test(e)?$k.parse(e):Ok.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?Dk.transform(e):$k.transform(e)},qk=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;const Kk="number",Wk="color",Gk=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Qk(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=t.replace(Gk,(e=>(Hk.test(e)?(r.color.push(s),i.push(Wk),n.push(Hk.parse(e))):e.startsWith("var(")?(r.var.push(s),i.push("var"),n.push(e)):(r.number.push(s),i.push(Kk),n.push(parseFloat(e))),++s,"${}"))).split("${}");return{values:n,split:a,indexes:r,types:i}}function Yk(e){return Qk(e).values}function Xk(e){const{split:t,types:n}=Qk(e),r=t.length;return e=>{let i="";for(let s=0;s<r;s++)if(i+=t[s],void 0!==e[s]){const t=n[s];i+=t===Kk?Nk(e[s]):t===Wk?Hk.transform(e[s]):e[s]}return i}}const Jk=e=>"number"===typeof e?0:e;const Zk={test:function(e){var t,n;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(Ik))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(qk))||void 0===n?void 0:n.length)||0)>0},parse:Yk,createTransformer:Xk,getAnimatableNone:function(e){const t=Yk(e);return Xk(e)(t.map(Jk))}},e_=new Set(["brightness","contrast","saturate","opacity"]);function t_(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(Ik)||[];if(!r)return e;const i=n.replace(r,"");let s=e_.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const n_=/\b([a-z-]*)\(.*?\)/gu,r_={...Zk,getAnimatableNone:e=>{const t=e.match(n_);return t?t.map(t_).join(" "):e}},i_={borderWidth:Fk,borderTopWidth:Fk,borderRightWidth:Fk,borderBottomWidth:Fk,borderLeftWidth:Fk,borderRadius:Fk,radius:Fk,borderTopLeftRadius:Fk,borderTopRightRadius:Fk,borderBottomRightRadius:Fk,borderBottomLeftRadius:Fk,width:Fk,maxWidth:Fk,height:Fk,maxHeight:Fk,top:Fk,right:Fk,bottom:Fk,left:Fk,padding:Fk,paddingTop:Fk,paddingRight:Fk,paddingBottom:Fk,paddingLeft:Fk,margin:Fk,marginTop:Fk,marginRight:Fk,marginBottom:Fk,marginLeft:Fk,backgroundPositionX:Fk,backgroundPositionY:Fk},s_={rotate:Mk,rotateX:Mk,rotateY:Mk,rotateZ:Mk,scale:Ck,scaleX:Ck,scaleY:Ck,scaleZ:Ck,skew:Mk,skewX:Mk,skewY:Mk,distance:Fk,translateX:Fk,translateY:Fk,translateZ:Fk,x:Fk,y:Fk,z:Fk,perspective:Fk,transformPerspective:Fk,opacity:Tk,originX:Bk,originY:Bk,originZ:Fk},a_={...Ek,transform:Math.round},o_={...i_,...s_,zIndex:a_,size:Fk,fillOpacity:Tk,strokeOpacity:Tk,numOctaves:a_},l_={...o_,color:Hk,backgroundColor:Hk,outlineColor:Hk,fill:Hk,stroke:Hk,borderColor:Hk,borderTopColor:Hk,borderRightColor:Hk,borderBottomColor:Hk,borderLeftColor:Hk,filter:r_,WebkitFilter:r_},c_=e=>l_[e];function u_(e,t){let n=c_(e);return n!==r_&&(n=Zk),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const h_=new Set(["auto","none","0"]);const d_=e=>180*e/Math.PI,f_=e=>{const t=d_(Math.atan2(e[1],e[0]));return m_(t)},p_={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:f_,rotateZ:f_,skewX:e=>d_(Math.atan(e[1])),skewY:e=>d_(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},m_=e=>((e%=360)<0&&(e+=360),e),g_=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),v_=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),y_={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:g_,scaleY:v_,scale:e=>(g_(e)+v_(e))/2,rotateX:e=>m_(d_(Math.atan2(e[6],e[5]))),rotateY:e=>m_(d_(Math.atan2(-e[2],e[0]))),rotateZ:f_,rotate:f_,skewX:e=>d_(Math.atan(e[4])),skewY:e=>d_(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function b_(e){return e.includes("scale")?1:0}function w_(e,t){if(!e||"none"===e)return b_(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=y_,i=n;else{const t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=p_,i=t}if(!i)return b_(t);const s=r[t],a=i[1].split(",").map(x_);return"function"===typeof s?s(a):a[s]}function x_(e){return parseFloat(e.trim())}const S_=e=>e===Ek||e===Fk,k_=new Set(["x","y","z"]),__=ek.filter((e=>!k_.has(e)));const E_={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:(e,t)=>{let{transform:n}=t;return w_(n,"x")},y:(e,t)=>{let{transform:n}=t;return w_(n,"y")}};E_.translateX=E_.x,E_.translateY=E_.y;const T_=new Set;let C_=!1,N_=!1;function I_(){if(N_){const e=Array.from(T_).filter((e=>e.needsMeasurement)),t=new Set(e.map((e=>e.element))),n=new Map;t.forEach((e=>{const t=function(e){const t=[];return __.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t}(e);t.length&&(n.set(e,t),e.render())})),e.forEach((e=>e.measureInitialState())),t.forEach((e=>{e.render();const t=n.get(e);t&&t.forEach((t=>{let[n,r]=t;var i;null===(i=e.getValue(n))||void 0===i||i.set(r)}))})),e.forEach((e=>e.measureEndState())),e.forEach((e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)}))}N_=!1,C_=!1,T_.forEach((e=>e.complete())),T_.clear()}function j_(){T_.forEach((e=>{e.readKeyframes(),e.needsMeasurement&&(N_=!0)}))}class A_{constructor(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=i,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(T_.add(this),C_||(C_=!0,NS.read(j_),NS.resolveKeyframes(I_))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;for(let i=0;i<e.length;i++)if(null===e[i])if(0===i){const i=null===r||void 0===r?void 0:r.get(),s=e[e.length-1];if(void 0!==i)e[0]=i;else if(n&&t){const r=n.readValue(t,s);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=s),r&&void 0===i&&r.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),T_.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,T_.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const P_=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),R_=e=>t=>"string"===typeof t&&t.startsWith(e),D_=R_("--"),O_=R_("var(--"),L_=e=>!!O_(e)&&M_.test(e.split("/*")[0].trim()),M_=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,V_=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function F_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;Gx(n<=4,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`);const[r,i]=function(e){const t=V_.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${null!==n&&void 0!==n?n:r}`,i]}(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const e=s.trim();return P_(e)?parseFloat(e):e}return L_(i)?F_(i,t,n+1):i}const U_=e=>t=>t.test(e),z_=[Ek,Fk,Vk,Mk,zk,Uk,{test:e=>"auto"===e,parse:e=>e}],B_=e=>z_.find(U_(e));class $_ extends A_{constructor(e,t,n,r,i){super(e,t,n,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let o=0;o<e.length;o++){let n=e[o];if("string"===typeof n&&(n=n.trim(),L_(n))){const r=F_(n,t.current);void 0!==r&&(e[o]=r),o===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!nk.has(n)||2!==e.length)return;const[r,i]=e,s=B_(r),a=B_(i);if(s!==a)if(S_(s)&&S_(a))for(let o=0;o<e.length;o++){const t=e[o];"string"===typeof t&&(e[o]=parseFloat(t))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let i=0;i<e.length;i++)("number"===typeof(r=e[i])?0===r:null===r||"none"===r||"0"===r||kk(r))&&n.push(i);var r;n.length&&function(e,t,n){let r,i=0;for(;i<e.length&&!r;){const t=e[i];"string"===typeof t&&!h_.has(t)&&Qk(t).values.length&&(r=e[i]),i++}if(r&&n)for(const s of t)e[s]=u_(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=E_[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,a=r[s];r[s]=E_[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==a&&void 0===this.finalKeyframe&&(this.finalKeyframe=a),(null===(e=this.removedTransforms)||void 0===e?void 0:e.length)&&this.removedTransforms.forEach((e=>{let[n,r]=e;t.getValue(n).set(r)})),this.resolveNoneKeyframes()}}const H_=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!Zk.test(e)&&"0"!==e||e.startsWith("url(")));function q_(e,t,n,r){const i=e[0];if(null===i)return!1;if("display"===t||"visibility"===t)return!0;const s=e[e.length-1],a=H_(i,t),o=H_(s,t);return Wx(a===o,`You are trying to animate ${t} from "${i}" to "${s}". ${i} is not an animatable value - to enable this animation set ${i} to a value animatable to ${s} via the \`style\` property.`),!(!a||!o)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||pS(n))&&r)}const K_=e=>null!==e;function W_(e,t,n){let{repeat:r,repeatType:i="loop"}=t;const s=e.filter(K_),a=r&&"loop"!==i&&r%2===1?0:s.length-1;return a&&void 0!==n?n:s[a]}class G_{constructor(e){let{autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",...o}=e;this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=LS.now(),this.options={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(j_(),I_()),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=LS.now(),this.hasAttemptedResolve=!0;const{name:n,type:r,velocity:i,delay:s,onComplete:a,onUpdate:o,isGenerator:l}=this.options;if(!l&&!q_(e,n,r,i)){if(hk||!s)return o&&o(W_(e,this.options,t)),a&&a(),void this.resolveFinishedPromise();this.options.duration=0}const c=this.initPlayback(e,t);!1!==c&&(this._resolved={keyframes:e,finalKeyframe:t,...c},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise((e=>{this.resolveFinishedPromise=e}))}}const Q_=(e,t,n)=>e+(t-e)*n;function Y_(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function X_(e,t){return n=>n>0?t:e}const J_=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},Z_=[Ok,Dk,$k];function eE(e){const t=(e=>Z_.find((t=>t.test(e))))(e);if(Wx(Boolean(t),`'${e}' is not an animatable color. Use the equivalent color code instead.`),!Boolean(t))return!1;let n=t.parse(e);return t===$k&&(n=function(e){let{hue:t,saturation:n,lightness:r,alpha:i}=e;t/=360,n/=100,r/=100;let s=0,a=0,o=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,i=2*r-e;s=Y_(i,e,t+1/3),a=Y_(i,e,t),o=Y_(i,e,t-1/3)}else s=a=o=r;return{red:Math.round(255*s),green:Math.round(255*a),blue:Math.round(255*o),alpha:i}}(n)),n}const tE=(e,t)=>{const n=eE(e),r=eE(t);if(!n||!r)return X_(e,t);const i={...n};return e=>(i.red=J_(n.red,r.red,e),i.green=J_(n.green,r.green,e),i.blue=J_(n.blue,r.blue,e),i.alpha=Q_(n.alpha,r.alpha,e),Dk.transform(i))},nE=(e,t)=>n=>t(e(n)),rE=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(nE)},iE=new Set(["none","hidden"]);function sE(e,t){return n=>Q_(e,t,n)}function aE(e){return"number"===typeof e?sE:"string"===typeof e?L_(e)?X_:Hk.test(e)?tE:cE:Array.isArray(e)?oE:"object"===typeof e?Hk.test(e)?tE:lE:X_}function oE(e,t){const n=[...e],r=n.length,i=e.map(((e,n)=>aE(e)(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}}function lE(e,t){const n={...e,...t},r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=aE(e[i])(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const cE=(e,t)=>{const n=Zk.createTransformer(t),r=Qk(e),i=Qk(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?iE.has(e)&&!i.values.length||iE.has(t)&&!r.values.length?function(e,t){return iE.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):rE(oE(function(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const a=t.types[s],o=e.indexes[a][i[a]],l=null!==(n=e.values[o])&&void 0!==n?n:0;r[s]=l,i[a]++}return r}(r,i),i.values),n):(Wx(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),X_(e,t))};function uE(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return Q_(e,t,n);return aE(e)(e,t)}function hE(e,t,n){const r=Math.max(t-5,0);return nS(n-e(r),t-r)}const dE={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},fE=.001;function pE(e){let t,n,{duration:r=dE.duration,bounce:i=dE.bounce,velocity:s=dE.velocity,mass:a=dE.mass}=e;Wx(r<=eS(dE.maxDuration),"Spring duration must be 10 seconds or less");let o=1-i;o=_k(dE.minDamping,dE.maxDamping,o),r=_k(dE.minDuration,dE.maxDuration,tS(r)),o<1?(t=e=>{const t=e*o,n=t*r,i=t-s,a=gE(e,o),l=Math.exp(-n);return fE-i/a*l},n=e=>{const n=e*o*r,i=n*s+s,a=Math.pow(o,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=gE(Math.pow(e,2),o);return(-t(e)+fE>0?-1:1)*((i-a)*l)/c}):(t=e=>Math.exp(-e*r)*((e-s)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(s-e)));const l=function(e,t,n){let r=n;for(let i=1;i<mE;i++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=eS(r),isNaN(l))return{stiffness:dE.stiffness,damping:dE.damping,duration:r};{const e=Math.pow(l,2)*a;return{stiffness:e,damping:2*o*Math.sqrt(a*e),duration:r}}}const mE=12;function gE(e,t){return e*Math.sqrt(1-t*t)}const vE=["duration","bounce"],yE=["stiffness","damping","mass"];function bE(e,t){return t.some((t=>void 0!==e[t]))}function wE(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dE.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dE.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:h,velocity:d,isResolvedFromDuration:f}=function(e){let t={velocity:dE.velocity,stiffness:dE.stiffness,damping:dE.damping,mass:dE.mass,isResolvedFromDuration:!1,...e};if(!bE(e,yE)&&bE(e,vE))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),i=r*r,s=2*_k(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:dE.mass,stiffness:i,damping:s}}else{const n=pE(e);t={...t,...n,mass:dE.mass},t.isResolvedFromDuration=!0}return t}({...n,velocity:-tS(n.velocity||0)}),p=d||0,m=c/(2*Math.sqrt(l*u)),g=a-s,v=tS(Math.sqrt(l/u)),y=Math.abs(g)<5;let b;if(r||(r=y?dE.restSpeed.granular:dE.restSpeed.default),i||(i=y?dE.restDelta.granular:dE.restDelta.default),m<1){const e=gE(v,m);b=t=>{const n=Math.exp(-m*v*t);return a-n*((p+m*v*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)b=e=>a-Math.exp(-v*e)*(g+(p+v*g)*e);else{const e=v*Math.sqrt(m*m-1);b=t=>{const n=Math.exp(-m*v*t),r=Math.min(e*t,300);return a-n*((p+m*v*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}const w={calculatedDuration:f&&h||null,next:e=>{const t=b(e);if(f)o.done=e>=h;else{let n=0;m<1&&(n=0===e?eS(p):hE(b,e,t));const s=Math.abs(n)<=r,l=Math.abs(a-t)<=i;o.done=s&&l}return o.value=o.done?a:t,o},toString:()=>{const e=Math.min(fS(w),dS),t=wS((t=>w.next(e*t).value),e,30);return e+"ms "+t}};return w}function xE(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:h}=e;const d=t[0],f={done:!1,value:d},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=d+m,v=void 0===o?g:o(g);v!==g&&(m=v-d);const y=e=>-m*Math.exp(-e/i),b=e=>v+y(e),w=e=>{const t=y(e),n=b(e);f.done=Math.abs(t)<=u,f.value=f.done?v:n};let x,S;const k=e=>{(e=>void 0!==l&&e<l||void 0!==c&&e>c)(f.value)&&(x=e,S=wE({keyframes:[f.value,p(f.value)],velocity:hE(b,e,f.value),damping:s,stiffness:a,restDelta:u,restSpeed:h}))};return k(0),{calculatedDuration:null,next:e=>{let t=!1;return S||void 0!==x||(t=!0,w(e),k(e)),void 0!==x&&e>=x?S.next(e-x):(!t&&w(e),f)}}}const SE=fk(.42,0,1,1),kE=fk(0,0,.58,1),_E=fk(.42,0,.58,1),EE={linear:Kx,easeIn:SE,easeInOut:_E,easeOut:kE,circIn:wk,circInOut:Sk,circOut:xk,backIn:vk,backInOut:yk,backOut:gk,anticipate:bk},TE=e=>{if(gS(e)){Gx(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,i]=e;return fk(t,n,r,i)}return"string"===typeof e?(Gx(void 0!==EE[e],`Invalid easing type '${e}'`),EE[e]):e};function CE(e,t){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=e.length;if(Gx(s===t.length,"Both input and output ranges must be the same length"),1===s)return()=>t[0];if(2===s&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=function(e,t,n){const r=[],i=n||uE,s=e.length-1;for(let a=0;a<s;a++){let n=i(e[a],e[a+1]);if(t){const e=Array.isArray(t)?t[a]||Kx:t;n=rE(e,n)}r.push(n)}return r}(t,r,i),l=o.length,c=n=>{if(a&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const i=Jx(e[r],e[r+1],n);return o[r](i)};return n?t=>c(_k(e[0],e[s-1],t)):c}function NE(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Jx(0,t,r);e.push(Q_(n,1,i))}}(t,e.length-1),t}function IE(e){let{duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}=e;const s=(e=>Array.isArray(e)&&"number"!==typeof e[0])(i)?i.map(TE):TE(i),a={done:!1,value:n[0]},o=function(e,t){return e.map((e=>e*t))}(r&&r.length===n.length?r:NE(n),t),l=CE(o,n,{ease:Array.isArray(s)?s:(c=n,u=s,c.map((()=>u||_E)).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(a.value=l(e),a.done=e>=t,a)}}const jE=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>NS.update(t,!0),stop:()=>IS(t),now:()=>jS.isProcessing?jS.timestamp:LS.now()}},AE={decay:xE,inertia:xE,tween:IE,keyframes:IE,spring:wE},PE=e=>e/100;class RE extends G_{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:e}=this.options;e&&e()};const{name:t,motionValue:n,element:r,keyframes:i}=this.options,s=(null===r||void 0===r?void 0:r.KeyframeResolver)||A_;this.resolver=new s(i,((e,t)=>this.onKeyframesResolved(e,t)),t,n,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:s=0}=this.options,a=pS(t)?t:AE[t]||IE;let o,l;a!==IE&&"number"!==typeof e[0]&&(o=rE(PE,uE(e[0],e[1])),e=[0,100]);const c=a({...this.options,keyframes:e});"mirror"===i&&(l=a({...this.options,keyframes:[...e].reverse(),velocity:-s})),null===c.calculatedDuration&&(c.calculatedDuration=fS(c));const{calculatedDuration:u}=c,h=u+r;return{generator:c,mirroredGenerator:l,mapPercentToKeyframes:o,calculatedDuration:u,resolvedDuration:h,totalDuration:h*(n+1)-r}}onPostResolved(){const{autoplay:e=!0}=this.options;YS.mainThread++,this.play(),"paused"!==this.pendingPlayState&&e?this.state=this.pendingPlayState:this.pause()}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{resolved:n}=this;if(!n){const{keyframes:e}=this.options;return{done:!0,value:e[e.length-1]}}const{finalKeyframe:r,generator:i,mirroredGenerator:s,mapPercentToKeyframes:a,keyframes:o,calculatedDuration:l,totalDuration:c,resolvedDuration:u}=n;if(null===this.startTime)return i.next(0);const{delay:h,repeat:d,repeatType:f,repeatDelay:p,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),t?this.currentTime=e:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-h*(this.speed>=0?1:-1),v=this.speed>=0?g<0:g>c;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=c);let y=this.currentTime,b=i;if(d){const e=Math.min(this.currentTime,c)/u;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,d+1);Boolean(t%2)&&("reverse"===f?(n=1-n,p&&(n-=p/u)):"mirror"===f&&(b=s)),y=_k(0,1,n)*u}const w=v?{done:!1,value:o[0]}:b.next(y);a&&(w.value=a(w.value));let{done:x}=w;v||null===l||(x=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const S=null===this.holdTime&&("finished"===this.state||"running"===this.state&&x);return S&&void 0!==r&&(w.value=W_(o,this.options,r)),m&&m(w.value),S&&this.finish(),w}get duration(){const{resolved:e}=this;return e?tS(e.calculatedDuration):0}get time(){return tS(this.currentTime)}set time(e){e=eS(e),this.currentTime=e,null!==this.holdTime||0===this.speed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=tS(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved)return void(this.pendingPlayState="running");if(this.isStopped)return;const{driver:e=jE,onPlay:t,startTime:n}=this.options;this.driver||(this.driver=e((e=>this.tick(e)))),t&&t();const r=this.driver.now();null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=r):this.startTime=null!==n&&void 0!==n?n:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;this._resolved?(this.state="paused",this.holdTime=null!==(e=this.currentTime)&&void 0!==e?e:0):this.pendingPlayState="paused"}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel(),YS.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const DE=new Set(["opacity","clipPath","filter","transform"]);const OE=Xx((()=>Object.hasOwnProperty.call(Element.prototype,"animate")));const LE={anticipate:bk,backInOut:yk,circInOut:Sk};class ME extends G_{constructor(e){super(e);const{name:t,motionValue:n,element:r,keyframes:i}=this.options;this.resolver=new $_(i,((e,t)=>this.onKeyframesResolved(e,t)),t,n,r),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:n=300,times:r,ease:i,type:s,motionValue:a,name:o,startTime:l}=this.options;if(!a.owner||!a.owner.current)return!1;var c;if("string"===typeof i&&bS()&&i in LE&&(i=LE[i]),pS((c=this.options).type)||"spring"===c.type||!xS(c.ease)){const{onComplete:t,onUpdate:a,motionValue:o,element:l,...c}=this.options,u=function(e,t){const n=new RE({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let s=0;for(;!r.done&&s<2e4;)r=n.sample(s),i.push(r.value),s+=10;return{times:void 0,keyframes:i,duration:s-10,ease:"linear"}}(e,c);1===(e=u.keyframes).length&&(e[1]=e[0]),n=u.duration,r=u.times,i=u.ease,s="keyframes"}const u=function(e,t,n){let{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeInOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[t]:n};l&&(c.offset=l);const u=_S(o,i);Array.isArray(u)&&(c.easing=u),TS.value&&YS.waapi++;const h=e.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:"reverse"===a?"alternate":"normal"});return TS.value&&h.finished.finally((()=>{YS.waapi--})),h}(a.owner.current,o,e,{...this.options,duration:n,times:r,ease:i});return u.startTime=null!==l&&void 0!==l?l:this.calcStartTime(),this.pendingTimeline?(mS(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:n}=this.options;a.set(W_(e,this.options,t)),n&&n(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:n,times:r,type:s,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return tS(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return tS(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.currentTime=eS(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(this._resolved){const{resolved:t}=this;if(!t)return Kx;const{animation:n}=t;mS(n,e)}else this.pendingTimeline=e;return Kx}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;"finished"===t.playState&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:n,duration:r,type:i,ease:s,times:a}=e;if("idle"===t.playState||"finished"===t.playState)return;if(this.time){const{motionValue:e,onUpdate:t,onComplete:o,element:l,...c}=this.options,u=new RE({...c,keyframes:n,duration:r,type:i,ease:s,times:a,isGenerator:!0}),h=eS(this.time);e.setWithVelocity(u.sample(h-10).value,u.sample(h).value,10)}const{onStop:o}=this.options;o&&o(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:s,type:a}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:o,transformTemplate:l}=t.owner.getProps();return OE()&&n&&DE.has(n)&&!o&&!l&&!r&&"mirror"!==i&&0!==s&&"inertia"!==a}}const VE={type:"spring",stiffness:500,damping:25,restSpeed:10},FE={type:"keyframes",duration:.8},UE={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},zE=(e,t)=>{let{keyframes:n}=t;return n.length>2?FE:tk.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:VE:UE};const BE=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;return a=>{const o=hS(r,e)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c-=eS(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:s?void 0:i};(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:s,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...h}=e;return!!Object.keys(h).length})(o)||(u={...u,...zE(e,u)}),u.duration&&(u.duration=eS(u.duration)),u.repeatDelay&&(u.repeatDelay=eS(u.repeatDelay)),void 0!==u.from&&(u.keyframes[0]=u.from);let h=!1;if((!1===u.type||0===u.duration&&!u.repeatDelay)&&(u.duration=0,0===u.delay&&(h=!0)),(hk||Qx)&&(h=!0,u.duration=0,u.delay=0),u.allowFlatten=!o.type&&!o.ease,h&&!s&&void 0!==t.get()){const e=W_(u.keyframes,o);if(void 0!==e)return NS.update((()=>{u.onUpdate(e),u.onComplete()})),new uS([])}return!s&&ME.supports(u)?new ME(u):new RE(u)}};function $E(e,t){let{protectedKeys:n,needsAnimating:r}=e;const i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}function HE(e,t){let{delay:n=0,transitionOverride:r,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var s;let{transition:a=e.getDefaultTransition(),transitionEnd:o,...l}=t;r&&(a=r);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const h in l){const t=e.getValue(h,null!==(s=e.latestValues[h])&&void 0!==s?s:null),r=l[h];if(void 0===r||u&&$E(u,h))continue;const i={delay:n,...hS(a||{},h)};let o=!1;if(window.MotionHandoffAnimation){const t=uk(e);if(t){const e=window.MotionHandoffAnimation(t,h,NS);null!==e&&(i.startTime=e,o=!0)}}ok(e,h),t.start(BE(h,t,r,e.shouldReduceMotion&&nk.has(h)?{type:!1}:i,e,o));const d=t.animation;d&&c.push(d)}return o&&Promise.all(c).then((()=>{NS.update((()=>{o&&function(e,t){const n=oS(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s)sk(e,a,ik(s[a]))}(e,o)}))})),c}function qE(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r;const i=oS(e,t,"exit"===n.type?null===(r=e.presenceContext)||void 0===r?void 0:r.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const a=i?()=>Promise.all(HE(e,i,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:i=0,staggerChildren:a,staggerDirection:o}=s;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5?arguments[5]:void 0;const a=[],o=(e.variantChildren.size-1)*r,l=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return o-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(KE).forEach(((e,r)=>{e.notify("AnimationStart",t),a.push(qE(e,t,{...s,delay:n+l(r)}).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(a)}(e,t,i+r,a,o,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[e,t]="beforeChildren"===l?[a,o]:[o,a];return e().then((()=>t()))}return Promise.all([a(),o(n.delay)])}function KE(e,t){return e.sortNodePosition(t)}function WE(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function GE(e){return"string"===typeof e||Array.isArray(e)}const QE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],YE=["initial",...QE],XE=YE.length;function JE(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&JE(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<XE;n++){const r=YE[n],i=e.props[r];(GE(i)||!1===i)&&(t[r]=i)}return t}const ZE=[...QE].reverse(),eT=QE.length;function tT(e){return t=>Promise.all(t.map((t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map((t=>qE(e,t,r)));n=Promise.all(i)}else if("string"===typeof t)n=qE(e,t,r);else{const i="function"===typeof t?oS(e,t,r.custom):t;n=Promise.all(HE(e,i,r))}return n.then((()=>{e.notify("AnimationComplete",t)}))}(e,n,r)})))}function nT(e){let t=tT(e),n=sT(),r=!0;const i=t=>(n,r)=>{var i;const s=oS(e,r,"exit"===t?null===(i=e.presenceContext)||void 0===i?void 0:i.custom:void 0);if(s){const{transition:e,transitionEnd:t,...r}=s;n={...n,...r,...t}}return n};function s(s){const{props:a}=e,o=JE(e.parent)||{},l=[],c=new Set;let u={},h=1/0;for(let t=0;t<eT;t++){const d=ZE[t],f=n[d],p=void 0!==a[d]?a[d]:o[d],m=GE(p),g=d===s?f.isActive:null;!1===g&&(h=t);let v=p===o[d]&&p!==a[d]&&m;if(v&&r&&e.manuallyAnimateOnMount&&(v=!1),f.protectedKeys={...u},!f.isActive&&null===g||!p&&!f.prevProp||iS(p)||"boolean"===typeof p)continue;const y=rT(f.prevProp,p);let b=y||d===s&&f.isActive&&!v&&m||t>h&&m,w=!1;const x=Array.isArray(p)?p:[p];let S=x.reduce(i(d),{});!1===g&&(S={});const{prevResolvedValues:k={}}=f,_={...k,...S},E=t=>{b=!0,c.has(t)&&(w=!0,c.delete(t)),f.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in _){const t=S[e],n=k[e];if(u.hasOwnProperty(e))continue;let r=!1;r=rk(t)&&rk(n)?!WE(t,n):t!==n,r?void 0!==t&&null!==t?E(e):c.add(e):void 0!==t&&c.has(e)?E(e):f.protectedKeys[e]=!0}f.prevProp=p,f.prevResolvedValues=S,f.isActive&&(u={...u,...S}),r&&e.blockInitialAnimation&&(b=!1);b&&(!(v&&y)||w)&&l.push(...x.map((e=>({animation:e,options:{type:d}}))))}if(c.size){const t={};if("boolean"!==typeof a.initial){const n=oS(e,Array.isArray(a.initial)?a.initial[0]:a.initial);n&&n.transition&&(t.transition=n.transition)}c.forEach((n=>{const r=e.getBaseTarget(n),i=e.getValue(n);i&&(i.liveStyle=!0),t[n]=null!==r&&void 0!==r?r:null})),l.push({animation:t})}let d=Boolean(l.length);return!r||!1!==a.initial&&a.initial!==a.animate||e.manuallyAnimateOnMount||(d=!1),r=!1,d?t(l):Promise.resolve()}return{animateChanges:s,setActive:function(t,r){var i;if(n[t].isActive===r)return Promise.resolve();null===(i=e.variantChildren)||void 0===i||i.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;const a=s(t);for(const e in n)n[e].protectedKeys={};return a},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=sT(),r=!0}}}function rT(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!WE(t,e)}function iT(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function sT(){return{animate:iT(!0),whileInView:iT(),whileHover:iT(),whileTap:iT(),whileDrag:iT(),whileFocus:iT(),exit:iT()}}class aT{constructor(e){this.isMounted=!1,this.node=e}update(){}}let oT=0;const lT={animation:{Feature:class extends aT{constructor(e){super(e),e.animationState||(e.animationState=nT(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();iS(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends aT{constructor(){super(...arguments),this.id=oT++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then((()=>{t(this.id)}))}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}};function cT(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function uT(e){return{point:{x:e.pageX,y:e.pageY}}}function hT(e,t,n,r){return cT(e,t,(e=>t=>$S(t)&&e(t,uT(t)))(n),r)}function dT(e){let{top:t,left:n,right:r,bottom:i}=e;return{x:{min:n,max:r},y:{min:t,max:i}}}function fT(e){return e.max-e.min}function pT(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=Q_(t.min,t.max,e.origin),e.scale=fT(n)/fT(t),e.translate=Q_(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function mT(e,t,n,r){pT(e.x,t.x,n.x,r?r.originX:void 0),pT(e.y,t.y,n.y,r?r.originY:void 0)}function gT(e,t,n){e.min=n.min+t.min,e.max=e.min+fT(t)}function vT(e,t,n){e.min=t.min-n.min,e.max=e.min+fT(t)}function yT(e,t,n){vT(e.x,t.x,n.x),vT(e.y,t.y,n.y)}const bT=()=>({x:{min:0,max:0},y:{min:0,max:0}});function wT(e){return[e("x"),e("y")]}function xT(e){return void 0===e||1===e}function ST(e){let{scale:t,scaleX:n,scaleY:r}=e;return!xT(t)||!xT(n)||!xT(r)}function kT(e){return ST(e)||_T(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function _T(e){return ET(e.x)||ET(e.y)}function ET(e){return e&&"0%"!==e}function TT(e,t,n){return n+t*(e-n)}function CT(e,t,n,r,i){return void 0!==i&&(e=TT(e,i,r)),TT(e,n,r)+t}function NT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=CT(e.min,t,n,r,i),e.max=CT(e.max,t,n,r,i)}function IT(e,t){let{x:n,y:r}=t;NT(e.x,n.translate,n.scale,n.originPoint),NT(e.y,r.translate,r.scale,r.originPoint)}const jT=.999999999999,AT=1.0000000000001;function PT(e,t){e.min=e.min+t,e.max=e.max+t}function RT(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;NT(e,t,n,Q_(e.min,e.max,i),r)}function DT(e,t){RT(e.x,t.x,t.scaleX,t.scale,t.originX),RT(e.y,t.y,t.scaleY,t.scale,t.originY)}function OT(e,t){return dT(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const LT=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null};function MT(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}const VT=(e,t)=>Math.abs(e-t);class FT{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=BT(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=VT(e.x,t.x),r=VT(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=jS;this.history.push({...r,timestamp:i});const{onStart:s,onMove:a}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=UT(t,this.transformPagePoint),NS.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const s=BT("pointercancel"===e.type?this.lastMoveEventInfo:UT(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,s),r&&r(e,s)},!$S(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const s=UT(uT(e),this.transformPagePoint),{point:a}=s,{timestamp:o}=jS;this.history=[{...a,timestamp:o}];const{onSessionStart:l}=t;l&&l(e,BT(s,this.history)),this.removeListeners=rE(hT(this.contextWindow,"pointermove",this.handlePointerMove),hT(this.contextWindow,"pointerup",this.handlePointerUp),hT(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),IS(this.updatePoint)}}function UT(e,t){return t?{point:t(e.point)}:e}function zT(e,t){return{x:e.x-t.x,y:e.y-t.y}}function BT(e,t){let{point:n}=e;return{point:n,delta:zT(n,HT(t)),offset:zT(n,$T(t)),velocity:qT(t,.1)}}function $T(e){return e[0]}function HT(e){return e[e.length-1]}function qT(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=HT(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>eS(t)));)n--;if(!r)return{x:0,y:0};const s=tS(i.timestamp-r.timestamp);if(0===s)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function KT(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function WT(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const GT=.35;function QT(e,t,n){return{min:YT(e,t),max:YT(e,n)}}function YT(e,t){return"number"===typeof e?e:e[t]||0}const XT=new WeakMap;class JT{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new FT(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(uT(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(s=n)||"y"===s?MS[s]?null:(MS[s]=!0,()=>{MS[s]=!1}):MS.x||MS.y?null:(MS.x=MS.y=!0,()=>{MS.x=MS.y=!1}),!this.openDragLock))return;var s;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),wT((e=>{let t=this.getAxisMotionValue(e).get()||0;if(Vk.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=fT(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),i&&NS.postRender((()=>i(e,t))),ok(this.visualElement,"transform");const{animationState:a}=this.visualElement;a&&a.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:s}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:a}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(a),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>wT((e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:LT(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&NS.postRender((()=>i(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!ZT(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=function(e,t,n){let{min:r,max:i}=t;return void 0!==r&&e<r?e=n?Q_(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?Q_(i,e,n.max):Math.min(e,i)),e}(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&MT(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:i,right:s}=t;return{x:KT(e.x,r,s),y:KT(e.y,n,i)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:GT;return!1===e?e=0:!0===e&&(e=GT),{x:QT(e,"left","right"),y:QT(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&wT((e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!MT(e))return!1;const n=e.current;Gx(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=OT(e,n),{scroll:i}=t;return i&&(PT(r.x,i.offset.x),PT(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let s=function(e,t){return{x:WT(e.x,t.x),y:WT(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=dT(e))}return s}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{},l=wT((a=>{if(!ZT(a,t,this.currentDirection))return;let l=o&&o[a]||{};s&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,h={type:"inertia",velocity:n?e[a]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(a,h)}));return Promise.all(l).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return ok(this.visualElement,e),n.start(BE(e,n,0,t,this.visualElement,!1))}stopAnimation(){wT((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){wT((e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()}))}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){wT((t=>{const{drag:n}=this.getProps();if(!ZT(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:s}=r.layout.layoutBox[t];i.set(e[t]-Q_(n,s,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!MT(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};wT((e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=fT(e),i=fT(t);return i>r?n=Jx(t.min,t.max-r,e.min):r>i&&(n=Jx(e.min,e.max-i,t.min)),_k(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),wT((t=>{if(!ZT(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:s}=this.constraints[t];n.set(Q_(i,s,r[t]))}))}addListeners(){if(!this.visualElement.current)return;XT.set(this.visualElement,this);const e=hT(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();MT(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),NS.read(t);const i=cT(window,"resize",(()=>this.scalePositionWithinConstraints())),s=n.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(wT((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{i(),e(),r(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:s=GT,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:s,dragMomentum:a}}}function ZT(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const eC=e=>(t,n)=>{e&&NS.postRender((()=>e(t,n)))};const tC=(0,e.createContext)(null);function nC(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const n=(0,e.useContext)(tC);if(null===n)return[!0,null];const{isPresent:r,onExitComplete:i,register:s}=n,a=(0,e.useId)();(0,e.useEffect)((()=>{if(t)return s(a)}),[t]);const o=(0,e.useCallback)((()=>t&&i&&i(a)),[a,i,t]);return!r&&i?[!1,o]:[!0]}const rC=(0,e.createContext)({}),iC=(0,e.createContext)({}),sC={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function aC(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const oC={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!Fk.test(e))return e;e=parseFloat(e)}return`${aC(e,t.target.x)}% ${aC(e,t.target.y)}%`}},lC={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const i=e,s=Zk.parse(e);if(s.length>5)return i;const a=Zk.createTransformer(e),o="number"!==typeof s[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;s[0+o]/=l,s[1+o]/=c;const u=Q_(l,c,.5);return"number"===typeof s[2+o]&&(s[2+o]/=u),"number"===typeof s[3+o]&&(s[3+o]/=u),a(s)}},cC={};class uC extends e.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;!function(e){for(const t in e)cC[t]=e[t],D_(t)&&(cC[t].isCSSVariable=!0)}(dC),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",(()=>{this.safeToRemove()})),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),sC.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,s=n.projection;return s?(s.isPresent=i,r||e.layoutDependency!==t||void 0===t||e.isPresent!==i?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||NS.postRender((()=>{const e=s.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),PS.postRender((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function hC(t){const[n,r]=nC(),i=(0,e.useContext)(rC);return(0,Ox.jsx)(uC,{...t,layoutGroup:i,switchLayoutGroup:(0,e.useContext)(iC),isPresent:n,safeToRemove:r})}const dC={borderRadius:{...oC,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:oC,borderTopRightRadius:oC,borderBottomLeftRadius:oC,borderBottomRightRadius:oC,boxShadow:lC};const fC=(e,t)=>e.depth-t.depth;class pC{constructor(){this.children=[],this.isDirty=!1}add(e){Hx(this.children,e),this.isDirty=!0}remove(e){qx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(fC),this.isDirty=!1,this.children.forEach(e)}}function mC(e,t){const n=LS.now(),r=i=>{let{timestamp:s}=i;const a=s-n;a>=t&&(IS(r),e(a-t))};return NS.read(r,!0),()=>IS(r)}function gC(e){const t=ak(e)?e.get():e;return(e=>Boolean(e&&"object"===typeof e&&e.mix&&e.toValue))(t)?t.toValue():t}const vC=["TopLeft","TopRight","BottomLeft","BottomRight"],yC=vC.length,bC=e=>"string"===typeof e?parseFloat(e):e,wC=e=>"number"===typeof e||Fk.test(e);function xC(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const SC=_C(0,.5,xk),kC=_C(.5,.95,Kx);function _C(e,t,n){return r=>r<e?0:r>t?1:n(Jx(e,t,r))}function EC(e,t){e.min=t.min,e.max=t.max}function TC(e,t){EC(e.x,t.x),EC(e.y,t.y)}function CC(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function NC(e,t,n,r,i){return e=TT(e-=t,1/n,r),void 0!==i&&(e=TT(e,1/i,r)),e}function IC(e,t,n,r,i){let[s,a,o]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;Vk.test(t)&&(t=parseFloat(t),t=Q_(a.min,a.max,t/100)-a.min);if("number"!==typeof t)return;let o=Q_(s.min,s.max,r);e===s&&(o-=t),e.min=NC(e.min,t,n,o,i),e.max=NC(e.max,t,n,o,i)}(e,t[s],t[a],t[o],t.scale,r,i)}const jC=["x","scaleX","originX"],AC=["y","scaleY","originY"];function PC(e,t,n,r){IC(e.x,t,jC,n?n.x:void 0,r?r.x:void 0),IC(e.y,t,AC,n?n.y:void 0,r?r.y:void 0)}function RC(e){return 0===e.translate&&1===e.scale}function DC(e){return RC(e.x)&&RC(e.y)}function OC(e,t){return e.min===t.min&&e.max===t.max}function LC(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function MC(e,t){return LC(e.x,t.x)&&LC(e.y,t.y)}function VC(e){return fT(e.x)/fT(e.y)}function FC(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class UC{constructor(){this.members=[]}add(e){Hx(this.members,e),e.scheduleRender()}remove(e){if(qx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const zC={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},BC=["","X","Y","Z"],$C={visibility:"hidden"};let HC=0;function qC(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function KC(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=uk(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",NS,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&KC(r)}function WC(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:s}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=HC++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,TS.value&&(zC.nodes=zC.calculatedTargetDeltas=zC.calculatedProjections=0),this.nodes.forEach(YC),this.nodes.forEach(rN),this.nodes.forEach(iN),this.nodes.forEach(XC),TS.addProjectionMetrics&&TS.addProjectionMetrics(zC)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new pC)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Zx),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:i,layout:s,visualElement:a}=this.options;if(a&&!a.current&&a.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(s||i)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=mC(r,250),sC.hasAnimatedSinceResize&&(sC.hasAnimatedSinceResize=!1,this.nodes.forEach(nN))}))}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&a&&(i||s)&&this.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n,hasRelativeLayoutChanged:r,layout:i}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const s=this.options.transition||a.getDefaultTransition()||uN,{onLayoutAnimationStart:o,onLayoutAnimationComplete:l}=a.getProps(),c=!this.targetLayout||!MC(this.targetLayout,i),u=!n&&r;if(this.options.layoutRoot||this.resumeFrom||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,u);const e={...hS(s,"layout"),onPlay:o,onComplete:l};(a.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||nN(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,IS(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(sN),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&KC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(ZC);this.isUpdating||this.nodes.forEach(eN),this.isUpdating=!1,this.nodes.forEach(tN),this.nodes.forEach(GC),this.nodes.forEach(QC),this.clearAllSnapshots();const e=LS.now();jS.delta=_k(0,1e3/60,e-jS.timestamp),jS.timestamp=e,jS.isProcessing=!0,AS.update.process(jS),AS.preRender.process(jS),AS.render.process(jS),jS.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,PS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(JC),this.sharedNodes.forEach(aN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,NS.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){NS.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||fT(this.snapshot.measuredBox.x)||fT(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t){const t=i(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!s)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!DC(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&(t||kT(this.latestValues)||i)&&(s(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),fN((r=n).x),fN(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(mN))){const{scroll:e}=this.root;e&&(PT(n.x,e.offset.x),PT(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(TC(n,e),null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:i,options:s}=t;t!==this.root&&i&&s.layoutScroll&&(i.wasRoot&&TC(n,e),PT(n.x,i.offset.x),PT(n.y,i.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};TC(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&DT(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),kT(e.latestValues)&&DT(n,e.latestValues)}return kT(this.latestValues)&&DT(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};TC(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!kT(e.latestValues))continue;ST(e.latestValues)&&e.updateSnapshot();const r={x:{min:0,max:0},y:{min:0,max:0}};TC(r,e.measurePageBox()),PC(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return kT(this.latestValues)&&PC(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==jS.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:i,layoutId:s}=this.options;if(this.layout&&(i||s)){if(this.resolvedRelativeTargetAt=jS.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},yT(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),TC(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var a,o,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a=this.target,o=this.relativeTarget,l=this.relativeParent.target,gT(a.x,o.x,l.x),gT(a.y,o.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):TC(this.target,this.layout.layoutBox),IT(this.target,this.targetDelta)):TC(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},yT(this.relativeTargetOrigin,this.target,e.target),TC(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}TS.value&&zC.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!ST(this.parent.latestValues)&&!_T(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===jS.timestamp&&(r=!1),r)return;const{layout:i,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!s)return;TC(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,o=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let s,a;t.x=t.y=1;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const{visualElement:i}=s.options;i&&i.props.style&&"contents"===i.props.style.display||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&DT(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,IT(e,a)),r&&kT(s.latestValues)&&DT(e,s.latestValues))}t.x<AT&&t.x>jT&&(t.x=1),t.y<AT&&t.y>jT&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(CC(this.prevProjectionDelta.x,this.projectionDelta.x),CC(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),mT(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===a&&this.treeScale.y===o&&FC(this.projectionDelta.x,this.prevProjectionDelta.x)&&FC(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),TS.value&&zC.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var t;if(null===(t=this.options.visualElement)||void 0===t||t.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const a={x:{min:0,max:0},y:{min:0,max:0}},o=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some(cN));let h;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;oN(s.x,e.x,n),oN(s.y,e.y,n),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yT(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){lN(e.x,t.x,n.x,r),lN(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,a,n),h&&function(e,t){return OC(e.x,t.x)&&OC(e.y,t.y)}(this.relativeTarget,h)&&(this.isProjectionDirty=!1),h||(h={x:{min:0,max:0},y:{min:0,max:0}}),TC(h,this.relativeTarget)),o&&(this.animationValues=i,function(e,t,n,r,i,s){i?(e.opacity=Q_(0,void 0!==n.opacity?n.opacity:1,SC(r)),e.opacityExit=Q_(void 0!==t.opacity?t.opacity:1,0,kC(r))):s&&(e.opacity=Q_(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let a=0;a<yC;a++){const i=`border${vC[a]}Radius`;let s=xC(t,i),o=xC(n,i);void 0===s&&void 0===o||(s||(s=0),o||(o=0),0===s||0===o||wC(s)===wC(o)?(e[i]=Math.max(Q_(bC(s),bC(o),r),0),(Vk.test(o)||Vk.test(s))&&(e[i]+="%")):e[i]=o)}(t.rotate||n.rotate)&&(e.rotate=Q_(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(IS(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=NS.update((()=>{sC.hasAnimatedSinceResize=!0,YS.layout++,this.currentAnimation=function(e,t,n){const r=ak(e)?e:ZS(e);return r.start(BE("",r,t,n)),r.animation}(0,1e3,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{YS.layout--},onComplete:()=>{YS.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&pN(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=fT(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=fT(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}TC(t,n),DT(t,i),mT(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new UC);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&qC("z",e,r,this.animationValues);for(let i=0;i<BC.length;i++)qC(`rotate${BC[i]}`,e,r,this.animationValues),qC(`skew${BC[i]}`,e,r,this.animationValues);e.render();for(const i in r)e.setStaticValue(i,r[i]),this.animationValues&&(this.animationValues[i]=r[i]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return $C;const r={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=gC(null===e||void 0===e?void 0:e.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=gC(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!kT(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}const a=s.animationValues||s.latestValues;this.applyTransformsToTarget(),r.transform=function(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,a=(null===n||void 0===n?void 0:n.z)||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:e,rotate:t,rotateX:i,rotateY:s,skewX:a,skewY:o}=n;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),i&&(r+=`rotateX(${i}deg) `),s&&(r+=`rotateY(${s}deg) `),a&&(r+=`skewX(${a}deg) `),o&&(r+=`skewY(${o}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return 1===o&&1===l||(r+=`scale(${o}, ${l})`),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,a),i&&(r.transform=i(a,r.transform));const{x:o,y:l}=this.projectionDelta;r.transformOrigin=`${100*o.origin}% ${100*l.origin}% 0`,s.animationValues?r.opacity=s===this?null!==(n=null!==(t=a.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:r.opacity=s===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0;for(const c in cC){if(void 0===a[c])continue;const{correct:e,applyTo:t,isCSSVariable:n}=cC[c],i="none"===r.transform?a[c]:e(a[c],s);if(t){const e=t.length;for(let n=0;n<e;n++)r[t[n]]=i}else n?this.options.visualElement.renderState.vars[c]=i:r[c]=i}return this.options.layoutId&&(r.pointerEvents=s===this?gC(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(ZC),this.root.sharedNodes.clear()}}}function GC(e){e.updateLayout()}function QC(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;"size"===i?wT((e=>{const r=s?n.measuredBox[e]:n.layoutBox[e],i=fT(r);r.min=t[e].min,r.max=r.min+i})):pN(i,n.layoutBox,t)&&wT((r=>{const i=s?n.measuredBox[r]:n.layoutBox[r],a=fT(t[r]);i.max=i.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+a)}));const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};mT(a,t,n.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};s?mT(o,e.applyTransform(r,!0),n.measuredBox):mT(o,t,n.layoutBox);const l=!DC(a);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:s}=r;if(i&&s){const a={x:{min:0,max:0},y:{min:0,max:0}};yT(a,n.layoutBox,i.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};yT(o,t,s.layoutBox),MC(a,o)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=a,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function YC(e){TS.value&&zC.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function XC(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function JC(e){e.clearSnapshot()}function ZC(e){e.clearMeasurements()}function eN(e){e.isLayoutDirty=!1}function tN(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function nN(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function rN(e){e.resolveTargetDelta()}function iN(e){e.calcProjection()}function sN(e){e.resetSkewAndRotation()}function aN(e){e.removeLeadSnapshot()}function oN(e,t,n){e.translate=Q_(t.translate,0,n),e.scale=Q_(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function lN(e,t,n,r){e.min=Q_(t.min,n.min,r),e.max=Q_(t.max,n.max,r)}function cN(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const uN={duration:.45,ease:[.4,0,.1,1]},hN=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),dN=hN("applewebkit/")&&!hN("chrome/")?Math.round:Kx;function fN(e){e.min=dN(e.min),e.max=dN(e.max)}function pN(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=VC(t),i=VC(n),s=.2,!(Math.abs(r-i)<=s));var r,i,s}function mN(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const gN=WC({attachResizeListener:(e,t)=>cT(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),vN={current:void 0},yN=WC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!vN.current){const e=new gN({});e.mount(window),e.setOptions({layoutScroll:!0}),vN.current=e}return vN.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),bN={pan:{Feature:class extends aT{constructor(){super(...arguments),this.removePointerDownListener=Kx}onPointerDown(e){this.session=new FT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:LT(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:eC(e),onStart:eC(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&NS.postRender((()=>r(e,t)))}}}mount(){this.removePointerDownListener=hT(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends aT{constructor(e){super(e),this.removeGroupControls=Kx,this.removeListeners=Kx,this.controls=new JT(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Kx}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:yN,MeasureLayout:hC}};function wN(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const i=r["onHover"+n];i&&NS.postRender((()=>i(t,uT(t))))}function xN(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const i=r["onTap"+("End"===n?"":n)];i&&NS.postRender((()=>i(t,uT(t))))}const SN=new WeakMap,kN=new WeakMap,_N=e=>{const t=SN.get(e.target);t&&t(e)},EN=e=>{e.forEach(_N)};function TN(e,t,n){const r=function(e){let{root:t,...n}=e;const r=t||document;kN.has(r)||kN.set(r,{});const i=kN.get(r),s=JSON.stringify(n);return i[s]||(i[s]=new IntersectionObserver(EN,{root:t,...n})),i[s]}(t);return SN.set(e,n),r.observe(e),()=>{SN.delete(e),r.unobserve(e)}}const CN={some:0,all:1};const NN={inView:{Feature:class extends aT{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:CN[r]};return TN(this.node.current,s,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),s=t?n:r;s&&s(e)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends aT{mount(){const{current:e}=this.node;e&&(this.unmount=QS(e,((e,t)=>(xN(this.node,t,"Start"),(e,t)=>{let{success:n}=t;return xN(this.node,e,n?"End":"Cancel")})),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends aT{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(Rx){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=rE(cT(this.node.current,"focus",(()=>this.onFocus())),cT(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends aT{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,i,s]=FS(e,n),a=e=>{if(!US(e))return;const{target:n}=e,r=t(n,e);if("function"!==typeof r||!n)return;const s=e=>{US(e)&&(r(e),n.removeEventListener("pointerleave",s))};n.addEventListener("pointerleave",s,i)};return r.forEach((e=>{e.addEventListener("pointerenter",a,i)})),s}(e,((e,t)=>(wN(this.node,t,"Start"),e=>wN(this.node,e,"End")))))}unmount(){}}}},IN={layout:{ProjectionNode:yN,MeasureLayout:hC}},jN=(0,e.createContext)({strict:!1}),AN=(0,e.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),PN=(0,e.createContext)({});function RN(e){return iS(e.animate)||YE.some((t=>GE(e[t])))}function DN(e){return Boolean(RN(e)||e.variants)}function ON(t){const{initial:n,animate:r}=function(e,t){if(RN(e)){const{initial:t,animate:n}=e;return{initial:!1===t||GE(t)?t:void 0,animate:GE(n)?n:void 0}}return!1!==e.inherit?t:{}}(t,(0,e.useContext)(PN));return(0,e.useMemo)((()=>({initial:n,animate:r})),[LN(n),LN(r)])}function LN(e){return Array.isArray(e)?e.join(" "):e}const MN="undefined"!==typeof window,VN={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},FN={};for(const n in VN)FN[n]={isEnabled:e=>VN[n].some((t=>!!e[t]))};const UN=Symbol.for("motionComponentSymbol");function zN(t,n,r){return(0,e.useCallback)((e=>{e&&t.onMount&&t.onMount(e),n&&(e?n.mount(e):n.unmount()),r&&("function"===typeof r?r(e):MT(r)&&(r.current=e))}),[n])}const BN=MN?e.useLayoutEffect:e.useEffect;function $N(t,n,r,i,s){var a,o;const{visualElement:l}=(0,e.useContext)(PN),c=(0,e.useContext)(jN),u=(0,e.useContext)(tC),h=(0,e.useContext)(AN).reducedMotion,d=(0,e.useRef)(null);i=i||c.renderer,!d.current&&i&&(d.current=i(t,{visualState:n,parent:l,props:r,presenceContext:u,blockInitialAnimation:!!u&&!1===u.initial,reducedMotionConfig:h}));const f=d.current,p=(0,e.useContext)(iC);!f||f.projection||!s||"html"!==f.type&&"svg"!==f.type||function(e,t,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:HN(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:Boolean(a)||o&&MT(o),visualElement:e,animationType:"string"===typeof s?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}(d.current,r,s,p);const m=(0,e.useRef)(!1);(0,e.useInsertionEffect)((()=>{f&&m.current&&f.update(r,u)}));const g=r[ck],v=(0,e.useRef)(Boolean(g)&&!(null===(a=window.MotionHandoffIsComplete)||void 0===a?void 0:a.call(window,g))&&(null===(o=window.MotionHasOptimisedAnimation)||void 0===o?void 0:o.call(window,g)));return BN((()=>{f&&(m.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),PS.render(f.render),v.current&&f.animationState&&f.animationState.animateChanges())})),(0,e.useEffect)((()=>{f&&(!v.current&&f.animationState&&f.animationState.animateChanges(),v.current&&(queueMicrotask((()=>{var e;null===(e=window.MotionHandoffMarkAsComplete)||void 0===e||e.call(window,g)})),v.current=!1))})),f}function HN(e){if(e)return!1!==e.options.allowProjection?e.projection:HN(e.parent)}function qN(t){let{preloadedFeatures:n,createVisualElement:r,useRender:i,useVisualState:s,Component:a}=t;var o,l;function c(t,n){let o;const l={...(0,e.useContext)(AN),...t,layoutId:KN(t)},{isStatic:c}=l,u=ON(t),h=s(t,c);if(!c&&MN){!function(){(0,e.useContext)(jN).strict;0}();const t=function(e){const{drag:t,layout:n}=FN;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:(null===t||void 0===t?void 0:t.isEnabled(e))||(null===n||void 0===n?void 0:n.isEnabled(e))?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(l);o=t.MeasureLayout,u.visualElement=$N(a,h,l,r,t.ProjectionNode)}return(0,Ox.jsxs)(PN.Provider,{value:u,children:[o&&u.visualElement?(0,Ox.jsx)(o,{visualElement:u.visualElement,...l}):null,i(a,t,zN(h,u.visualElement,n),h,c,u.visualElement)]})}n&&function(e){for(const t in e)FN[t]={...FN[t],...e[t]}}(n),c.displayName=`motion.${"string"===typeof a?a:`create(${null!==(l=null!==(o=a.displayName)&&void 0!==o?o:a.name)&&void 0!==l?l:""})`}`;const u=(0,e.forwardRef)(c);return u[UN]=a,u}function KN(t){let{layoutId:n}=t;const r=(0,e.useContext)(rC).id;return r&&void 0!==n?r+"-"+n:n}function WN(e,t){let{layout:n,layoutId:r}=t;return tk.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!cC[e]||"opacity"===e)}const GN=(e,t)=>t&&"number"===typeof e?t.transform(e):e,QN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},YN=ek.length;function XN(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let a=!1,o=!1;for(const l in t){const e=t[l];if(tk.has(l))a=!0;else if(D_(l))i[l]=e;else{const t=GN(e,o_[l]);l.startsWith("origin")?(o=!0,s[l]=t):r[l]=t}}if(t.transform||(a||n?r.transform=function(e,t,n){let r="",i=!0;for(let s=0;s<YN;s++){const a=ek[s],o=e[a];if(void 0===o)continue;let l=!0;if(l="number"===typeof o?o===(a.startsWith("scale")?1:0):0===parseFloat(o),!l||n){const e=GN(o,o_[a]);l||(i=!1,r+=`${QN[a]||a}(${e}) `),n&&(t[a]=e)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),o){const{originX:e="50%",originY:t="50%",originZ:n=0}=s;r.transformOrigin=`${e} ${t} ${n}`}}const JN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ZN(e,t,n){for(const r in t)ak(t[r])||WN(r,n)||(e[r]=t[r])}function eI(t,n){const r={};return ZN(r,t.style||{},t),Object.assign(r,function(t,n){let{transformTemplate:r}=t;return(0,e.useMemo)((()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return XN(e,n,r),Object.assign({},e.vars,e.style)}),[n])}(t,n)),r}function tI(e,t){const n={},r=eI(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const nI=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function rI(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||nI.has(e)}let iI=e=>!rI(e);try{(sI=require("@emotion/is-prop-valid").default)&&(iI=e=>e.startsWith("on")?!rI(e):sI(e))}catch(aj){}var sI;const aI=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function oI(e){return"string"===typeof e&&!e.includes("-")&&!!(aI.indexOf(e)>-1||/[A-Z]/u.test(e))}const lI={offset:"stroke-dashoffset",array:"stroke-dasharray"},cI={offset:"strokeDashoffset",array:"strokeDasharray"};function uI(e,t,n){return"string"===typeof e?e:Fk.transform(t+n*e)}function hI(e,t,n,r){let{attrX:i,attrY:s,attrScale:a,originX:o,originY:l,pathLength:c,pathSpacing:u=1,pathOffset:h=0,...d}=t;if(XN(e,d,r),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:f,style:p,dimensions:m}=e;f.transform&&(m&&(p.transform=f.transform),delete f.transform),m&&(void 0!==o||void 0!==l||p.transform)&&(p.transformOrigin=function(e,t,n){return`${uI(t,e.x,e.width)} ${uI(n,e.y,e.height)}`}(m,void 0!==o?o:.5,void 0!==l?l:.5)),void 0!==i&&(f.x=i),void 0!==s&&(f.y=s),void 0!==a&&(f.scale=a),void 0!==c&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const s=i?lI:cI;e[s.offset]=Fk.transform(-r);const a=Fk.transform(t),o=Fk.transform(n);e[s.array]=`${a} ${o}`}(f,c,u,h,!1)}const dI=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),fI=e=>"string"===typeof e&&"svg"===e.toLowerCase();function pI(t,n,r,i){const s=(0,e.useMemo)((()=>{const e={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return hI(e,n,fI(i),t.transformTemplate),{...e.attrs,style:{...e.style}}}),[n]);if(t.style){const e={};ZN(e,t.style,t),s.style={...e,...s.style}}return s}function mI(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(n,r,i,s,a)=>{let{latestValues:o}=s;const l=(oI(n)?pI:tI)(r,o,a,n),c=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"===typeof e.values||(iI(i)||!0===n&&rI(i)||!t&&!rI(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(r,"string"===typeof n,t),u=n!==e.Fragment?{...c,...l,ref:i}:{},{children:h}=r,d=(0,e.useMemo)((()=>ak(h)?h.get():h),[h]);return(0,e.createElement)(n,{...u,children:d})}}function gI(t){const n=(0,e.useRef)(null);return null===n.current&&(n.current=t()),n.current}const vI=t=>(n,r)=>{const i=(0,e.useContext)(PN),s=(0,e.useContext)(tC),a=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:s,onUpdate:a}=e;const o={latestValues:yI(t,n,r,i),renderState:s()};return a&&(o.onMount=e=>a({props:t,current:e,...o}),o.onUpdate=e=>a(e)),o}(t,n,i,s);return r?a():gI(a)};function yI(e,t,n,r){const i={},s=r(e,{});for(const d in s)i[d]=gC(s[d]);let{initial:a,animate:o}=e;const l=RN(e),c=DN(e);t&&c&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===o&&(o=t.animate));let u=!!n&&!1===n.initial;u=u||!1===a;const h=u?o:a;if(h&&"boolean"!==typeof h&&!iS(h)){const t=Array.isArray(h)?h:[h];for(let n=0;n<t.length;n++){const r=aS(e,t[n]);if(r){const{transitionEnd:e,transition:t,...n}=r;for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[u?e.length-1:0]}null!==e&&(i[r]=e)}for(const r in e)i[r]=e[r]}}}return i}function bI(e,t,n){var r;const{style:i}=e,s={};for(const a in i)(ak(i[a])||t.style&&ak(t.style[a])||WN(a,e)||void 0!==(null===(r=null===n||void 0===n?void 0:n.getValue(a))||void 0===r?void 0:r.liveStyle))&&(s[a]=i[a]);return s}const wI={useVisualState:vI({scrapeMotionValuesFromProps:bI,createRenderState:JN})};function xI(e,t){try{t.dimensions="function"===typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(Rx){t.dimensions={x:0,y:0,width:0,height:0}}}function SI(e,t,n,r){let{style:i,vars:s}=t;Object.assign(e.style,i,r&&r.getProjectionStyles(n));for(const a in s)e.style.setProperty(a,s[a])}const kI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function _I(e,t,n,r){SI(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(kI.has(i)?i:lk(i),t.attrs[i])}function EI(e,t,n){const r=bI(e,t,n);for(const i in e)if(ak(e[i])||ak(t[i])){r[-1!==ek.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=e[i]}return r}const TI=["x","y","width","height","cx","cy","r"],CI={useVisualState:vI({scrapeMotionValuesFromProps:EI,createRenderState:dI,onUpdate:e=>{let{props:t,prevProps:n,current:r,renderState:i,latestValues:s}=e;if(!r)return;let a=!!t.drag;if(!a)for(const l in s)if(tk.has(l)){a=!0;break}if(!a)return;let o=!n;if(n)for(let l=0;l<TI.length;l++){const e=TI[l];t[e]!==n[e]&&(o=!0)}o&&NS.read((()=>{xI(r,i),NS.render((()=>{hI(i,s,fI(r.tagName),t.transformTemplate),_I(r,i)}))}))}})};function NI(e,t){return function(n){let{forwardMotionProps:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{forwardMotionProps:!1};return qN({...oI(n)?CI:wI,preloadedFeatures:e,useRender:mI(r),createVisualElement:t,Component:n})}}const II={current:null},jI={current:!1};const AI=[...z_,Hk,Zk],PI=new WeakMap;const RI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class DI{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=A_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=LS.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,NS.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:u}=a;this.onUpdate=u,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=Boolean(s),this.isControllingVariants=RN(n),this.isVariantNode=DN(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const e=d[f];void 0!==l[f]&&ak(e)&&e.set(l[f],!1)}}mount(e){this.current=e,PI.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),jI.current||function(){if(jI.current=!0,MN)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>II.current=e.matches;e.addListener(t),t()}else II.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||II.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),IS(this.notifyUpdate),IS(this.render),this.valueSubscriptions.forEach((e=>e())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=tk.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&NS.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)})),i=t.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,(()=>{r(),i(),s&&s(),t.owner&&t.stop()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in FN){const t=FN[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<RI.length;n++){const t=RI[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const i=t[r],s=n[r];if(ak(i))e.addValue(r,i);else if(ak(s))e.addValue(r,ZS(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(i):t.hasAnimated||t.set(i)}else{const t=e.getStaticValue(r);e.addValue(r,ZS(void 0!==t?t:i,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=ZS(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];return void 0!==r&&null!==r&&("string"===typeof r&&(P_(r)||kk(r))?r=parseFloat(r):!(e=>AI.find(U_(e)))(r)&&Zk.test(t)&&(r=u_(e,t)),this.setBaseTarget(e,ak(r)?r.get():r)),ak(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props;let r;if("string"===typeof n||"object"===typeof n){const i=aS(this.props,n,null===(t=this.presenceContext)||void 0===t?void 0:t.custom);i&&(r=i[e])}if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||ak(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new Zx),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}class OI extends DI{constructor(){super(...arguments),this.KeyframeResolver=$_}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ak(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent=`${e}`)})))}}class LI extends OI{constructor(){super(...arguments),this.type="html",this.renderInstance=SI}readValueFromInstance(e,t){if(tk.has(t))return((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return w_(n,t)})(e,t);{const r=(n=e,window.getComputedStyle(n)),i=(D_(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof i?i.trim():i}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return OT(e,n)}build(e,t,n){XN(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return bI(e,t,n)}}class MI extends OI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=bT,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&xI(this.current,this.renderState)}}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(tk.has(t)){const e=c_(t);return e&&e.default||0}return t=kI.has(t)?t:lk(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return EI(e,t,n)}onBindTransform(){this.current&&!this.renderState.dimensions&&NS.postRender(this.updateDimensions)}build(e,t,n){hI(e,t,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,n,r){_I(e,t,0,r)}mount(e){this.isSVGTag=fI(e.tagName),super.mount(e)}}const VI=(t,n)=>oI(t)?new MI(n):new LI(n,{allowProjection:t!==e.Fragment}),FI=rS(NI({...lT,...NN,...bN,...IN},VI));class UI extends e.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,n=e instanceof HTMLElement&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function zI(t){let{children:n,isPresent:r,anchorX:i}=t;const s=(0,e.useId)(),a=(0,e.useRef)(null),o=(0,e.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=(0,e.useContext)(AN);return(0,e.useInsertionEffect)((()=>{const{width:e,height:t,top:n,left:c,right:u}=o.current;if(r||!a.current||!e||!t)return;const h="left"===i?`left: ${c}`:`right: ${u}`;a.current.dataset.motionPopId=s;const d=document.createElement("style");return l&&(d.nonce=l),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`\n          [data-motion-pop-id="${s}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${t}px !important;\n            ${h}px !important;\n            top: ${n}px !important;\n          }\n        `),()=>{document.head.removeChild(d)}}),[r]),(0,Ox.jsx)(UI,{isPresent:r,childRef:a,sizeRef:o,children:e.cloneElement(n,{ref:a})})}const BI=t=>{let{children:n,initial:r,isPresent:i,onExitComplete:s,custom:a,presenceAffectsLayout:o,mode:l,anchorX:c}=t;const u=gI($I),h=(0,e.useId)(),d=(0,e.useCallback)((e=>{u.set(e,!0);for(const t of u.values())if(!t)return;s&&s()}),[u,s]),f=(0,e.useMemo)((()=>({id:h,initial:r,isPresent:i,custom:a,onExitComplete:d,register:e=>(u.set(e,!1),()=>u.delete(e))})),o?[Math.random(),d]:[i,d]);return(0,e.useMemo)((()=>{u.forEach(((e,t)=>u.set(t,!1)))}),[i]),e.useEffect((()=>{!i&&!u.size&&s&&s()}),[i]),"popLayout"===l&&(n=(0,Ox.jsx)(zI,{isPresent:i,anchorX:c,children:n})),(0,Ox.jsx)(tC.Provider,{value:f,children:n})};function $I(){return new Map}const HI=e=>e.key||"";function qI(t){const n=[];return e.Children.forEach(t,(t=>{(0,e.isValidElement)(t)&&n.push(t)})),n}const KI=t=>{let{children:n,custom:r,initial:i=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:o="sync",propagate:l=!1,anchorX:c="left"}=t;const[u,h]=nC(l),d=(0,e.useMemo)((()=>qI(n)),[n]),f=l&&!u?[]:d.map(HI),p=(0,e.useRef)(!0),m=(0,e.useRef)(d),g=gI((()=>new Map)),[v,y]=(0,e.useState)(d),[b,w]=(0,e.useState)(d);BN((()=>{p.current=!1,m.current=d;for(let e=0;e<b.length;e++){const t=HI(b[e]);f.includes(t)?g.delete(t):!0!==g.get(t)&&g.set(t,!1)}}),[b,f.length,f.join("-")]);const x=[];if(d!==v){let e=[...d];for(let t=0;t<b.length;t++){const n=b[t],r=HI(n);f.includes(r)||(e.splice(t,0,n),x.push(n))}return"wait"===o&&x.length&&(e=x),w(qI(e)),y(d),null}const{forceRender:S}=(0,e.useContext)(rC);return(0,Ox.jsx)(Ox.Fragment,{children:b.map((e=>{const t=HI(e),n=!(l&&!u)&&(d===b||f.includes(t));return(0,Ox.jsx)(BI,{isPresent:n,initial:!(p.current&&!i)&&void 0,custom:r,presenceAffectsLayout:a,mode:o,onExitComplete:n?void 0:()=>{if(!g.has(t))return;g.set(t,!0);let e=!0;g.forEach((t=>{t||(e=!1)})),e&&(null===S||void 0===S||S(),w(m.current),l&&(null===h||void 0===h||h()),s&&s())},anchorX:c,children:e},t)}))})};function WI(e){return mt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"},child:[]}]})(e)}const GI=()=>{var t,n;const[r,i]=(0,e.useState)({fullName:"",email:"",phone:"",address:"",licenseNumber:null,certifications:"",experience:"",serviceAreas:"",tools:"",vehicle:"",governmentId:null,bankDetails:"",pincode:"",street:"",city:"",state:""}),[s,a]=(0,e.useState)(!1),[o,l]=(0,e.useState)(null),[c,u]=(0,e.useState)(null),[h,d]=(0,e.useState)(!1),[f,p]=(0,e.useState)({}),[m,g]=(0,e.useState)(null),[v,y]=(0,e.useState)(!1),[b,w]=(0,e.useState)(!1),[x,S]=(0,e.useState)(!0),[k,_]=(0,e.useState)(1),[E,T]=(0,e.useState)({governmentId:null,licenseNumber:null}),C={pending:{icon:(0,Ox.jsx)(Ct,{className:"status-icon pending"}),title:"Application Under Review",message:"Our team is reviewing your application. We'll notify you once it's approved.",color:"#FFA500",gif:"https://media.giphy.com/media/3o7aTskHEUdgCQAXde/giphy.gif",tips:["Check your email regularly for updates","Ensure your contact information is up-to-date","Prepare any additional documents that might be requested"]},Verified:{icon:(0,Ox.jsx)(Tt,{className:"status-icon approved"}),title:"Application Approved!",message:"Congratulations! Your application has been approved. Welcome to our team!",color:"#4CAF50",gif:"https://media.giphy.com/media/xUOxfjsW9fWPqEWouI/giphy.gif",nextSteps:["Check your email for onboarding instructions","Download our service provider app","Complete your profile setup"]},rejected:{icon:(0,Ox.jsx)(cn,{className:"status-icon rejected"}),title:"Application Needs Revision",message:"We need some additional information. Please check your email for details.",color:"#F44336",gif:"https://media.giphy.com/media/l3V0j3ytFyGHqiV7W/giphy.gif",actions:["Review the feedback provided","Update your documents if needed","Resubmit your application"]}},N=(0,e.useCallback)((async e=>{if(!e)return!1;try{const t=Hb(ib(Px,"serviceAgents"),Kb("userId","==",e)),n=await sw(t);if(!n.empty){const e=n.docs[0];return l(e.data().status),u(e.id),i((t=>({...t,fullName:e.data().fullName||"",email:e.data().email||"",phone:e.data().phone||"",address:e.data().address||""}))),!0}return!1}catch(t){return console.error("Error checking existing application:",t),!1}}),[]),I=(0,e.useCallback)((async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(m)try{const n=sb(Px,"users",m.uid),r=await function(e){e=Yy(e,nb);const t=Yy(e.firestore,cb);return By(ub(t),e._key).then((n=>uw(t,e,n)))}(n),i={type:e,timestamp:(new Date).toISOString(),...t};r.exists()?await aw(n,{actions:[...r.data().actions||[],i],updatedAt:(new Date).toISOString()},{merge:!0}):await aw(n,{actions:[i],createdAt:(new Date).toISOString()})}catch(n){console.error("Error tracking user action: ",n)}}),[m]),j=(0,e.useCallback)((e=>{const t=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,a;e=Fn(e);let o={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||lb(n[l])||(o=n[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(lb(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let u,h,d;if(e instanceof nb)h=Yy(e.firestore,cb),d=cd(e._key.path),u={next:t=>{n[l]&&n[l](uw(h,e,t))},error:n[l+1],complete:n[l+2]};else{const t=Yy(e,tb);h=Yy(t.firestore,cb),d=t._query;const r=new iw(h);u={next:e=>{n[l]&&n[l](new nw(h,r,t,e))},error:n[l+1],complete:n[l+2]},zb(e._query)}return function(e,t,n,r){const i=new Ry(r),s=new Jv(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>qv(await zy(e),s))),()=>{i.su(),e.asyncQueue.enqueueAndForget((async()=>Kv(await zy(e),s)))}}(ub(h),d,c,u)}(sb(Px,"serviceAgents",e),(e=>{e.exists()&&(l(e.data().status),u(e.id),w(!0),m&&I("application_status_change",{status:e.data().status,applicationId:e.id}))}));return t}),[m,I]);(0,e.useEffect)((()=>{const e=Ax.onAuthStateChanged((async e=>{if(S(!0),e){g(e),i((t=>({...t,email:e.email})));const t=await N(e.uid);if(w(t),t){const t=Hb(ib(Px,"serviceAgents"),Kb("userId","==",e.uid)),n=await sw(t);if(!n.empty){const e=n.docs[0].id;j(e)}}}else g(null),l(null),u(null),w(!1);S(!1)}));return()=>e()}),[N,j]);const A=e=>{const{name:t,value:n}=e.target;i({...r,[t]:n}),f[t]&&p({...f,[t]:null})},P=e=>{const{name:t,files:n}=e.target;if(!n||0===n.length)return void p({...f,[t]:"Please select a file"});const s=n[0];if(["image/jpeg","image/png","application/pdf"].includes(s.type))if(s.size>5242880)p({...f,[t]:"File size must be less than 5MB"});else{if(s.type.includes("image")){const e=new FileReader;e.onload=e=>{T((n=>({...n,[t]:e.target.result})))},e.readAsDataURL(s)}else T((e=>({...e,[t]:null})));i({...r,[t]:s}),f[t]&&p({...f,[t]:null})}else p({...f,[t]:"Please upload a JPG, PNG, or PDF file"})},R=async(e,t)=>{try{if(!e||!t)throw new Error("No file selected");const i=t.replace(/[^a-zA-Z0-9._-]/g,"_"),s=(n=Dx,r=`documents/${Date.now()}_${i}`,Sx(n=Fn(n),r)),a={contentType:e.type};return await function(e,t,n){return yx(e=Fn(e),t,n)}(s,e,a),await function(e){return bx(e=Fn(e))}(s)}catch(i){throw console.error("Error uploading file:",i),i}var n,r},D=()=>{a(!1),I("notification_dismissed")},O=()=>{w(!1),l(null),u(null),i({fullName:"",email:(null===m||void 0===m?void 0:m.email)||"",phone:"",address:"",licenseNumber:null,certifications:"",experience:"",serviceAreas:"",tools:"",vehicle:"",governmentId:null,bankDetails:"",pincode:"",street:"",city:"",state:""}),T({governmentId:null,licenseNumber:null}),_(1)},L=()=>{k<4&&_(k+1)},M=()=>{k>1&&_(k-1)};if(x)return(0,Ox.jsxs)("div",{className:"loading-container",children:[(0,Ox.jsx)("div",{className:"loading-spinner",children:(0,Ox.jsx)(rn,{className:"spin"})}),(0,Ox.jsx)("p",{children:"Checking your application status..."})]});if(b&&o){const e=C[o]||C.pending;return(0,Ox.jsx)("div",{className:"status-container",children:(0,Ox.jsxs)(FI.div,{className:"status-content",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},children:[(0,Ox.jsx)("div",{className:"status-animation",children:(0,Ox.jsx)("img",{src:e.gif,alt:"Application status",className:"status-image"})}),(0,Ox.jsxs)("div",{className:"status-header",children:[e.icon,(0,Ox.jsx)("h2",{style:{color:e.color},children:e.title})]}),(0,Ox.jsx)("p",{className:"status-message",children:e.message}),(0,Ox.jsxs)("div",{className:"status-details-card",children:[(0,Ox.jsxs)("div",{className:"detail-item",children:[(0,Ox.jsx)("span",{className:"detail-label",children:"Application ID:"}),(0,Ox.jsx)("span",{className:"detail-value",children:c})]}),(0,Ox.jsxs)("div",{className:"detail-item",children:[(0,Ox.jsx)("span",{className:"detail-label",children:"Name:"}),(0,Ox.jsx)("span",{className:"detail-value",children:r.fullName||"Not provided"})]}),(0,Ox.jsxs)("div",{className:"detail-item",children:[(0,Ox.jsx)("span",{className:"detail-label",children:"Submitted On:"}),(0,Ox.jsx)("span",{className:"detail-value",children:(new Date).toLocaleDateString()})]})]}),(e.tips||e.nextSteps||e.actions)&&(0,Ox.jsxs)("div",{className:"status-advice",children:[(0,Ox.jsxs)("h4",{children:[(0,Ox.jsx)(Ft,{})," ","approved"===o?"Next Steps":"rejected"===o?"Recommended Actions":"Tips While You Wait"]}),(0,Ox.jsx)("ul",{children:(e.tips||e.nextSteps||e.actions).map(((e,t)=>(0,Ox.jsx)("li",{children:e},t)))})]}),(0,Ox.jsxs)("div",{className:"status-actions",children:[(0,Ox.jsxs)("button",{className:"contact-button",onClick:()=>I("support_contact_clicked"),children:[(0,Ox.jsx)(It,{})," Contact Support"]}),"rejected"===o&&(0,Ox.jsxs)("button",{className:"new-application-button",onClick:O,children:[(0,Ox.jsx)(cn,{})," Submit Revised Application"]})]})]})})}return(0,Ox.jsxs)("div",{className:"registration-container",children:[(0,Ox.jsx)(KI,{children:s&&(0,Ox.jsx)(FI.div,{className:"notification-popup",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:(0,Ox.jsxs)("div",{className:"notification-content",children:[(0,Ox.jsx)("button",{className:"close-notification",onClick:D,children:(0,Ox.jsx)(WI,{})}),(0,Ox.jsx)("div",{className:"notification-animation",children:(0,Ox.jsx)("img",{src:"https://media.giphy.com/media/3o7aTskHEUdgCQAXde/giphy.gif",alt:"Application in process"})}),(0,Ox.jsxs)("div",{className:"notification-text",children:[(0,Ox.jsxs)("h3",{children:["Application Submitted! ",(0,Ox.jsx)(nn,{})]}),(0,Ox.jsx)("p",{children:"We've received your application and will review it shortly."}),(0,Ox.jsx)("p",{children:"You'll receive an email confirmation and can check back here for updates."})]}),(0,Ox.jsx)("button",{className:"notification-button",onClick:D,children:"Got It!"})]})})}),(0,Ox.jsx)("div",{className:"registration-hero",children:(0,Ox.jsxs)("div",{className:"hero-content",children:[(0,Ox.jsxs)(FI.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:["Join Our ",(0,Ox.jsx)("span",{children:"Professional Network"})]}),(0,Ox.jsx)(FI.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:"Become a trusted service provider and grow your business with us"}),(0,Ox.jsxs)("div",{className:"benefits-grid",children:[(0,Ox.jsxs)(FI.div,{className:"benefit-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[(0,Ox.jsx)("div",{className:"benefit-icon",children:(0,Ox.jsx)(Kt,{})}),(0,Ox.jsx)("h4",{children:"Competitive Earnings"}),(0,Ox.jsx)("p",{children:"Keep more of what you earn with our favorable commission structure"})]}),(0,Ox.jsxs)(FI.div,{className:"benefit-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[(0,Ox.jsx)("div",{className:"benefit-icon",children:(0,Ox.jsx)(xt,{})}),(0,Ox.jsx)("h4",{children:"Flexible Schedule"}),(0,Ox.jsx)("p",{children:"Work when you want and manage your own availability"})]}),(0,Ox.jsxs)(FI.div,{className:"benefit-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:[(0,Ox.jsx)("div",{className:"benefit-icon",children:(0,Ox.jsx)(Ot,{})}),(0,Ox.jsx)("h4",{children:"Verified Customers"}),(0,Ox.jsx)("p",{children:"Get connected with pre-screened customers in your area"})]}),(0,Ox.jsxs)(FI.div,{className:"benefit-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:[(0,Ox.jsx)("div",{className:"benefit-icon",children:(0,Ox.jsx)(Jt,{})}),(0,Ox.jsx)("h4",{children:"Insurance Coverage"}),(0,Ox.jsx)("p",{children:"Protection for you and your work with our liability coverage"})]})]})]})}),(0,Ox.jsx)("div",{className:"registration-form-container",children:(0,Ox.jsxs)(FI.div,{className:"registration-form",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,Ox.jsxs)("div",{className:"form-header",children:[(0,Ox.jsxs)("h2",{children:[(0,Ox.jsx)(Vt,{})," Service Provider Application",(0,Ox.jsxs)("span",{className:"step-indicator",children:["Step ",k," of 4"]})]}),m&&(0,Ox.jsxs)("p",{className:"user-welcome",children:["Welcome back, ",(0,Ox.jsx)("strong",{children:m.displayName||m.email.split("@")[0]}),"! We've pre-filled your details where possible."]})]}),(0,Ox.jsx)("div",{className:"progress-bar",children:(0,Ox.jsx)("div",{className:"progress",style:{width:k/4*100+"%"}})}),(0,Ox.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return r.fullName.trim()||(e.fullName="Full name is required"),r.email.trim()?/^\S+@\S+\.\S+$/.test(r.email)||(e.email="Invalid email format"):e.email="Email is required",r.phone.trim()||(e.phone="Phone number is required"),r.address.trim()||(e.address="Address is required"),r.governmentId||(e.governmentId="Government ID is required"),r.licenseNumber||(e.licenseNumber="License is required"),p(e),0===Object.keys(e).length})()&&!v){y(!0),p({...f,submit:""});try{var t,n;if(I("application_submission_started"),!r.governmentId||!r.licenseNumber)throw new Error("Please upload all required documents");const[e,i]=await Promise.all([R(r.governmentId,null===(t=r.governmentId)||void 0===t?void 0:t.name),R(r.licenseNumber,null===(n=r.licenseNumber)||void 0===n?void 0:n.name)]),s=await lw(ib(Px,"serviceAgents"),{...r,licenseNumber:i,governmentId:e,status:"pending",submittedAt:(new Date).toISOString(),userId:m?m.uid:null,userEmail:r.email});j(s.id),I("application_submitted",{applicationId:s.id,submissionTime:(new Date).toISOString()}),a(!0),w(!0)}catch(i){console.error("Error submitting application:",i),I("application_submission_failed",{error:i.message}),p({...f,submit:`Error submitting registration: ${i.message}`})}finally{y(!1)}}},className:"animated-form",children:[1===k&&(0,Ox.jsxs)(FI.div,{className:"form-step",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},children:[(0,Ox.jsxs)("h3",{children:[(0,Ox.jsx)(fn,{})," Personal Information"]}),(0,Ox.jsxs)("div",{className:"form-row",children:[(0,Ox.jsxs)("div",{className:"form-group "+(f.fullName?"has-error":""),children:[(0,Ox.jsx)("label",{children:"Full Name *"}),(0,Ox.jsx)("input",{type:"text",name:"fullName",value:r.fullName,onChange:A,placeholder:"John Doe"}),f.fullName&&(0,Ox.jsx)("span",{className:"error",children:f.fullName})]}),(0,Ox.jsxs)("div",{className:"form-group "+(f.email?"has-error":""),children:[(0,Ox.jsx)("label",{children:"Email *"}),(0,Ox.jsx)("input",{type:"email",name:"email",value:r.email,onChange:A,placeholder:"john@example.com",disabled:m}),f.email&&(0,Ox.jsx)("span",{className:"error",children:f.email})]})]}),(0,Ox.jsx)("div",{className:"form-row",children:(0,Ox.jsxs)("div",{className:"form-group "+(f.phone?"has-error":""),children:[(0,Ox.jsxs)("label",{children:[(0,Ox.jsx)(Wt,{})," Phone Number *"]}),(0,Ox.jsx)("input",{type:"tel",name:"phone",value:r.phone,onChange:A,placeholder:"+1 234 567 8900"}),f.phone&&(0,Ox.jsx)("span",{className:"error",children:f.phone})]})}),(0,Ox.jsxs)("div",{className:"location-section",children:[(0,Ox.jsx)("button",{type:"button",className:"location-button",onClick:()=>{d(!0),I("location_access_requested"),navigator.geolocation?navigator.geolocation.getCurrentPosition((e=>{const{latitude:t,longitude:n}=e.coords;I("location_access_granted",{latitude:t,longitude:n}),(async(e,t)=>{try{const a=await fetch(`https://maps.googleapis.com/maps/api/geocode/json?latlng=${e},${t}&key=YOUR_GOOGLE_MAPS_API_KEY`),o=await a.json();if(o.results&&o.results.length>0){var n,r,s;const e=o.results[0].address_components,t=o.results[0].formatted_address,a=null===(n=e.find((e=>e.types.includes("postal_code"))))||void 0===n?void 0:n.long_name,l=null===(r=e.find((e=>e.types.includes("locality"))))||void 0===r?void 0:r.long_name,c=null===(s=e.find((e=>e.types.includes("administrative_area_level_1"))))||void 0===s?void 0:s.long_name;i((e=>({...e,address:t,pincode:a||"",city:l||"",state:c||""})))}}catch(a){console.error("Error fetching address: ",a),p({...f,location:"Failed to fetch location. Please enter manually."})}finally{d(!1)}})(t,n)}),(e=>{console.error("Error fetching location: ",e),I("location_access_denied",{error:e.message}),p({...f,location:"Location access denied. Please enter manually."}),d(!1)})):(I("location_access_unsupported"),p({...f,location:"Geolocation is not supported by this browser."}),d(!1))},disabled:h,children:h?(0,Ox.jsxs)(Ox.Fragment,{children:[(0,Ox.jsx)(rn,{className:"spin"})," Detecting Location..."]}):(0,Ox.jsxs)(Ox.Fragment,{children:[(0,Ox.jsx)($t,{})," Use Current Location"]})}),(0,Ox.jsx)("span",{className:"or-text",children:"or"}),(0,Ox.jsx)("span",{className:"manual-text",children:"Enter manually below"}),f.location&&(0,Ox.jsx)("span",{className:"error",children:f.location})]}),(0,Ox.jsxs)("div",{className:"form-group "+(f.address?"has-error":""),children:[(0,Ox.jsxs)("label",{children:[(0,Ox.jsx)(Mt,{})," Address *"]}),(0,Ox.jsx)("input",{type:"text",name:"address",value:r.address,onChange:A,placeholder:"123 Main Street"}),f.address&&(0,Ox.jsx)("span",{className:"error",children:f.address})]}),(0,Ox.jsxs)("div",{className:"form-row",children:[(0,Ox.jsxs)("div",{className:"form-group",children:[(0,Ox.jsx)("label",{children:"Pincode"}),(0,Ox.jsx)("input",{type:"text",name:"pincode",value:r.pincode,onChange:A,placeholder:"123456"})]}),(0,Ox.jsxs)("div",{className:"form-group",children:[(0,Ox.jsx)("label",{children:"City"}),(0,Ox.jsx)("input",{type:"text",name:"city",value:r.city,onChange:A,placeholder:"New York"})]})]}),(0,Ox.jsxs)("div",{className:"form-row",children:[(0,Ox.jsxs)("div",{className:"form-group",children:[(0,Ox.jsx)("label",{children:"State"}),(0,Ox.jsx)("input",{type:"text",name:"state",value:r.state,onChange:A,placeholder:"New York"})]}),(0,Ox.jsxs)("div",{className:"form-group",children:[(0,Ox.jsx)("label",{children:"Street"}),(0,Ox.jsx)("input",{type:"text",name:"street",value:r.street,onChange:A,placeholder:"Main Street"})]})]}),(0,Ox.jsx)("div",{className:"form-navigation",children:(0,Ox.jsxs)("button",{type:"button",className:"next-button",onClick:L,children:["Next: Professional Details ",(0,Ox.jsx)(wt,{})]})})]}),2===k&&(0,Ox.jsxs)(FI.div,{className:"form-step",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},children:[(0,Ox.jsxs)("h3",{children:[(0,Ox.jsx)(wt,{})," Professional Information"]}),(0,Ox.jsxs)("div",{className:"form-row",children:[(0,Ox.jsxs)("div",{className:"form-group "+(f.licenseNumber?"has-error":""),children:[(0,Ox.jsxs)("label",{children:[(0,Ox.jsx)(kt,{})," License Number *"]}),(0,Ox.jsx)("input",{type:"text",name:"licenseNumber",onChange:A,placeholder:"LIC-123456"}),f.licenseNumber&&(0,Ox.jsx)("span",{className:"error",children:f.licenseNumber})]}),(0,Ox.jsxs)("div",{className:"form-group",children:[(0,Ox.jsxs)("label",{children:[(0,Ox.jsx)(kt,{})," Certifications"]}),(0,Ox.jsx)("input",{type:"text",name:"certifications",value:r.certifications,onChange:A,placeholder:"Certified Electrician, etc."})]})]}),(0,Ox.jsxs)("div",{className:"form-row",children:[(0,Ox.jsxs)("div",{className:"form-group",children:[(0,Ox.jsxs)("label",{children:[(0,Ox.jsx)(wt,{})," Years of Experience *"]}),(0,Ox.jsx)("input",{type:"number",name:"experience",value:r.experience,onChange:A,placeholder:"5",min:"0",required:!0})]}),(0,Ox.jsxs)("div",{className:"form-group",children:[(0,Ox.jsxs)("label",{children:[(0,Ox.jsx)(Bt,{})," Service Areas *"]}),(0,Ox.jsx)("input",{type:"text",name:"serviceAreas",value:r.serviceAreas,onChange:A,placeholder:"Areas you serve (comma separated)",required:!0})]})]}),(0,Ox.jsxs)("div",{className:"form-row",children:[(0,Ox.jsxs)("div",{className:"form-group",children:[(0,Ox.jsxs)("label",{children:[(0,Ox.jsx)(cn,{})," Tools You Own"]}),(0,Ox.jsx)("input",{type:"text",name:"tools",value:r.tools,onChange:A,placeholder:"List your tools"})]}),(0,Ox.jsxs)("div",{className:"form-group",children:[(0,Ox.jsxs)("label",{children:[(0,Ox.jsx)(St,{})," Vehicle"]}),(0,Ox.jsx)("input",{type:"text",name:"vehicle",value:r.vehicle,onChange:A,placeholder:"Vehicle details if applicable"})]})]}),(0,Ox.jsxs)("div",{className:"form-navigation",children:[(0,Ox.jsxs)("button",{type:"button",className:"back-button",onClick:M,children:[(0,Ox.jsx)(fn,{})," Back to Personal Info"]}),(0,Ox.jsxs)("button",{type:"button",className:"next-button",onClick:L,children:["Next: Document Upload ",(0,Ox.jsx)(hn,{})]})]})]}),3===k&&(0,Ox.jsxs)(FI.div,{className:"form-step",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},children:[(0,Ox.jsxs)("h3",{children:[(0,Ox.jsx)(hn,{})," Document Verification"]}),(0,Ox.jsx)("p",{className:"section-description",children:"Upload clear photos or scans of your documents. These will be used to verify your identity and qualifications."}),(0,Ox.jsxs)("div",{className:"document-upload-section",children:[(0,Ox.jsxs)("div",{className:"form-group file-upload "+(f.governmentId?"has-error":""),children:[(0,Ox.jsx)("label",{children:"Government ID *"}),(0,Ox.jsx)("p",{className:"field-description",children:"(Passport, Driver's License, etc.)"}),(0,Ox.jsxs)("label",{className:"upload-box",children:[(0,Ox.jsx)("input",{type:"file",name:"governmentId",onChange:P,accept:"image/*,.pdf",className:"file-input"}),(0,Ox.jsx)("div",{className:"upload-content",children:E.governmentId?(0,Ox.jsxs)(Ox.Fragment,{children:[(0,Ox.jsx)("div",{className:"document-preview",children:(0,Ox.jsx)("img",{src:E.governmentId,alt:"Government ID preview"})}),(0,Ox.jsx)("p",{className:"file-name",children:null===(t=r.governmentId)||void 0===t?void 0:t.name})]}):(0,Ox.jsxs)(Ox.Fragment,{children:[(0,Ox.jsx)("div",{className:"upload-icon",children:(0,Ox.jsx)(hn,{})}),(0,Ox.jsx)("p",{className:"upload-text",children:"Click to upload"}),(0,Ox.jsx)("p",{className:"file-requirements",children:"JPG, PNG or PDF (max 5MB)"})]})})]}),f.governmentId&&(0,Ox.jsx)("span",{className:"error",children:f.governmentId})]}),(0,Ox.jsxs)("div",{className:"form-group file-upload "+(f.licenseNumber?"has-error":""),children:[(0,Ox.jsx)("label",{children:"Professional License *"}),(0,Ox.jsx)("p",{className:"field-description",children:"(Trade license, certification, etc.)"}),(0,Ox.jsxs)("label",{className:"upload-box",children:[(0,Ox.jsx)("input",{type:"file",name:"licenseNumber",onChange:P,accept:"image/*,.pdf",className:"file-input"}),(0,Ox.jsx)("div",{className:"upload-content",children:E.licenseNumber?(0,Ox.jsxs)(Ox.Fragment,{children:[(0,Ox.jsx)("div",{className:"document-preview",children:(0,Ox.jsx)("img",{src:E.licenseNumber,alt:"License preview"})}),(0,Ox.jsx)("p",{className:"file-name",children:null===(n=r.licenseNumber)||void 0===n?void 0:n.name})]}):(0,Ox.jsxs)(Ox.Fragment,{children:[(0,Ox.jsx)("div",{className:"upload-icon",children:(0,Ox.jsx)(hn,{})}),(0,Ox.jsx)("p",{className:"upload-text",children:"Click to upload"}),(0,Ox.jsx)("p",{className:"file-requirements",children:"JPG, PNG or PDF (max 5MB)"})]})})]}),f.licenseNumber&&(0,Ox.jsx)("span",{className:"error",children:f.licenseNumber})]})]}),(0,Ox.jsxs)("div",{className:"form-navigation",children:[(0,Ox.jsxs)("button",{type:"button",className:"back-button",onClick:M,children:[(0,Ox.jsx)(wt,{})," Back to Professional Info"]}),(0,Ox.jsxs)("button",{type:"button",className:"next-button",onClick:L,children:["Next: Payment Details ",(0,Ox.jsx)(Kt,{})]})]})]}),4===k&&(0,Ox.jsxs)(FI.div,{className:"form-step",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},children:[(0,Ox.jsxs)("h3",{children:[(0,Ox.jsx)(Kt,{})," Payment Information"]}),(0,Ox.jsx)("p",{className:"section-description",children:"Provide your payment details to receive earnings from completed jobs."}),(0,Ox.jsxs)("div",{className:"form-group",children:[(0,Ox.jsx)("label",{children:"Bank Account Details *"}),(0,Ox.jsx)("input",{type:"text",name:"bankDetails",value:r.bankDetails,onChange:A,placeholder:"Account number, bank name, etc.",required:!0}),(0,Ox.jsx)("p",{className:"field-hint",children:"We use this information to transfer your earnings securely"})]}),(0,Ox.jsxs)("div",{className:"privacy-agreement",children:[(0,Ox.jsx)("input",{type:"checkbox",id:"agree-terms",required:!0}),(0,Ox.jsx)("label",{htmlFor:"agree-terms",children:"I agree to the Terms of Service and Privacy Policy, and confirm that all information provided is accurate."})]}),f.submit&&(0,Ox.jsxs)("div",{className:"form-error",children:[(0,Ox.jsx)(cn,{})," ",f.submit]}),(0,Ox.jsxs)("div",{className:"form-navigation",children:[(0,Ox.jsxs)("button",{type:"button",className:"back-button",onClick:M,children:[(0,Ox.jsx)(hn,{})," Back to Documents"]}),(0,Ox.jsx)("button",{type:"submit",className:"submit-button",disabled:v,children:v?(0,Ox.jsxs)(Ox.Fragment,{children:[(0,Ox.jsx)(rn,{className:"spin"})," Submitting..."]}):(0,Ox.jsxs)(Ox.Fragment,{children:[(0,Ox.jsx)(Et,{})," Submit Application"]})})]})]})]})]})})]})},QI=()=>{const[t,n]=(0,e.useState)(null),[r,i]=(0,e.useState)([]),[s,a]=(0,e.useState)([]);return(0,e.useEffect)((()=>{const e=Ax.currentUser;if(e){n({email:e.email,uid:e.uid});const t=async()=>{const t=Hb(ib(Px,"bookings"),Kb("userId","==",e.uid)),n=(await sw(t)).docs.map((e=>({id:e.id,...e.data()})));i(n)},r=async()=>{const t=Hb(ib(Px,"services"),Kb("userId","==",e.uid)),n=(await sw(t)).docs.map((e=>({id:e.id,...e.data()})));a(n)};t(),r()}}),[]),t?(0,Ox.jsxs)("div",{className:"profile-container",children:[(0,Ox.jsx)("h1",{children:"Profile"}),(0,Ox.jsxs)("div",{className:"user-details",children:[(0,Ox.jsx)("h2",{children:"User Information"}),(0,Ox.jsxs)("p",{children:["Email: ",t.email]}),(0,Ox.jsxs)("p",{children:["User ID: ",t.uid]})]}),(0,Ox.jsxs)("div",{className:"bookings",children:[(0,Ox.jsx)("h2",{children:"Repair Bookings"}),r.length>0?r.map((e=>(0,Ox.jsxs)("div",{className:"booking-card",children:[(0,Ox.jsxs)("p",{children:["Repair Person: ",e.repairPersonName]}),(0,Ox.jsxs)("p",{children:["Date: ",e.date]}),(0,Ox.jsxs)("p",{children:["Status: ",e.status]})]},e.id))):(0,Ox.jsx)("p",{children:"No bookings found."})]}),(0,Ox.jsxs)("div",{className:"services",children:[(0,Ox.jsx)("h2",{children:"After-Sales Services"}),s.length>0?s.map((e=>(0,Ox.jsxs)("div",{className:"service-card",children:[(0,Ox.jsxs)("p",{children:["Service Type: ",e.type]}),(0,Ox.jsxs)("p",{children:["Date: ",e.date]}),(0,Ox.jsxs)("p",{children:["Status: ",e.status]})]},e.id))):(0,Ox.jsx)("p",{children:"No services requested."})]})]}):(0,Ox.jsx)("div",{children:"Loading..."})},YI=e=>{let{children:t,adminOnly:n=!1}=e;return Ax.currentUser?n&&"99220041116@klu.ac.in"!==Ax.currentUser.email?(0,Ox.jsx)(fe,{to:"/Home"}):t:(0,Ox.jsx)(fe,{to:"/signup/Login"})},XI=()=>{const[t,n]=(0,e.useState)([]),[r,i]=(0,e.useState)({name:"",phone:"",problem:"",date:"",time:"",pincode:"",address:"",useCurrentLocation:!1}),[s,a]=(0,e.useState)({loading:!1,error:null,coords:null}),[o,l]=(0,e.useState)(!1),[c,u]=(0,e.useState)(null),[h,d]=(0,e.useState)(null),[f,p]=(0,e.useState)(!1),[m,g]=(0,e.useState)(!1),[v,y]=(0,e.useState)(!1),[b,w]=(0,e.useState)(!1),[x,S]=(0,e.useState)(!1),[k,_]=(0,e.useState)(null),E=async(e,t)=>{try{const n=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${e}&lon=${t}`),r=await n.json();if(r.address){const e=[];r.address.road&&e.push(r.address.road),r.address.suburb&&e.push(r.address.suburb),r.address.city&&e.push(r.address.city),r.address.postcode&&i((t=>({...t,pincode:r.address.postcode,address:e.join(", "),useCurrentLocation:!0})))}}catch(n){console.error("Reverse geocoding error:",n),a((e=>({...e,error:"Could not fetch address details"})))}},T=()=>Math.floor(2*Math.random())+4,C=()=>(5*Math.random()).toFixed(1),N=async()=>{if(c){S(!0);try{const e={customerName:r.name,customerPhone:r.phone,problemDescription:r.problem,electricianId:c.electricianId,electricianName:c.electrician,electricianPhone:c.phone,bookingDate:c.date,timeSlot:c.time,address:c.address,pincode:c.pincode,status:"confirmed",createdAt:(new Date).toISOString()},t=await lw(ib(Px,"bookings"),e);_(t.id),w(!1)}catch(e){console.error("Error saving booking:",e),alert("Failed to save booking. Please try again.")}finally{S(!1)}}};return(0,Ox.jsxs)("div",{className:"repair-booking",children:[(0,Ox.jsxs)("div",{className:"repair-booking__flow",children:[(0,Ox.jsxs)("div",{className:"repair-booking__step repair-booking__step--active",children:[(0,Ox.jsx)("div",{className:"repair-booking__step-number",children:"1"}),(0,Ox.jsxs)("div",{className:"repair-booking__step-content",children:[(0,Ox.jsx)("h3",{className:"repair-booking__step-title",children:"Enter Your Details"}),(0,Ox.jsxs)("div",{className:"repair-booking__form",children:[(0,Ox.jsxs)("div",{className:"repair-booking__form-row",children:[(0,Ox.jsxs)("div",{className:"repair-booking__form-group",children:[(0,Ox.jsx)("label",{className:"repair-booking__form-label",children:"Your Name"}),(0,Ox.jsxs)("div",{className:"repair-booking__input-wrapper",children:[(0,Ox.jsx)(fn,{className:"repair-booking__input-icon"}),(0,Ox.jsx)("input",{type:"text",className:"repair-booking__input",placeholder:"John Doe",value:r.name,onChange:e=>i({...r,name:e.target.value}),required:!0})]})]}),(0,Ox.jsxs)("div",{className:"repair-booking__form-group",children:[(0,Ox.jsx)("label",{className:"repair-booking__form-label",children:"Phone Number"}),(0,Ox.jsxs)("div",{className:"repair-booking__input-wrapper",children:[(0,Ox.jsx)(Wt,{className:"repair-booking__input-icon"}),(0,Ox.jsx)("input",{type:"tel",className:"repair-booking__input",placeholder:"+91 9876543210",value:r.phone,onChange:e=>i({...r,phone:e.target.value}),required:!0})]})]})]}),(0,Ox.jsxs)("div",{className:"repair-booking__form-group",children:[(0,Ox.jsx)("label",{className:"repair-booking__form-label",children:"Service Address"}),(0,Ox.jsxs)("div",{className:"repair-booking__location-options",children:[(0,Ox.jsxs)("button",{type:"button",className:"repair-booking__location-toggle "+(r.useCurrentLocation?"repair-booking__location-toggle--active":""),onClick:()=>{r.useCurrentLocation?i((e=>({...e,useCurrentLocation:!1,address:""}))):(a({loading:!0,error:null,coords:null}),l(!1),navigator.geolocation?navigator.geolocation.getCurrentPosition((e=>{const{latitude:t,longitude:n}=e.coords;a({loading:!1,error:null,coords:{latitude:t,longitude:n}}),E(t,n)}),(e=>{a({loading:!1,error:e.message,coords:null})}),{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):a({loading:!1,error:"Geolocation is not supported by your browser",coords:null}))},disabled:s.loading,children:[(0,Ox.jsx)(Ut,{}),s.loading?"Detecting...":"Use Current Location"]}),(0,Ox.jsxs)("button",{type:"button",className:"repair-booking__manual-address-btn "+(o?"repair-booking__manual-address-btn--active":""),onClick:()=>{l(!o),o||i((e=>({...e,useCurrentLocation:!1})))},children:[(0,Ox.jsx)(Nt,{}),o?"Cancel":"Enter Address Manually"]})]}),s.error&&(0,Ox.jsx)("p",{className:"repair-booking__error",children:s.error}),r.useCurrentLocation&&r.address&&(0,Ox.jsxs)("div",{className:"repair-booking__current-address",children:[(0,Ox.jsx)($t,{}),(0,Ox.jsx)("span",{children:r.address})]}),o&&(0,Ox.jsxs)("div",{className:"repair-booking__input-wrapper",children:[(0,Ox.jsx)($t,{className:"repair-booking__input-icon"}),(0,Ox.jsx)("textarea",{className:"repair-booking__textarea repair-booking__textarea--address",placeholder:"Enter your full address (House no, Building, Street, Area)",value:r.address,onChange:e=>i({...r,address:e.target.value}),rows:3,required:!0})]})]}),(0,Ox.jsxs)("div",{className:"repair-booking__form-group",children:[(0,Ox.jsx)("label",{className:"repair-booking__form-label",children:"Pincode"}),(0,Ox.jsxs)("div",{className:"repair-booking__pincode-search",children:[(0,Ox.jsxs)("div",{className:"repair-booking__input-wrapper",children:[(0,Ox.jsx)(Ht,{className:"repair-booking__input-icon"}),(0,Ox.jsx)("input",{type:"text",className:"repair-booking__input",placeholder:"Enter 6-digit pincode",maxLength:"6",value:r.pincode,onChange:e=>i({...r,pincode:e.target.value.replace(/\D/g,"")}),required:!0})]}),(0,Ox.jsxs)("button",{className:"repair-booking__search-button "+(r.pincode&&6===r.pincode.length?"":"repair-booking__search-button--disabled"),onClick:async()=>{if(r.pincode&&6===r.pincode.length){g(!0);try{const e=Hb(ib(Px,"serviceAgents"),Kb("pincode","==",r.pincode),Kb("status","==","Verified")),t=(await sw(e)).docs.map((e=>({id:e.id,...e.data(),rating:T(),distance:C()})));n(t),y(!0),0===t.length&&alert("No electricians found in this pincode area")}catch(e){console.error("Error fetching electricians:",e),alert("Failed to fetch electricians. Please try again.")}finally{g(!1)}}else alert("Please enter a valid 6-digit pincode")},disabled:!r.pincode||6!==r.pincode.length,children:[(0,Ox.jsx)(Xt,{})," ",m?"Searching...":"Find Electricians"]})]})]}),(0,Ox.jsxs)("div",{className:"repair-booking__form-group",children:[(0,Ox.jsx)("label",{className:"repair-booking__form-label",children:"Service Required"}),(0,Ox.jsxs)("div",{className:"repair-booking__input-wrapper",children:[(0,Ox.jsx)(cn,{className:"repair-booking__input-icon"}),(0,Ox.jsx)("textarea",{className:"repair-booking__textarea",placeholder:"Describe your electrical problem...",value:r.problem,onChange:e=>i({...r,problem:e.target.value}),required:!0})]})]})]})]})]}),v&&(0,Ox.jsxs)("div",{className:"repair-booking__step "+(t.length?"repair-booking__step--active":""),children:[(0,Ox.jsx)("div",{className:"repair-booking__step-number",children:"2"}),(0,Ox.jsxs)("div",{className:"repair-booking__step-content",children:[(0,Ox.jsxs)("h3",{className:"repair-booking__step-title",children:["Available Electricians in ",r.pincode]}),m?(0,Ox.jsxs)("div",{className:"repair-booking__loading",children:[(0,Ox.jsx)("div",{className:"repair-booking__spinner"}),(0,Ox.jsx)("p",{children:"Finding electricians near you..."})]}):t.length>0?(0,Ox.jsx)("div",{className:"repair-booking__electricians",children:t.map((e=>(0,Ox.jsxs)(FI.div,{className:"repair-booking__electrician",whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,Ox.jsxs)("div",{className:"repair-booking__electrician-header",children:[(0,Ox.jsx)("div",{className:"repair-booking__electrician-avatar",children:e.fullName.charAt(0)}),(0,Ox.jsxs)("div",{className:"repair-booking__electrician-info",children:[(0,Ox.jsx)("h4",{className:"repair-booking__electrician-name",children:e.fullName}),(0,Ox.jsxs)("div",{className:"repair-booking__electrician-meta",children:[(0,Ox.jsxs)("div",{className:"repair-booking__rating",children:[Array.from({length:5},((t,n)=>(0,Ox.jsx)(sn,{className:"repair-booking__star "+(n<e.rating?"repair-booking__star--filled":"repair-booking__star--empty")},n))),(0,Ox.jsxs)("span",{children:["(",e.rating,".0)"]})]}),(0,Ox.jsxs)("div",{className:"repair-booking__distance",children:[(0,Ox.jsx)($t,{})," ",e.distance," km away"]})]})]})]}),(0,Ox.jsxs)("div",{className:"repair-booking__electrician-details",children:[(0,Ox.jsxs)("div",{className:"repair-booking__detail",children:[(0,Ox.jsx)(yt,{}),(0,Ox.jsxs)("span",{children:["Specializes in: ",e.specification||"General Electrical"]})]}),(0,Ox.jsxs)("div",{className:"repair-booking__detail",children:[(0,Ox.jsx)(kt,{}),(0,Ox.jsxs)("span",{children:["Experience: ",e.experience||"5"," years"]})]}),(0,Ox.jsxs)("div",{className:"repair-booking__detail",children:[(0,Ox.jsx)(Jt,{}),(0,Ox.jsx)("span",{children:"Verified Professional"})]})]}),(0,Ox.jsxs)("div",{className:"repair-booking__electrician-actions",children:[(0,Ox.jsx)("button",{className:"repair-booking__profile-button",onClick:()=>{d(e),p(!0)},children:"View Profile"}),(0,Ox.jsx)("button",{className:"repair-booking__select-button",onClick:()=>d(e),children:"Select"})]})]},e.id)))}):(0,Ox.jsxs)("div",{className:"repair-booking__empty-state",children:[(0,Ox.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/4076/4076478.png",alt:"No electricians",className:"repair-booking__empty-state-image"}),(0,Ox.jsx)("h4",{className:"repair-booking__empty-state-title",children:"No electricians available in this area"}),(0,Ox.jsx)("p",{className:"repair-booking__empty-state-description",children:"We couldn't find any verified electricians in your pincode. Try a nearby pincode or check back later."})]})]})]}),h&&!k&&(0,Ox.jsxs)("div",{className:"repair-booking__step repair-booking__step--active",children:[(0,Ox.jsx)("div",{className:"repair-booking__step-number",children:"3"}),(0,Ox.jsxs)("div",{className:"repair-booking__step-content",children:[(0,Ox.jsx)("h3",{className:"repair-booking__step-title",children:"Select Time Slot"}),(0,Ox.jsxs)("div",{className:"repair-booking__selected-electrician",children:[(0,Ox.jsx)("div",{className:"repair-booking__electrician-avatar",children:h.fullName.charAt(0)}),(0,Ox.jsxs)("div",{children:[(0,Ox.jsx)("h4",{className:"repair-booking__electrician-name",children:h.fullName}),(0,Ox.jsxs)("div",{className:"repair-booking__rating",children:[Array.from({length:5},((e,t)=>(0,Ox.jsx)(sn,{className:"repair-booking__star "+(t<h.rating?"repair-booking__star--filled":"repair-booking__star--empty")},t))),(0,Ox.jsxs)("span",{children:["(",h.rating,".0)"]})]})]})]}),(0,Ox.jsxs)("div",{className:"repair-booking__date-picker",children:[(0,Ox.jsx)("label",{className:"repair-booking__form-label",children:"Select Date"}),(0,Ox.jsxs)("div",{className:"repair-booking__input-wrapper",children:[(0,Ox.jsx)(xt,{className:"repair-booking__input-icon"}),(0,Ox.jsx)("input",{type:"date",className:"repair-booking__input",value:r.date,onChange:e=>i({...r,date:e.target.value}),min:(new Date).toISOString().split("T")[0],required:!0})]})]}),r.date&&(0,Ox.jsxs)("div",{className:"repair-booking__timeslots",children:[(0,Ox.jsx)("h4",{children:"Available Time Slots"}),(0,Ox.jsx)("div",{className:"repair-booking__timeslots-grid",children:["9:00 AM","11:00 AM","1:00 PM","3:00 PM","5:00 PM"].map((e=>(0,Ox.jsx)(FI.div,{className:"repair-booking__timeslot "+((null===c||void 0===c?void 0:c.time)===e?"repair-booking__timeslot--selected":""),whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>((e,t)=>{u({electrician:e.fullName,electricianId:e.id,phone:e.phone,date:r.date,time:t,pincode:r.pincode,address:r.address||"Address not specified"}),w(!0)})(h,e),children:e},e)))})]})]})]}),k&&c?(0,Ox.jsxs)("div",{className:"repair-booking__step repair-booking__step--active",children:[(0,Ox.jsx)("div",{className:"repair-booking__step-number",children:"4"}),(0,Ox.jsx)("div",{className:"repair-booking__step-content",children:(0,Ox.jsxs)("div",{className:"repair-booking__confirmation",children:[(0,Ox.jsx)("div",{className:"repair-booking__confirmation-icon",children:(0,Ox.jsx)("div",{className:"repair-booking__checkmark",children:"\u2713"})}),(0,Ox.jsx)("h3",{children:"Booking Confirmed!"}),(0,Ox.jsxs)("p",{children:["Your booking ID: ",(0,Ox.jsx)("strong",{children:k})]}),(0,Ox.jsx)("p",{children:"Your electrician will arrive at the scheduled time."}),(0,Ox.jsxs)("div",{className:"repair-booking__details-card",children:[(0,Ox.jsxs)("div",{className:"repair-booking__detail",children:[(0,Ox.jsx)(fn,{}),(0,Ox.jsxs)("span",{children:[(0,Ox.jsx)("strong",{children:"Electrician:"})," ",c.electrician]})]}),(0,Ox.jsxs)("div",{className:"repair-booking__detail",children:[(0,Ox.jsx)(Wt,{}),(0,Ox.jsxs)("span",{children:[(0,Ox.jsx)("strong",{children:"Contact:"})," ",c.phone]})]}),(0,Ox.jsxs)("div",{className:"repair-booking__detail",children:[(0,Ox.jsx)(xt,{}),(0,Ox.jsxs)("span",{children:[(0,Ox.jsx)("strong",{children:"Date:"})," ",c.date]})]}),(0,Ox.jsxs)("div",{className:"repair-booking__detail",children:[(0,Ox.jsx)(Ct,{}),(0,Ox.jsxs)("span",{children:[(0,Ox.jsx)("strong",{children:"Time:"})," ",c.time]})]}),(0,Ox.jsxs)("div",{className:"repair-booking__detail",children:[(0,Ox.jsx)($t,{}),(0,Ox.jsxs)("span",{children:[(0,Ox.jsx)("strong",{children:"Address:"})," ",c.address]})]}),(0,Ox.jsxs)("div",{className:"repair-booking__detail",children:[(0,Ox.jsx)(Ht,{}),(0,Ox.jsxs)("span",{children:[(0,Ox.jsx)("strong",{children:"Pincode:"})," ",c.pincode]})]})]}),(0,Ox.jsxs)("div",{className:"repair-booking__confirmation-actions",children:[(0,Ox.jsxs)("button",{className:"repair-booking__button--primary",onClick:()=>window.print(),children:[(0,Ox.jsx)(Yt,{})," Print Confirmation"]}),(0,Ox.jsx)("button",{className:"repair-booking__button--secondary",onClick:()=>{u(null),d(null),y(!1),_(null),i({name:"",phone:"",problem:"",date:"",time:"",pincode:"",address:"",useCurrentLocation:!1})},children:"Book Another Service"})]})]})})]}):null]}),f&&h&&(0,Ox.jsxs)("div",{className:"repair-booking__modal "+(f?"repair-booking__modal--show":""),children:[(0,Ox.jsx)("div",{className:"repair-booking__modal-overlay",onClick:()=>p(!1)}),(0,Ox.jsxs)("div",{className:"repair-booking__modal-content",children:[(0,Ox.jsx)("button",{className:"repair-booking__modal-close",onClick:()=>p(!1),children:"\xd7"}),(0,Ox.jsxs)("div",{className:"repair-booking__modal-header",children:[(0,Ox.jsx)("div",{className:"repair-booking__modal-avatar",children:h.fullName.charAt(0)}),(0,Ox.jsxs)("div",{children:[(0,Ox.jsx)("h3",{children:h.fullName}),(0,Ox.jsxs)("div",{className:"repair-booking__rating",children:[Array.from({length:5},((e,t)=>(0,Ox.jsx)(sn,{className:"repair-booking__star "+(t<h.rating?"repair-booking__star--filled":"repair-booking__star--empty")},t))),(0,Ox.jsxs)("span",{children:["(",h.rating,".0)"]})]}),(0,Ox.jsxs)("div",{className:"repair-booking__distance",children:[(0,Ox.jsx)($t,{})," ",h.distance," km from your location"]})]})]}),(0,Ox.jsxs)("div",{className:"repair-booking__modal-body",children:[(0,Ox.jsxs)("div",{className:"repair-booking__modal-section",children:[(0,Ox.jsx)("h4",{className:"repair-booking__modal-section-title",children:"Professional Information"}),(0,Ox.jsxs)("div",{className:"repair-booking__detail",children:[(0,Ox.jsx)(kt,{}),(0,Ox.jsxs)("span",{children:[(0,Ox.jsx)("strong",{children:"License:"})," ",h.licenseNumber?"Verified":"Not provided"]})]}),(0,Ox.jsxs)("div",{className:"repair-booking__detail",children:[(0,Ox.jsx)(cn,{}),(0,Ox.jsxs)("span",{children:[(0,Ox.jsx)("strong",{children:"Tools:"})," ",h.tools||"Standard toolkit"]})]}),(0,Ox.jsxs)("div",{className:"repair-booking__detail",children:[(0,Ox.jsx)(St,{}),(0,Ox.jsxs)("span",{children:[(0,Ox.jsx)("strong",{children:"Vehicle:"})," ",h.vehicle||"Personal vehicle"]})]})]}),(0,Ox.jsxs)("div",{className:"repair-booking__modal-section",children:[(0,Ox.jsx)("h4",{className:"repair-booking__modal-section-title",children:"Service Areas"}),(0,Ox.jsxs)("div",{className:"repair-booking__detail",children:[(0,Ox.jsx)($t,{}),(0,Ox.jsxs)("span",{children:[(0,Ox.jsx)("strong",{children:"Primary Pincode:"})," ",h.pincode]})]}),(0,Ox.jsxs)("div",{className:"repair-booking__detail",children:[(0,Ox.jsx)($t,{}),(0,Ox.jsxs)("span",{children:[(0,Ox.jsx)("strong",{children:"Service Areas:"})," ",h.serviceAreas||"Within 10km radius"]})]})]}),(0,Ox.jsxs)("div",{className:"repair-booking__modal-section",children:[(0,Ox.jsx)("h4",{className:"repair-booking__modal-section-title",children:"Contact Information"}),(0,Ox.jsxs)("div",{className:"repair-booking__detail",children:[(0,Ox.jsx)(Wt,{}),(0,Ox.jsxs)("span",{children:[(0,Ox.jsx)("strong",{children:"Phone:"})," ",h.phone]})]}),(0,Ox.jsxs)("div",{className:"repair-booking__detail",children:[(0,Ox.jsx)(Wt,{}),(0,Ox.jsxs)("span",{children:[(0,Ox.jsx)("strong",{children:"Alternate Phone:"})," ",h.alternatePhone||"Not provided"]})]})]})]}),(0,Ox.jsx)("div",{className:"repair-booking__modal-footer",children:(0,Ox.jsx)("button",{className:"repair-booking__select-button",onClick:()=>{d(h),p(!1)},children:"Select This Electrician"})})]})]}),b&&c?(0,Ox.jsxs)("div",{className:"repair-booking__modal repair-booking__modal--show",children:[(0,Ox.jsx)("div",{className:"repair-booking__modal-overlay",onClick:()=>w(!1)}),(0,Ox.jsxs)("div",{className:"repair-booking__modal-content",children:[(0,Ox.jsx)("button",{className:"repair-booking__modal-close",onClick:()=>w(!1),children:"\xd7"}),(0,Ox.jsx)("h3",{children:"Confirm Your Booking"}),(0,Ox.jsx)("p",{children:"Please review your booking details before confirming:"}),(0,Ox.jsxs)("div",{className:"repair-booking__details-card",children:[(0,Ox.jsxs)("div",{className:"repair-booking__detail",children:[(0,Ox.jsx)(fn,{}),(0,Ox.jsxs)("span",{children:[(0,Ox.jsx)("strong",{children:"Customer:"})," ",r.name]})]}),(0,Ox.jsxs)("div",{className:"repair-booking__detail",children:[(0,Ox.jsx)(Wt,{}),(0,Ox.jsxs)("span",{children:[(0,Ox.jsx)("strong",{children:"Your Phone:"})," ",r.phone]})]}),(0,Ox.jsxs)("div",{className:"repair-booking__detail",children:[(0,Ox.jsx)(fn,{}),(0,Ox.jsxs)("span",{children:[(0,Ox.jsx)("strong",{children:"Electrician:"})," ",c.electrician]})]}),(0,Ox.jsxs)("div",{className:"repair-booking__detail",children:[(0,Ox.jsx)(Wt,{}),(0,Ox.jsxs)("span",{children:[(0,Ox.jsx)("strong",{children:"Electrician Phone:"})," ",c.phone]})]}),(0,Ox.jsxs)("div",{className:"repair-booking__detail",children:[(0,Ox.jsx)(xt,{}),(0,Ox.jsxs)("span",{children:[(0,Ox.jsx)("strong",{children:"Date:"})," ",c.date]})]}),(0,Ox.jsxs)("div",{className:"repair-booking__detail",children:[(0,Ox.jsx)(Ct,{}),(0,Ox.jsxs)("span",{children:[(0,Ox.jsx)("strong",{children:"Time:"})," ",c.time]})]}),(0,Ox.jsxs)("div",{className:"repair-booking__detail",children:[(0,Ox.jsx)($t,{}),(0,Ox.jsxs)("span",{children:[(0,Ox.jsx)("strong",{children:"Address:"})," ",c.address]})]}),(0,Ox.jsxs)("div",{className:"repair-booking__detail",children:[(0,Ox.jsx)(Ht,{}),(0,Ox.jsxs)("span",{children:[(0,Ox.jsx)("strong",{children:"Pincode:"})," ",c.pincode]})]}),(0,Ox.jsxs)("div",{className:"repair-booking__detail",children:[(0,Ox.jsx)(cn,{}),(0,Ox.jsxs)("span",{children:[(0,Ox.jsx)("strong",{children:"Problem:"})," ",r.problem]})]})]}),(0,Ox.jsxs)("div",{className:"repair-booking__confirmation-actions",children:[(0,Ox.jsx)("button",{className:"repair-booking__button--primary",onClick:N,disabled:x,children:x?(0,Ox.jsxs)(Ox.Fragment,{children:[(0,Ox.jsx)(rn,{className:"repair-booking__spinner"}),"Saving..."]}):(0,Ox.jsxs)(Ox.Fragment,{children:[(0,Ox.jsx)(Tt,{})," Confirm Booking"]})}),(0,Ox.jsx)("button",{className:"repair-booking__button--secondary",onClick:()=>w(!1),disabled:x,children:"Cancel"})]})]})]}):null]})},JI=()=>{const[t,n]=(0,e.useState)(null),r=J(),i=[{id:1,name:"Electrical Work",icon:(0,Ox.jsx)(Gt,{}),image:"https://tse2.mm.bing.net/th?id=OIP.dQKgkvb6cy4ntbVcKqZgZwHaE8&pid=Api&P=0&h=180",description:"Professional electrical wiring services for homes and offices.",relativeWork:["Wiring & Rewiring","Lighting Installation & Repair","Power Outlets & Switches","Circuit Breakers & Panels","Generator Installation","Surge Protection","Security Systems & Cameras","Smart Home Systems","Data & Communication Lines","Troubleshooting & Repairs"]},{id:2,name:"Plumbing Work",icon:(0,Ox.jsx)(ln,{}),image:"https://tse4.mm.bing.net/th?id=OIP.kQHSlQ9uNLzz3bN4y72rOgHaE6&pid=Api&P=0&h=180",description:"Electrical solutions for plumbing systems.",relativeWork:["Water Heater Installation & Repair","Pumps & Motors","Bathroom & Kitchen Fixtures","Pipe Repairs & Leak Fixing","Boiler & Radiator Work","Drainage & Waste Systems"]},{id:3,name:"Home Appliances & Electronics",icon:(0,Ox.jsx)(cn,{}),image:"https://tse2.mm.bing.net/th?id=OIP.K3G3X_oKfbc7AG0LZz39qwHaE8&pid=Api&P=0&h=180",description:"Install and repair lighting fixtures.",relativeWork:["TV & Home Theater Setup","Air Conditioners & Fans","Refrigerators & Freezers","Washing Machines & Dryers","Microwave Ovens & Cooking Ranges","Computers & Networking","Intercom & Doorbell Systems"]},{id:4,name:"Mobiles & Laptops",icon:(0,Ox.jsx)(qt,{}),image:"https://media.istockphoto.com/id/868640082/photo/modern-laptop-and-smartphone-isolated-on-white.jpg?b=1&s=170667a&w=0&k=20&c=DCqYJ07ubLsxMH3un2lue0KdKskhiI4FBuwJcP7-mVk=",description:"Smart home solutions for modern living.",relativeWork:["Mobile Repair","Laptop Repair","Data Recovery","Battery Replacement","Screen Repair"]}];return(0,Ox.jsxs)("div",{className:"repair-services-container",children:[(0,Ox.jsx)("h2",{children:"Repair Services"}),(0,Ox.jsx)("div",{className:"services-grid",children:i.map((e=>(0,Ox.jsxs)("div",{className:"service-item",onMouseEnter:()=>(e=>{n(t===e?null:e)})(e.id),onMouseLeave:()=>n(null),onClick:()=>{return t=e.id,void r(`/book-service/${t}`);var t},children:[(0,Ox.jsxs)("div",{className:"service-header",children:[(0,Ox.jsx)("div",{className:"service-icon",children:e.icon}),(0,Ox.jsx)("img",{src:e.image,alt:e.name,className:"service-image"}),(0,Ox.jsx)("h3",{children:e.name})]}),t===e.id&&(0,Ox.jsx)("div",{className:"dropdown-content",children:(0,Ox.jsx)("ul",{children:e.relativeWork.map(((e,t)=>(0,Ox.jsx)("li",{children:e},t)))})})]},e.id)))})]})};function ZI(e){return mt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 12C3 12.5523 3.44772 13 4 13H10C10.5523 13 11 12.5523 11 12V4C11 3.44772 10.5523 3 10 3H4C3.44772 3 3 3.44772 3 4V12ZM3 20C3 20.5523 3.44772 21 4 21H10C10.5523 21 11 20.5523 11 20V16C11 15.4477 10.5523 15 10 15H4C3.44772 15 3 15.4477 3 16V20ZM13 20C13 20.5523 13.4477 21 14 21H20C20.5523 21 21 20.5523 21 20V12C21 11.4477 20.5523 11 20 11H14C13.4477 11 13 11.4477 13 12V20ZM14 3C13.4477 3 13 3.44772 13 4V8C13 8.55228 13.4477 9 14 9H20C20.5523 9 21 8.55228 21 8V4C21 3.44772 20.5523 3 20 3H14Z"},child:[]}]})(e)}function ej(e){return mt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z"},child:[]}]})(e)}const tj=()=>{var t,n,r;const[i,s]=(0,e.useState)("dashboard"),[a,o]=(0,e.useState)([]),[l,c]=(0,e.useState)([]),[u,h]=(0,e.useState)(null),[d,f]=(0,e.useState)(null),[p,m]=(0,e.useState)(""),[g,v]=(0,e.useState)("all"),[y,b]=(0,e.useState)(""),[w,x]=(0,e.useState)("all"),[S,k]=(0,e.useState)(!1),[_,E]=(0,e.useState)({fullName:"",phone:"",alternatePhone:"",email:"",specification:"",serviceAreas:"",age:"",gender:""}),[T,C]=(0,e.useState)({total:0,verified:0,pending:0,recent:0,totalBookings:0,confirmedBookings:0,completedBookings:0});(0,e.useEffect)((()=>{(async()=>{const e=(await sw(ib(Px,"serviceAgents"))).docs.map((e=>({id:e.id,...e.data()})));o(e);const t=e.filter((e=>"Verified"===e.status)).length,n=e.filter((e=>!e.status||"Pending"===e.status)).length;C((r=>({...r,total:e.length,verified:t,pending:n,recent:e.filter((e=>{var t;const n=(null===(t=e.timestamp)||void 0===t?void 0:t.toDate())||new Date;return new Date-n<6048e5})).length})))})()}),[i]),(0,e.useEffect)((()=>{"bookings"!==i&&"dashboard"!==i||(async()=>{const e=(await sw(ib(Px,"bookings"))).docs.map((e=>({id:e.id,...e.data()})));c(e);const t=e.filter((e=>"confirmed"===e.status)).length,n=e.filter((e=>"completed"===e.status)).length;C((r=>({...r,totalBookings:e.length,confirmedBookings:t,completedBookings:n})))})()}),[i]);const N=a.filter((e=>{var t,n,r;const i=(null===(t=e.fullName)||void 0===t?void 0:t.toLowerCase().includes(p.toLowerCase()))||(null===(n=e.email)||void 0===n?void 0:n.toLowerCase().includes(p.toLowerCase()))||(null===(r=e.phone)||void 0===r?void 0:r.includes(p)),s="all"===g||"verified"===g&&"Verified"===e.status||"pending"===g&&(!e.status||"Pending"===e.status);return i&&s})),I=l.filter((e=>{var t,n,r,i;const s=(null===(t=e.customerName)||void 0===t?void 0:t.toLowerCase().includes(y.toLowerCase()))||(null===(n=e.customerPhone)||void 0===n?void 0:n.includes(y))||(null===(r=e.electricianName)||void 0===r?void 0:r.toLowerCase().includes(y.toLowerCase())),a="all"===w||(null===(i=e.status)||void 0===i?void 0:i.toLowerCase())===w.toLowerCase();return s&&a})),j=async e=>{if(window.confirm("Are you sure you want to delete this electrician?"))try{await function(e){return cw(Yy(e.firestore,cb),[new mf(e._key,tf.none())])}(sb(Px,"serviceAgents",e)),o(a.filter((t=>t.id!==e))),R("Electrician deleted successfully!","success")}catch(t){console.error("Error deleting electrician: ",t),R("Failed to delete electrician.","error")}},A=async e=>{try{await ow(sb(Px,"serviceAgents",e),{status:"Verified"}),o(a.map((t=>t.id===e?{...t,status:"Verified"}:t))),R("Electrician verified successfully!","success")}catch(t){console.error("Error verifying electrician: ",t),R("Failed to verify electrician.","error")}},P=async(e,t)=>{try{await ow(sb(Px,"bookings",e),{status:t}),c(l.map((n=>n.id===e?{...n,status:t}:n))),R(`Booking status updated to ${t}`,"success")}catch(n){console.error("Error updating booking status: ",n),R("Failed to update booking status","error")}},R=(e,t)=>{const n=document.createElement("div");n.className=`notification ${t}`,n.textContent=e,document.body.appendChild(n),setTimeout((()=>{n.classList.add("show")}),10),setTimeout((()=>{n.classList.remove("show"),setTimeout((()=>{document.body.removeChild(n)}),300)}),3e3)};return(0,Ox.jsxs)("div",{className:"admin-page "+(S?"collapsed":""),children:[(0,Ox.jsxs)("div",{className:"admin-sidebar",children:[(0,Ox.jsxs)("div",{className:"sidebar-header",children:[(0,Ox.jsx)("h2",{children:"ElectroAdmin"}),(0,Ox.jsx)("button",{className:"collapse-btn",onClick:()=>k(!S),children:S?"\xbb":"\xab"})]}),(0,Ox.jsxs)("nav",{className:"sidebar-nav",children:[(0,Ox.jsxs)("button",{className:"dashboard"===i?"active":"",onClick:()=>s("dashboard"),children:[(0,Ox.jsx)(ZI,{}),!S&&"Dashboard"]}),(0,Ox.jsxs)("button",{className:"verify-electricians"===i?"active":"",onClick:()=>s("verify-electricians"),children:[(0,Ox.jsx)(cn,{}),!S&&"Verify Electricians"]}),(0,Ox.jsxs)("button",{className:"add-electrician"===i?"active":"",onClick:()=>s("add-electrician"),children:[(0,Ox.jsx)(dn,{}),!S&&"Add Electrician"]}),(0,Ox.jsxs)("button",{className:"bookings"===i?"active":"",onClick:()=>s("bookings"),children:[(0,Ox.jsx)(xt,{}),!S&&"Bookings"]}),(0,Ox.jsxs)("button",{className:"settings"===i?"active":"",onClick:()=>s("settings"),children:[(0,Ox.jsx)(ej,{}),!S&&"Settings"]})]}),(0,Ox.jsx)("div",{className:"sidebar-footer",children:(0,Ox.jsxs)("div",{className:"user-profile",children:[(0,Ox.jsx)("div",{className:"avatar",children:"AD"}),!S&&(0,Ox.jsxs)("div",{className:"user-info",children:[(0,Ox.jsx)("span",{className:"name",children:"Admin User"}),(0,Ox.jsx)("span",{className:"role",children:"Super Admin"})]})]})})]}),(0,Ox.jsxs)("div",{className:"admin-content",children:["dashboard"===i&&(0,Ox.jsxs)("div",{className:"dashboard-tab",children:[(0,Ox.jsxs)("h1",{children:[(0,Ox.jsx)(ZI,{})," Dashboard Overview"]}),(0,Ox.jsxs)("div",{className:"stats-grid",children:[(0,Ox.jsxs)("div",{className:"stat-card total",children:[(0,Ox.jsx)("div",{className:"stat-icon",children:(0,Ox.jsx)(pn,{})}),(0,Ox.jsxs)("div",{className:"stat-info",children:[(0,Ox.jsx)("h3",{children:"Total Electricians"}),(0,Ox.jsx)("p",{children:T.total})]})]}),(0,Ox.jsxs)("div",{className:"stat-card verified",children:[(0,Ox.jsx)("div",{className:"stat-icon",children:(0,Ox.jsx)(Et,{})}),(0,Ox.jsxs)("div",{className:"stat-info",children:[(0,Ox.jsx)("h3",{children:"Verified"}),(0,Ox.jsx)("p",{children:T.verified})]})]}),(0,Ox.jsxs)("div",{className:"stat-card pending",children:[(0,Ox.jsx)("div",{className:"stat-icon",children:(0,Ox.jsx)(an,{})}),(0,Ox.jsxs)("div",{className:"stat-info",children:[(0,Ox.jsx)("h3",{children:"Pending"}),(0,Ox.jsx)("p",{children:T.pending})]})]}),(0,Ox.jsxs)("div",{className:"stat-card recent",children:[(0,Ox.jsx)("div",{className:"stat-icon",children:(0,Ox.jsx)(_t,{})}),(0,Ox.jsxs)("div",{className:"stat-info",children:[(0,Ox.jsx)("h3",{children:"New This Week"}),(0,Ox.jsx)("p",{children:T.recent})]})]}),(0,Ox.jsxs)("div",{className:"stat-card bookings-total",children:[(0,Ox.jsx)("div",{className:"stat-icon",children:(0,Ox.jsx)(xt,{})}),(0,Ox.jsxs)("div",{className:"stat-info",children:[(0,Ox.jsx)("h3",{children:"Total Bookings"}),(0,Ox.jsx)("p",{children:T.totalBookings})]})]}),(0,Ox.jsxs)("div",{className:"stat-card bookings-confirmed",children:[(0,Ox.jsx)("div",{className:"stat-icon",children:(0,Ox.jsx)(Et,{})}),(0,Ox.jsxs)("div",{className:"stat-info",children:[(0,Ox.jsx)("h3",{children:"Confirmed Bookings"}),(0,Ox.jsx)("p",{children:T.confirmedBookings})]})]}),(0,Ox.jsxs)("div",{className:"stat-card bookings-completed",children:[(0,Ox.jsx)("div",{className:"stat-icon",children:(0,Ox.jsx)(Et,{})}),(0,Ox.jsxs)("div",{className:"stat-info",children:[(0,Ox.jsx)("h3",{children:"Completed Bookings"}),(0,Ox.jsx)("p",{children:T.completedBookings})]})]})]}),(0,Ox.jsxs)("div",{className:"recent-activity",children:[(0,Ox.jsx)("h2",{children:"Recent Bookings"}),(0,Ox.jsx)("div",{className:"activity-list",children:l.slice(0,5).map((e=>{var t;return(0,Ox.jsxs)("div",{className:"activity-item",children:[(0,Ox.jsx)("div",{className:"avatar",children:(null===(t=e.customerName)||void 0===t?void 0:t.charAt(0))||"B"}),(0,Ox.jsxs)("div",{className:"activity-details",children:[(0,Ox.jsxs)("p",{children:[(0,Ox.jsx)("strong",{children:e.customerName||"Customer"})," booked "+(e.electricianName||"an electrician")+" for "+e.problemDescription]}),(0,Ox.jsx)("small",{children:new Date(e.createdAt).toLocaleString()})]}),(0,Ox.jsx)("div",{className:`status-badge ${e.status}`,children:e.status})]},e.id)}))})]})]}),"verify-electricians"===i&&(0,Ox.jsxs)("div",{className:"verify-electricians-tab",children:[(0,Ox.jsxs)("div",{className:"tab-header",children:[(0,Ox.jsxs)("h1",{children:[(0,Ox.jsx)(cn,{})," Electrician Verification"]}),(0,Ox.jsxs)("div",{className:"controls",children:[(0,Ox.jsxs)("div",{className:"search-box",children:[(0,Ox.jsx)(Xt,{}),(0,Ox.jsx)("input",{type:"text",placeholder:"Search electricians...",value:p,onChange:e=>m(e.target.value)})]}),(0,Ox.jsxs)("div",{className:"filter-dropdown",children:[(0,Ox.jsx)(Pt,{}),(0,Ox.jsxs)("select",{value:g,onChange:e=>v(e.target.value),children:[(0,Ox.jsx)("option",{value:"all",children:"All Statuses"}),(0,Ox.jsx)("option",{value:"verified",children:"Verified"}),(0,Ox.jsx)("option",{value:"pending",children:"Pending"})]})]})]})]}),(0,Ox.jsx)("div",{className:"table-container",children:(0,Ox.jsxs)("table",{children:[(0,Ox.jsx)("thead",{children:(0,Ox.jsxs)("tr",{children:[(0,Ox.jsx)("th",{children:"Name"}),(0,Ox.jsx)("th",{children:"Contact"}),(0,Ox.jsx)("th",{children:"Service Areas"}),(0,Ox.jsx)("th",{children:"Documents"}),(0,Ox.jsx)("th",{children:"Status"}),(0,Ox.jsx)("th",{children:"Actions"})]})}),(0,Ox.jsx)("tbody",{children:N.length>0?N.map((e=>{var t;return(0,Ox.jsxs)("tr",{children:[(0,Ox.jsx)("td",{children:(0,Ox.jsxs)("div",{className:"user-cell",children:[(0,Ox.jsx)("div",{className:"avatar",children:(null===(t=e.fullName)||void 0===t?void 0:t.charAt(0))||"E"}),(0,Ox.jsxs)("div",{children:[(0,Ox.jsx)("strong",{children:e.fullName}),(0,Ox.jsx)("small",{children:e.specification})]})]})}),(0,Ox.jsx)("td",{children:(0,Ox.jsxs)("div",{className:"contact-cell",children:[(0,Ox.jsx)("div",{children:e.phone}),(0,Ox.jsx)("small",{children:e.email})]})}),(0,Ox.jsx)("td",{children:e.serviceAreas}),(0,Ox.jsx)("td",{children:(0,Ox.jsx)("div",{className:"documents-cell "+(e.governmentId&&e.licenseNumber?"complete":"incomplete"),children:e.governmentId&&e.licenseNumber?(0,Ox.jsxs)(Ox.Fragment,{children:[(0,Ox.jsx)(At,{})," Complete"]}):(0,Ox.jsxs)(Ox.Fragment,{children:[(0,Ox.jsx)(an,{})," Incomplete"]})})}),(0,Ox.jsx)("td",{children:(0,Ox.jsx)("div",{className:"status-cell "+("Verified"===e.status?"verified":"pending"),children:"Verified"===e.status?(0,Ox.jsxs)(Ox.Fragment,{children:[(0,Ox.jsx)(Et,{})," Verified"]}):(0,Ox.jsxs)(Ox.Fragment,{children:[(0,Ox.jsx)(an,{})," Pending"]})})}),(0,Ox.jsx)("td",{children:(0,Ox.jsxs)("div",{className:"actions-cell",children:["Verified"!==e.status&&(0,Ox.jsx)("button",{className:"verify-btn",onClick:()=>A(e.id),children:"Verify"}),(0,Ox.jsx)("button",{className:"view-btn",onClick:()=>h(e),children:"View"}),(0,Ox.jsx)("button",{className:"delete-btn",onClick:()=>j(e.id),children:(0,Ox.jsx)(un,{})})]})})]},e.id)})):(0,Ox.jsx)("tr",{children:(0,Ox.jsx)("td",{colSpan:"6",className:"no-results",children:"No electricians found matching your criteria"})})})]})}),(0,Ox.jsxs)("div",{className:"table-footer",children:[(0,Ox.jsxs)("div",{className:"pagination",children:[(0,Ox.jsx)("button",{disabled:!0,children:"Previous"}),(0,Ox.jsx)("span",{children:"Page 1 of 1"}),(0,Ox.jsx)("button",{disabled:!0,children:"Next"})]}),(0,Ox.jsxs)("div",{className:"total-count",children:["Showing ",N.length," of ",a.length," electricians"]})]})]}),"bookings"===i&&(0,Ox.jsxs)("div",{className:"bookings-tab",children:[(0,Ox.jsxs)("div",{className:"tab-header",children:[(0,Ox.jsxs)("h1",{children:[(0,Ox.jsx)(xt,{})," Booking Management"]}),(0,Ox.jsxs)("div",{className:"controls",children:[(0,Ox.jsxs)("div",{className:"search-box",children:[(0,Ox.jsx)(Xt,{}),(0,Ox.jsx)("input",{type:"text",placeholder:"Search bookings...",value:y,onChange:e=>b(e.target.value)})]}),(0,Ox.jsxs)("div",{className:"filter-dropdown",children:[(0,Ox.jsx)(Pt,{}),(0,Ox.jsxs)("select",{value:w,onChange:e=>x(e.target.value),children:[(0,Ox.jsx)("option",{value:"all",children:"All Statuses"}),(0,Ox.jsx)("option",{value:"pending",children:"Pending"}),(0,Ox.jsx)("option",{value:"confirmed",children:"Confirmed"}),(0,Ox.jsx)("option",{value:"completed",children:"Completed"}),(0,Ox.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]})]})]}),(0,Ox.jsx)("div",{className:"table-container",children:(0,Ox.jsxs)("table",{children:[(0,Ox.jsx)("thead",{children:(0,Ox.jsxs)("tr",{children:[(0,Ox.jsx)("th",{children:"Customer"}),(0,Ox.jsx)("th",{children:"Electrician"}),(0,Ox.jsx)("th",{children:"Phone"}),(0,Ox.jsx)("th",{children:"Status"}),(0,Ox.jsx)("th",{children:"Actions"})]})}),(0,Ox.jsx)("tbody",{children:I.length>0?I.map((e=>{var t,n;return(0,Ox.jsxs)("tr",{children:[(0,Ox.jsx)("td",{children:(0,Ox.jsxs)("div",{className:"user-cell",children:[(0,Ox.jsx)("div",{className:"avatar",children:(null===(t=e.customerName)||void 0===t?void 0:t.charAt(0))||"C"}),(0,Ox.jsx)("div",{children:(0,Ox.jsx)("strong",{children:e.customerName})})]})}),(0,Ox.jsx)("td",{children:e.electricianName?(0,Ox.jsxs)("div",{className:"user-cell",children:[(0,Ox.jsx)("div",{className:"avatar electrician",children:(null===(n=e.electricianName)||void 0===n?void 0:n.charAt(0))||"E"}),(0,Ox.jsx)("div",{children:(0,Ox.jsx)("strong",{children:e.electricianName})})]}):(0,Ox.jsx)("span",{className:"unassigned",children:"Unassigned"})}),(0,Ox.jsx)("td",{children:e.customerPhone}),(0,Ox.jsx)("td",{children:(0,Ox.jsx)("div",{className:`status-cell ${e.status}`,children:e.status})}),(0,Ox.jsx)("td",{children:(0,Ox.jsx)("div",{className:"actions-cell",children:(0,Ox.jsxs)("button",{className:"view-btn",onClick:()=>f(e),children:[(0,Ox.jsx)(jt,{})," View"]})})})]},e.id)})):(0,Ox.jsx)("tr",{children:(0,Ox.jsx)("td",{colSpan:"5",className:"no-results",children:"No bookings found matching your criteria"})})})]})}),(0,Ox.jsxs)("div",{className:"table-footer",children:[(0,Ox.jsxs)("div",{className:"pagination",children:[(0,Ox.jsx)("button",{disabled:!0,children:"Previous"}),(0,Ox.jsx)("span",{children:"Page 1 of 1"}),(0,Ox.jsx)("button",{disabled:!0,children:"Next"})]}),(0,Ox.jsxs)("div",{className:"total-count",children:["Showing ",I.length," of ",l.length," bookings"]})]})]}),"add-electrician"===i&&(0,Ox.jsxs)("div",{className:"add-electrician-tab",children:[(0,Ox.jsxs)("h1",{children:[(0,Ox.jsx)(dn,{})," ",_.id?"Edit Electrician":"Add New Electrician"]}),(0,Ox.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=await lw(ib(Px,"serviceAgents"),{..._,status:"Pending",timestamp:new Date});o([...a,{id:e.id,..._,status:"Pending"}]),E({fullName:"",phone:"",alternatePhone:"",email:"",specification:"",serviceAreas:"",age:"",gender:""}),R("Electrician added successfully!","success")}catch(t){console.error("Error adding electrician: ",t),R("Failed to add electrician.","error")}},children:[(0,Ox.jsxs)("div",{className:"form-grid",children:[(0,Ox.jsxs)("div",{className:"form-section",children:[(0,Ox.jsx)("h3",{children:"Basic Information"}),(0,Ox.jsxs)("div",{className:"form-group",children:[(0,Ox.jsx)("label",{children:"Full Name *"}),(0,Ox.jsx)("input",{type:"text",value:_.fullName,onChange:e=>E({..._,fullName:e.target.value}),required:!0})]}),(0,Ox.jsxs)("div",{className:"form-row",children:[(0,Ox.jsxs)("div",{className:"form-group",children:[(0,Ox.jsx)("label",{children:"Phone Number *"}),(0,Ox.jsx)("input",{type:"tel",value:_.phone,onChange:e=>E({..._,phone:e.target.value}),required:!0})]}),(0,Ox.jsxs)("div",{className:"form-group",children:[(0,Ox.jsx)("label",{children:"Alternate Phone"}),(0,Ox.jsx)("input",{type:"tel",value:_.alternatePhone,onChange:e=>E({..._,alternatePhone:e.target.value})})]})]}),(0,Ox.jsxs)("div",{className:"form-group",children:[(0,Ox.jsx)("label",{children:"Email Address *"}),(0,Ox.jsx)("input",{type:"email",value:_.email,onChange:e=>E({..._,email:e.target.value}),required:!0})]})]}),(0,Ox.jsxs)("div",{className:"form-section",children:[(0,Ox.jsx)("h3",{children:"Professional Details"}),(0,Ox.jsxs)("div",{className:"form-group",children:[(0,Ox.jsx)("label",{children:"Specialization *"}),(0,Ox.jsx)("input",{type:"text",value:_.specification,onChange:e=>E({..._,specification:e.target.value}),required:!0})]}),(0,Ox.jsxs)("div",{className:"form-group",children:[(0,Ox.jsx)("label",{children:"Service Areas *"}),(0,Ox.jsx)("input",{type:"text",value:_.serviceAreas,onChange:e=>E({..._,serviceAreas:e.target.value}),required:!0})]})]}),(0,Ox.jsxs)("div",{className:"form-section",children:[(0,Ox.jsx)("h3",{children:"Personal Information"}),(0,Ox.jsxs)("div",{className:"form-row",children:[(0,Ox.jsxs)("div",{className:"form-group",children:[(0,Ox.jsx)("label",{children:"Age *"}),(0,Ox.jsx)("input",{type:"number",min:"18",value:_.age,onChange:e=>E({..._,age:e.target.value}),required:!0})]}),(0,Ox.jsxs)("div",{className:"form-group",children:[(0,Ox.jsx)("label",{children:"Gender *"}),(0,Ox.jsxs)("select",{value:_.gender,onChange:e=>E({..._,gender:e.target.value}),required:!0,children:[(0,Ox.jsx)("option",{value:"",children:"Select Gender"}),(0,Ox.jsx)("option",{value:"Male",children:"Male"}),(0,Ox.jsx)("option",{value:"Female",children:"Female"}),(0,Ox.jsx)("option",{value:"Other",children:"Other"})]})]})]}),(0,Ox.jsxs)("div",{className:"form-group",children:[(0,Ox.jsx)("label",{children:"Profile Photo"}),(0,Ox.jsxs)("div",{className:"file-upload",children:[(0,Ox.jsx)("input",{type:"file",id:"profile-photo",accept:"image/*"}),(0,Ox.jsx)("label",{htmlFor:"profile-photo",children:"Choose File"}),(0,Ox.jsx)("span",{children:"No file chosen"})]})]})]})]}),(0,Ox.jsxs)("div",{className:"form-actions",children:[(0,Ox.jsx)("button",{type:"button",className:"cancel-btn",children:"Cancel"}),(0,Ox.jsx)("button",{type:"submit",className:"submit-btn",children:_.id?"Update Electrician":"Add Electrician"})]})]})]}),"settings"===i&&(0,Ox.jsxs)("div",{className:"settings-tab",children:[(0,Ox.jsxs)("h1",{children:[(0,Ox.jsx)(ej,{})," Admin Settings"]}),(0,Ox.jsxs)("div",{className:"settings-grid",children:[(0,Ox.jsxs)("div",{className:"settings-card",children:[(0,Ox.jsx)("h3",{children:"Account Settings"}),(0,Ox.jsxs)("div",{className:"settings-form",children:[(0,Ox.jsxs)("div",{className:"form-group",children:[(0,Ox.jsx)("label",{children:"Admin Name"}),(0,Ox.jsx)("input",{type:"text",value:"Admin User"})]}),(0,Ox.jsxs)("div",{className:"form-group",children:[(0,Ox.jsx)("label",{children:"Email"}),(0,Ox.jsx)("input",{type:"email",value:"admin@electroservice.com"})]}),(0,Ox.jsx)("button",{className:"save-btn",children:"Save Changes"})]})]}),(0,Ox.jsxs)("div",{className:"settings-card",children:[(0,Ox.jsx)("h3",{children:"System Preferences"}),(0,Ox.jsxs)("div",{className:"preferences",children:[(0,Ox.jsxs)("div",{className:"preference-item",children:[(0,Ox.jsx)("label",{children:"Dark Mode"}),(0,Ox.jsxs)("label",{className:"switch",children:[(0,Ox.jsx)("input",{type:"checkbox"}),(0,Ox.jsx)("span",{className:"slider"})]})]}),(0,Ox.jsxs)("div",{className:"preference-item",children:[(0,Ox.jsx)("label",{children:"Notifications"}),(0,Ox.jsxs)("label",{className:"switch",children:[(0,Ox.jsx)("input",{type:"checkbox",checked:!0}),(0,Ox.jsx)("span",{className:"slider"})]})]})]})]})]})]}),u&&(0,Ox.jsxs)("div",{className:"document-modal",children:[(0,Ox.jsx)("div",{className:"modal-overlay",onClick:()=>h(null)}),(0,Ox.jsxs)("div",{className:"modal-content",children:[(0,Ox.jsxs)("div",{className:"modal-header",children:[(0,Ox.jsxs)("h2",{children:[u.fullName,"'s Documents"]}),(0,Ox.jsx)("button",{className:"close-btn",onClick:()=>h(null),children:"\xd7"})]}),(0,Ox.jsxs)("div",{className:"modal-body",children:[(0,Ox.jsxs)("div",{className:"electrician-info",children:[(0,Ox.jsx)("div",{className:"avatar",children:(null===(t=u.fullName)||void 0===t?void 0:t.charAt(0))||"E"}),(0,Ox.jsxs)("div",{children:[(0,Ox.jsx)("h3",{children:u.fullName}),(0,Ox.jsx)("p",{children:u.specification}),(0,Ox.jsx)("p",{children:u.serviceAreas})]})]}),(0,Ox.jsxs)("div",{className:"documents-grid",children:[(0,Ox.jsxs)("div",{className:"document-card",children:[(0,Ox.jsx)("h4",{children:"Government ID"}),u.governmentId?(0,Ox.jsxs)("div",{className:"document-preview",children:[(0,Ox.jsx)("img",{src:u.governmentId,alt:"Government ID"}),(0,Ox.jsx)("a",{href:u.governmentId,target:"_blank",rel:"noopener noreferrer",className:"view-full",children:"View Full Document"})]}):(0,Ox.jsxs)("div",{className:"document-missing",children:[(0,Ox.jsx)(an,{}),(0,Ox.jsx)("p",{children:"Document not uploaded"})]})]}),(0,Ox.jsxs)("div",{className:"document-card",children:[(0,Ox.jsx)("h4",{children:"Professional License"}),u.licenseNumber?(0,Ox.jsxs)("div",{className:"document-preview",children:[(0,Ox.jsx)("img",{src:u.licenseNumber,alt:"Professional License"}),(0,Ox.jsx)("a",{href:u.licenseNumber,target:"_blank",rel:"noopener noreferrer",className:"view-full",children:"View Full Document"})]}):(0,Ox.jsxs)("div",{className:"document-missing",children:[(0,Ox.jsx)(an,{}),(0,Ox.jsx)("p",{children:"Document not uploaded"})]})]})]}),(0,Ox.jsxs)("div",{className:"modal-actions",children:["Verified"!==u.status&&(0,Ox.jsxs)("button",{className:"verify-btn",onClick:()=>{A(u.id),h(null)},children:[(0,Ox.jsx)(Et,{})," Verify Electrician"]}),(0,Ox.jsx)("button",{className:"close-modal-btn",onClick:()=>h(null),children:"Close"})]})]})]})]}),d&&(0,Ox.jsxs)("div",{className:"booking-modal active",children:[(0,Ox.jsx)("div",{className:"modal-overlay",onClick:()=>f(null)}),(0,Ox.jsxs)("div",{className:"modal-content",children:[(0,Ox.jsxs)("div",{className:"modal-header",children:[(0,Ox.jsx)("h2",{children:"Booking Details"}),(0,Ox.jsx)("button",{className:"close-btn",onClick:()=>f(null),children:"\xd7"})]}),(0,Ox.jsxs)("div",{className:"modal-body",children:[(0,Ox.jsxs)("div",{className:"booking-info",children:[(0,Ox.jsxs)("div",{className:"info-grid",children:[(0,Ox.jsxs)("div",{className:"info-item",children:[(0,Ox.jsx)("h4",{children:"Booking ID"}),(0,Ox.jsxs)("p",{children:["#",d.id.substring(0,8)]})]}),(0,Ox.jsxs)("div",{className:"info-item",children:[(0,Ox.jsx)("h4",{children:"Status"}),(0,Ox.jsx)("p",{className:`status-badge ${d.status}`,children:d.status})]}),(0,Ox.jsxs)("div",{className:"info-item",children:[(0,Ox.jsx)("h4",{children:"Booking Date"}),(0,Ox.jsxs)("p",{children:[d.bookingDate," at ",d.timeSlot]})]}),(0,Ox.jsxs)("div",{className:"info-item",children:[(0,Ox.jsx)("h4",{children:"Created At"}),(0,Ox.jsx)("p",{children:new Date(d.createdAt).toLocaleString()})]})]}),(0,Ox.jsxs)("div",{className:"section",children:[(0,Ox.jsx)("h3",{children:"Customer Details"}),(0,Ox.jsxs)("div",{className:"user-details",children:[(0,Ox.jsx)("div",{className:"avatar",children:(null===(n=d.customerName)||void 0===n?void 0:n.charAt(0))||"C"}),(0,Ox.jsxs)("div",{children:[(0,Ox.jsx)("h4",{children:d.customerName}),(0,Ox.jsx)("p",{children:d.customerPhone}),(0,Ox.jsx)("p",{children:d.customerEmail||"No email provided"})]})]})]}),(0,Ox.jsxs)("div",{className:"section",children:[(0,Ox.jsx)("h3",{children:"Service Details"}),(0,Ox.jsxs)("div",{className:"info-grid",children:[(0,Ox.jsxs)("div",{className:"info-item",children:[(0,Ox.jsx)("h4",{children:"Service Type"}),(0,Ox.jsx)("p",{children:d.problemDescription})]}),(0,Ox.jsxs)("div",{className:"info-item",children:[(0,Ox.jsx)("h4",{children:"Address"}),(0,Ox.jsx)("p",{children:d.address}),(0,Ox.jsxs)("small",{children:["Pincode: ",d.pincode]})]})]})]}),d.electricianName&&(0,Ox.jsxs)("div",{className:"section",children:[(0,Ox.jsx)("h3",{children:"Electrician Details"}),(0,Ox.jsxs)("div",{className:"user-details",children:[(0,Ox.jsx)("div",{className:"avatar electrician",children:(null===(r=d.electricianName)||void 0===r?void 0:r.charAt(0))||"E"}),(0,Ox.jsxs)("div",{children:[(0,Ox.jsx)("h4",{children:d.electricianName}),(0,Ox.jsx)("p",{children:d.electricianPhone}),(0,Ox.jsxs)("small",{children:["ID: ",d.electricianId]})]})]})]}),(0,Ox.jsxs)("div",{className:"section",children:[(0,Ox.jsx)("h3",{children:"Additional Information"}),(0,Ox.jsxs)("div",{className:"info-grid",children:[(0,Ox.jsxs)("div",{className:"info-item",children:[(0,Ox.jsx)("h4",{children:"Preferred Time"}),(0,Ox.jsx)("p",{children:d.timeSlot})]}),(0,Ox.jsxs)("div",{className:"info-item",children:[(0,Ox.jsx)("h4",{children:"Special Requirements"}),(0,Ox.jsx)("p",{children:d.specialRequirements||"None"})]})]})]})]}),(0,Ox.jsxs)("div",{className:"modal-actions",children:[(0,Ox.jsxs)("div",{className:"status-actions",children:["confirmed"!==d.status&&(0,Ox.jsx)("button",{className:"confirm-btn",onClick:()=>{P(d.id,"confirmed"),f(null)},children:"Confirm Booking"}),"completed"!==d.status&&(0,Ox.jsx)("button",{className:"complete-btn",onClick:()=>{P(d.id,"completed"),f(null)},children:"Mark as Completed"}),"cancelled"!==d.status&&(0,Ox.jsx)("button",{className:"cancel-btn",onClick:()=>{P(d.id,"cancelled"),f(null)},children:"Cancel Booking"})]}),(0,Ox.jsx)("button",{className:"close-modal-btn",onClick:()=>f(null),children:"Close"})]})]})]})]})]})]})};var nj=n(794),rj=n.n(nj);const ij=function(){return(0,Ox.jsxs)(Ye,{children:[(0,Ox.jsx)(Lx,{}),(0,Ox.jsxs)(ge,{children:[(0,Ox.jsx)(pe,{path:"/signup/Login",element:(0,Ox.jsx)(zx,{})}),(0,Ox.jsx)(pe,{path:"/products",element:(0,Ox.jsx)($x,{})}),(0,Ox.jsx)(pe,{path:"/product-detail",element:(0,Ox.jsx)(Bx,{})}),(0,Ox.jsx)(pe,{path:"/service-agent-registration",element:(0,Ox.jsx)(GI,{})}),(0,Ox.jsx)(pe,{path:"/book-service/:serviceId",element:(0,Ox.jsx)(XI,{})}),(0,Ox.jsx)(pe,{path:"/Home",element:(0,Ox.jsx)(YI,{children:(0,Ox.jsx)(Mx,{})})}),(0,Ox.jsx)(pe,{path:"/repair-services",element:(0,Ox.jsx)(YI,{children:(0,Ox.jsx)(JI,{})})}),(0,Ox.jsx)(pe,{path:"/repair-booking",element:(0,Ox.jsx)(YI,{children:(0,Ox.jsx)(XI,{})})}),(0,Ox.jsx)(pe,{path:"/profile",element:(0,Ox.jsx)(YI,{children:(0,Ox.jsx)(QI,{})})}),(0,Ox.jsx)(pe,{path:"/admin",element:(0,Ox.jsx)(YI,{adminOnly:!0,children:(0,Ox.jsx)(tj,{})})}),(0,Ox.jsx)(pe,{path:"/add-electrician",element:(0,Ox.jsx)(YI,{adminOnly:!0,children:(0,Ox.jsx)(rj(),{})})})]})]})},sj=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:a}=t;n(e),r(e),i(e),s(e),a(e)}))};t.createRoot(document.getElementById("root")).render((0,Ox.jsx)(e.StrictMode,{children:(0,Ox.jsx)(ij,{})})),sj()})()})();
//# sourceMappingURL=main.a89c2ac3.js.map